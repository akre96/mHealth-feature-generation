
<html>
  <head>
    <title>Scalene</title>
    <link rel="icon" href="https://raw.githubusercontent.com/plasma-umass/scalene/master/scalene/scalene-gui/favicon.ico" type="image/x-icon">
    <!-- Latest compiled and minified CSS -->
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <style>
body { 
  padding: 0 0 90px 0;
}
    </style>
    <style>
/* PrismJS 1.26.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+python&plugins=normalize-whitespace */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

      
    </style>
    <style>
      .table-condensed>thead>tr>th, .table-condensed>tbody>tr>th, .table-condensed>tfoot>tr>th, .table-condensed>thead>tr>td, .table-condensed>tbody>tr>td, .table-condensed>tfoot>tr>td{
	  padding: 1px; border-spacing: 0px; border:none;
      }
    form label:hover, form button:hover {
      background-color: black;
      color: white;
    }

    form label:active, form button:active {
      background-color: blue;
      color: white;
    }      
    </style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4JXPHEBMTY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      gtag('config', 'G-4JXPHEBMTY');
    </script>

    <script>
/* PrismJS 1.26.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+python&plugins=normalize-whitespace */
/// <reference lib="WebWorker"/>

var _self =
  typeof window !== "undefined"
    ? window // if in browser
    : typeof WorkerGlobalScope !== "undefined" &&
      self instanceof WorkerGlobalScope
    ? self // if in worker
    : {}; // if in node js

/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */
var Prism = (function (_self) {
  // Private helper vars
  var lang = /(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i;
  var uniqueId = 0;

  // The grammar object for plaintext
  var plainTextGrammar = {};

  var _ = {
    /**
     * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the
     * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load
     * additional languages or plugins yourself.
     *
     * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.
     *
     * You obviously have to change this value before the automatic highlighting started. To do this, you can add an
     * empty Prism object into the global scope before loading the Prism script like this:
     *
     * ```js
     * window.Prism = window.Prism || {};
     * Prism.manual = true;
     * // add a new <script> to load Prism's script
     * ```
     *
     * @default false
     * @type {boolean}
     * @memberof Prism
     * @public
     */
    manual: _self.Prism && _self.Prism.manual,
    /**
     * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses
     * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your
     * own worker, you don't want it to do this.
     *
     * By setting this value to `true`, Prism will not add its own listeners to the worker.
     *
     * You obviously have to change this value before Prism executes. To do this, you can add an
     * empty Prism object into the global scope before loading the Prism script like this:
     *
     * ```js
     * window.Prism = window.Prism || {};
     * Prism.disableWorkerMessageHandler = true;
     * // Load Prism's script
     * ```
     *
     * @default false
     * @type {boolean}
     * @memberof Prism
     * @public
     */
    disableWorkerMessageHandler:
      _self.Prism && _self.Prism.disableWorkerMessageHandler,

    /**
     * A namespace for utility methods.
     *
     * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may
     * change or disappear at any time.
     *
     * @namespace
     * @memberof Prism
     */
    util: {
      encode: function encode(tokens) {
        if (tokens instanceof Token) {
          return new Token(tokens.type, encode(tokens.content), tokens.alias);
        } else if (Array.isArray(tokens)) {
          return tokens.map(encode);
        } else {
          return tokens
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/\u00a0/g, " ");
        }
      },

      /**
       * Returns the name of the type of the given value.
       *
       * @param {any} o
       * @returns {string}
       * @example
       * type(null)      === 'Null'
       * type(undefined) === 'Undefined'
       * type(123)       === 'Number'
       * type('foo')     === 'String'
       * type(true)      === 'Boolean'
       * type([1, 2])    === 'Array'
       * type({})        === 'Object'
       * type(String)    === 'Function'
       * type(/abc+/)    === 'RegExp'
       */
      type: function (o) {
        return Object.prototype.toString.call(o).slice(8, -1);
      },

      /**
       * Returns a unique number for the given object. Later calls will still return the same number.
       *
       * @param {Object} obj
       * @returns {number}
       */
      objId: function (obj) {
        if (!obj["__id"]) {
          Object.defineProperty(obj, "__id", { value: ++uniqueId });
        }
        return obj["__id"];
      },

      /**
       * Creates a deep clone of the given object.
       *
       * The main intended use of this function is to clone language definitions.
       *
       * @param {T} o
       * @param {Record<number, any>} [visited]
       * @returns {T}
       * @template T
       */
      clone: function deepClone(o, visited) {
        visited = visited || {};

        var clone;
        var id;
        switch (_.util.type(o)) {
          case "Object":
            id = _.util.objId(o);
            if (visited[id]) {
              return visited[id];
            }
            clone = /** @type {Record<string, any>} */ ({});
            visited[id] = clone;

            for (var key in o) {
              if (o.hasOwnProperty(key)) {
                clone[key] = deepClone(o[key], visited);
              }
            }

            return /** @type {any} */ (clone);

          case "Array":
            id = _.util.objId(o);
            if (visited[id]) {
              return visited[id];
            }
            clone = [];
            visited[id] = clone;

            /** @type {Array} */ (/** @type {any} */ (o)).forEach(function (
              v,
              i
            ) {
              clone[i] = deepClone(v, visited);
            });

            return /** @type {any} */ (clone);

          default:
            return o;
        }
      },

      /**
       * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.
       *
       * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.
       *
       * @param {Element} element
       * @returns {string}
       */
      getLanguage: function (element) {
        while (element) {
          var m = lang.exec(element.className);
          if (m) {
            return m[1].toLowerCase();
          }
          element = element.parentElement;
        }
        return "none";
      },

      /**
       * Sets the Prism `language-xxxx` class of the given element.
       *
       * @param {Element} element
       * @param {string} language
       * @returns {void}
       */
      setLanguage: function (element, language) {
        // remove all `language-xxxx` classes
        // (this might leave behind a leading space)
        element.className = element.className.replace(RegExp(lang, "gi"), "");

        // add the new `language-xxxx` class
        // (using `classList` will automatically clean up spaces for us)
        element.classList.add("language-" + language);
      },

      /**
       * Returns the script element that is currently executing.
       *
       * This does __not__ work for line script element.
       *
       * @returns {HTMLScriptElement | null}
       */
      currentScript: function () {
        if (typeof document === "undefined") {
          return null;
        }
        if (
          "currentScript" in document &&
          1 < 2 /* hack to trip TS' flow analysis */
        ) {
          return /** @type {any} */ (document.currentScript);
        }

        // IE11 workaround
        // we'll get the src of the current script by parsing IE11's error stack trace
        // this will not work for inline scripts

        try {
          throw new Error();
        } catch (err) {
          // Get file src url from stack. Specifically works with the format of stack traces in IE.
          // A stack will look like this:
          //
          // Error
          //    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)
          //    at Global code (http://localhost/components/prism-core.js:606:1)

          var src = (/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(err.stack) ||
            [])[1];
          if (src) {
            var scripts = document.getElementsByTagName("script");
            for (var i in scripts) {
              if (scripts[i].src == src) {
                return scripts[i];
              }
            }
          }
          return null;
        }
      },

      /**
       * Returns whether a given class is active for `element`.
       *
       * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated
       * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the
       * given class is just the given class with a `no-` prefix.
       *
       * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is
       * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its
       * ancestors have the given class or the negated version of it, then the default activation will be returned.
       *
       * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated
       * version of it, the class is considered active.
       *
       * @param {Element} element
       * @param {string} className
       * @param {boolean} [defaultActivation=false]
       * @returns {boolean}
       */
      isActive: function (element, className, defaultActivation) {
        var no = "no-" + className;

        while (element) {
          var classList = element.classList;
          if (classList.contains(className)) {
            return true;
          }
          if (classList.contains(no)) {
            return false;
          }
          element = element.parentElement;
        }
        return !!defaultActivation;
      },
    },

    /**
     * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.
     *
     * @namespace
     * @memberof Prism
     * @public
     */
    languages: {
      /**
       * The grammar for plain, unformatted text.
       */
      plain: plainTextGrammar,
      plaintext: plainTextGrammar,
      text: plainTextGrammar,
      txt: plainTextGrammar,

      /**
       * Creates a deep copy of the language with the given id and appends the given tokens.
       *
       * If a token in `redef` also appears in the copied language, then the existing token in the copied language
       * will be overwritten at its original position.
       *
       * ## Best practices
       *
       * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)
       * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to
       * understand the language definition because, normally, the order of tokens matters in Prism grammars.
       *
       * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.
       * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.
       *
       * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.
       * @param {Grammar} redef The new tokens to append.
       * @returns {Grammar} The new language created.
       * @public
       * @example
       * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {
       *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token
       *     // at its original position
       *     'comment': { ... },
       *     // CSS doesn't have a 'color' token, so this token will be appended
       *     'color': /\b(?:red|green|blue)\b/
       * });
       */
      extend: function (id, redef) {
        var lang = _.util.clone(_.languages[id]);

        for (var key in redef) {
          lang[key] = redef[key];
        }

        return lang;
      },

      /**
       * Inserts tokens _before_ another token in a language definition or any other grammar.
       *
       * ## Usage
       *
       * This helper method makes it easy to modify existing languages. For example, the CSS language definition
       * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded
       * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the
       * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do
       * this:
       *
       * ```js
       * Prism.languages.markup.style = {
       *     // token
       * };
       * ```
       *
       * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens
       * before existing tokens. For the CSS example above, you would use it like this:
       *
       * ```js
       * Prism.languages.insertBefore('markup', 'cdata', {
       *     'style': {
       *         // token
       *     }
       * });
       * ```
       *
       * ## Special cases
       *
       * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar
       * will be ignored.
       *
       * This behavior can be used to insert tokens after `before`:
       *
       * ```js
       * Prism.languages.insertBefore('markup', 'comment', {
       *     'comment': Prism.languages.markup.comment,
       *     // tokens after 'comment'
       * });
       * ```
       *
       * ## Limitations
       *
       * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object
       * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave
       * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily
       * deleting properties which is necessary to insert at arbitrary positions.
       *
       * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.
       * Instead, it will create a new object and replace all references to the target object with the new one. This
       * can be done without temporarily deleting properties, so the iteration order is well-defined.
       *
       * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if
       * you hold the target object in a variable, then the value of the variable will not change.
       *
       * ```js
       * var oldMarkup = Prism.languages.markup;
       * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });
       *
       * assert(oldMarkup !== Prism.languages.markup);
       * assert(newMarkup === Prism.languages.markup);
       * ```
       *
       * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the
       * object to be modified.
       * @param {string} before The key to insert before.
       * @param {Grammar} insert An object containing the key-value pairs to be inserted.
       * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the
       * object to be modified.
       *
       * Defaults to `Prism.languages`.
       * @returns {Grammar} The new grammar object.
       * @public
       */
      insertBefore: function (inside, before, insert, root) {
        root = root || /** @type {any} */ (_.languages);
        var grammar = root[inside];
        /** @type {Grammar} */
        var ret = {};

        for (var token in grammar) {
          if (grammar.hasOwnProperty(token)) {
            if (token == before) {
              for (var newToken in insert) {
                if (insert.hasOwnProperty(newToken)) {
                  ret[newToken] = insert[newToken];
                }
              }
            }

            // Do not insert token which also occur in insert. See #1525
            if (!insert.hasOwnProperty(token)) {
              ret[token] = grammar[token];
            }
          }
        }

        var old = root[inside];
        root[inside] = ret;

        // Update references in other language definitions
        _.languages.DFS(_.languages, function (key, value) {
          if (value === old && key != inside) {
            this[key] = ret;
          }
        });

        return ret;
      },

      // Traverse a language definition with Depth First Search
      DFS: function DFS(o, callback, type, visited) {
        visited = visited || {};

        var objId = _.util.objId;

        for (var i in o) {
          if (o.hasOwnProperty(i)) {
            callback.call(o, i, o[i], type || i);

            var property = o[i];
            var propertyType = _.util.type(property);

            if (propertyType === "Object" && !visited[objId(property)]) {
              visited[objId(property)] = true;
              DFS(property, callback, null, visited);
            } else if (propertyType === "Array" && !visited[objId(property)]) {
              visited[objId(property)] = true;
              DFS(property, callback, i, visited);
            }
          }
        }
      },
    },

    plugins: {},

    /**
     * This is the most high-level function in Prism’s API.
     * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on
     * each one of them.
     *
     * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.
     *
     * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.
     * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.
     * @memberof Prism
     * @public
     */
    highlightAll: function (async, callback) {
      _.highlightAllUnder(document, async, callback);
    },

    /**
     * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls
     * {@link Prism.highlightElement} on each one of them.
     *
     * The following hooks will be run:
     * 1. `before-highlightall`
     * 2. `before-all-elements-highlight`
     * 3. All hooks of {@link Prism.highlightElement} for each element.
     *
     * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.
     * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.
     * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.
     * @memberof Prism
     * @public
     */
    highlightAllUnder: function (container, async, callback) {
      var env = {
        callback: callback,
        container: container,
        selector:
          'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code',
      };

      _.hooks.run("before-highlightall", env);

      env.elements = Array.prototype.slice.apply(
        env.container.querySelectorAll(env.selector)
      );

      _.hooks.run("before-all-elements-highlight", env);

      for (var i = 0, element; (element = env.elements[i++]); ) {
        _.highlightElement(element, async === true, env.callback);
      }
    },

    /**
     * Highlights the code inside a single element.
     *
     * The following hooks will be run:
     * 1. `before-sanity-check`
     * 2. `before-highlight`
     * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.
     * 4. `before-insert`
     * 5. `after-highlight`
     * 6. `complete`
     *
     * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for
     * the element's language.
     *
     * @param {Element} element The element containing the code.
     * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.
     * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers
     * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is
     * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).
     *
     * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for
     * asynchronous highlighting to work. You can build your own bundle on the
     * [Download page](https://prismjs.com/download.html).
     * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.
     * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.
     * @memberof Prism
     * @public
     */
    highlightElement: function (element, async, callback) {
      // Find language
      var language = _.util.getLanguage(element);
      var grammar = _.languages[language];

      // Set language on the element, if not present
      _.util.setLanguage(element, language);

      // Set language on the parent, for styling
      var parent = element.parentElement;
      if (parent && parent.nodeName.toLowerCase() === "pre") {
        _.util.setLanguage(parent, language);
      }

      var code = element.textContent;

      var env = {
        element: element,
        language: language,
        grammar: grammar,
        code: code,
      };

      function insertHighlightedCode(highlightedCode) {
        env.highlightedCode = highlightedCode;

        _.hooks.run("before-insert", env);

        env.element.innerHTML = env.highlightedCode;

        _.hooks.run("after-highlight", env);
        _.hooks.run("complete", env);
        callback && callback.call(env.element);
      }

      _.hooks.run("before-sanity-check", env);

      // plugins may change/add the parent/element
      parent = env.element.parentElement;
      if (
        parent &&
        parent.nodeName.toLowerCase() === "pre" &&
        !parent.hasAttribute("tabindex")
      ) {
        parent.setAttribute("tabindex", "0");
      }

      if (!env.code) {
        _.hooks.run("complete", env);
        callback && callback.call(env.element);
        return;
      }

      _.hooks.run("before-highlight", env);

      if (!env.grammar) {
        insertHighlightedCode(_.util.encode(env.code));
        return;
      }

      if (async && _self.Worker) {
        var worker = new Worker(_.filename);

        worker.onmessage = function (evt) {
          insertHighlightedCode(evt.data);
        };

        worker.postMessage(
          JSON.stringify({
            language: env.language,
            code: env.code,
            immediateClose: true,
          })
        );
      } else {
        insertHighlightedCode(_.highlight(env.code, env.grammar, env.language));
      }
    },

    /**
     * Low-level function, only use if you know what you’re doing. It accepts a string of text as input
     * and the language definitions to use, and returns a string with the HTML produced.
     *
     * The following hooks will be run:
     * 1. `before-tokenize`
     * 2. `after-tokenize`
     * 3. `wrap`: On each {@link Token}.
     *
     * @param {string} text A string with the code to be highlighted.
     * @param {Grammar} grammar An object containing the tokens to use.
     *
     * Usually a language definition like `Prism.languages.markup`.
     * @param {string} language The name of the language definition passed to `grammar`.
     * @returns {string} The highlighted HTML.
     * @memberof Prism
     * @public
     * @example
     * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');
     */
    highlight: function (text, grammar, language) {
      var env = {
        code: text,
        grammar: grammar,
        language: language,
      };
      _.hooks.run("before-tokenize", env);
      env.tokens = _.tokenize(env.code, env.grammar);
      _.hooks.run("after-tokenize", env);
      return Token.stringify(_.util.encode(env.tokens), env.language);
    },

    /**
     * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input
     * and the language definitions to use, and returns an array with the tokenized code.
     *
     * When the language definition includes nested tokens, the function is called recursively on each of these tokens.
     *
     * This method could be useful in other contexts as well, as a very crude parser.
     *
     * @param {string} text A string with the code to be highlighted.
     * @param {Grammar} grammar An object containing the tokens to use.
     *
     * Usually a language definition like `Prism.languages.markup`.
     * @returns {TokenStream} An array of strings and tokens, a token stream.
     * @memberof Prism
     * @public
     * @example
     * let code = `var foo = 0;`;
     * let tokens = Prism.tokenize(code, Prism.languages.javascript);
     * tokens.forEach(token => {
     *     if (token instanceof Prism.Token && token.type === 'number') {
     *         console.log(`Found numeric literal: ${token.content}`);
     *     }
     * });
     */
    tokenize: function (text, grammar) {
      var rest = grammar.rest;
      if (rest) {
        for (var token in rest) {
          grammar[token] = rest[token];
        }

        delete grammar.rest;
      }

      var tokenList = new LinkedList();
      addAfter(tokenList, tokenList.head, text);

      matchGrammar(text, tokenList, grammar, tokenList.head, 0);

      return toArray(tokenList);
    },

    /**
     * @namespace
     * @memberof Prism
     * @public
     */
    hooks: {
      all: {},

      /**
       * Adds the given callback to the list of callbacks for the given hook.
       *
       * The callback will be invoked when the hook it is registered for is run.
       * Hooks are usually directly run by a highlight function but you can also run hooks yourself.
       *
       * One callback function can be registered to multiple hooks and the same hook multiple times.
       *
       * @param {string} name The name of the hook.
       * @param {HookCallback} callback The callback function which is given environment variables.
       * @public
       */
      add: function (name, callback) {
        var hooks = _.hooks.all;

        hooks[name] = hooks[name] || [];

        hooks[name].push(callback);
      },

      /**
       * Runs a hook invoking all registered callbacks with the given environment variables.
       *
       * Callbacks will be invoked synchronously and in the order in which they were registered.
       *
       * @param {string} name The name of the hook.
       * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.
       * @public
       */
      run: function (name, env) {
        var callbacks = _.hooks.all[name];

        if (!callbacks || !callbacks.length) {
          return;
        }

        for (var i = 0, callback; (callback = callbacks[i++]); ) {
          callback(env);
        }
      },
    },

    Token: Token,
  };
  _self.Prism = _;

  // Typescript note:
  // The following can be used to import the Token type in JSDoc:
  //
  //   @typedef {InstanceType<import("./prism-core")["Token"]>} Token

  /**
   * Creates a new token.
   *
   * @param {string} type See {@link Token#type type}
   * @param {string | TokenStream} content See {@link Token#content content}
   * @param {string|string[]} [alias] The alias(es) of the token.
   * @param {string} [matchedStr=""] A copy of the full string this token was created from.
   * @class
   * @global
   * @public
   */
  function Token(type, content, alias, matchedStr) {
    /**
     * The type of the token.
     *
     * This is usually the key of a pattern in a {@link Grammar}.
     *
     * @type {string}
     * @see GrammarToken
     * @public
     */
    this.type = type;
    /**
     * The strings or tokens contained by this token.
     *
     * This will be a token stream if the pattern matched also defined an `inside` grammar.
     *
     * @type {string | TokenStream}
     * @public
     */
    this.content = content;
    /**
     * The alias(es) of the token.
     *
     * @type {string|string[]}
     * @see GrammarToken
     * @public
     */
    this.alias = alias;
    // Copy of the full string this token was created from
    this.length = (matchedStr || "").length | 0;
  }

  /**
   * A token stream is an array of strings and {@link Token Token} objects.
   *
   * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process
   * them.
   *
   * 1. No adjacent strings.
   * 2. No empty strings.
   *
   *    The only exception here is the token stream that only contains the empty string and nothing else.
   *
   * @typedef {Array<string | Token>} TokenStream
   * @global
   * @public
   */

  /**
   * Converts the given token or token stream to an HTML representation.
   *
   * The following hooks will be run:
   * 1. `wrap`: On each {@link Token}.
   *
   * @param {string | Token | TokenStream} o The token or token stream to be converted.
   * @param {string} language The name of current language.
   * @returns {string} The HTML representation of the token or token stream.
   * @memberof Token
   * @static
   */
  Token.stringify = function stringify(o, language) {
    if (typeof o == "string") {
      return o;
    }
    if (Array.isArray(o)) {
      var s = "";
      o.forEach(function (e) {
        s += stringify(e, language);
      });
      return s;
    }

    var env = {
      type: o.type,
      content: stringify(o.content, language),
      tag: "span",
      classes: ["token", o.type],
      attributes: {},
      language: language,
    };

    var aliases = o.alias;
    if (aliases) {
      if (Array.isArray(aliases)) {
        Array.prototype.push.apply(env.classes, aliases);
      } else {
        env.classes.push(aliases);
      }
    }

    _.hooks.run("wrap", env);

    var attributes = "";
    for (var name in env.attributes) {
      attributes +=
        " " +
        name +
        '="' +
        (env.attributes[name] || "").replace(/"/g, "&quot;") +
        '"';
    }

    return (
      "<" +
      env.tag +
      ' class="' +
      env.classes.join(" ") +
      '"' +
      attributes +
      ">" +
      env.content +
      "</" +
      env.tag +
      ">"
    );
  };

  /**
   * @param {RegExp} pattern
   * @param {number} pos
   * @param {string} text
   * @param {boolean} lookbehind
   * @returns {RegExpExecArray | null}
   */
  function matchPattern(pattern, pos, text, lookbehind) {
    pattern.lastIndex = pos;
    var match = pattern.exec(text);
    if (match && lookbehind && match[1]) {
      // change the match to remove the text matched by the Prism lookbehind group
      var lookbehindLength = match[1].length;
      match.index += lookbehindLength;
      match[0] = match[0].slice(lookbehindLength);
    }
    return match;
  }

  /**
   * @param {string} text
   * @param {LinkedList<string | Token>} tokenList
   * @param {any} grammar
   * @param {LinkedListNode<string | Token>} startNode
   * @param {number} startPos
   * @param {RematchOptions} [rematch]
   * @returns {void}
   * @private
   *
   * @typedef RematchOptions
   * @property {string} cause
   * @property {number} reach
   */
  function matchGrammar(
    text,
    tokenList,
    grammar,
    startNode,
    startPos,
    rematch
  ) {
    for (var token in grammar) {
      if (!grammar.hasOwnProperty(token) || !grammar[token]) {
        continue;
      }

      var patterns = grammar[token];
      patterns = Array.isArray(patterns) ? patterns : [patterns];

      for (var j = 0; j < patterns.length; ++j) {
        if (rematch && rematch.cause == token + "," + j) {
          return;
        }

        var patternObj = patterns[j];
        var inside = patternObj.inside;
        var lookbehind = !!patternObj.lookbehind;
        var greedy = !!patternObj.greedy;
        var alias = patternObj.alias;

        if (greedy && !patternObj.pattern.global) {
          // Without the global flag, lastIndex won't work
          var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];
          patternObj.pattern = RegExp(patternObj.pattern.source, flags + "g");
        }

        /** @type {RegExp} */
        var pattern = patternObj.pattern || patternObj;

        for (
          // iterate the token list and keep track of the current token/string position
          var currentNode = startNode.next, pos = startPos;
          currentNode !== tokenList.tail;
          pos += currentNode.value.length, currentNode = currentNode.next
        ) {
          if (rematch && pos >= rematch.reach) {
            break;
          }

          var str = currentNode.value;

          if (tokenList.length > text.length) {
            // Something went terribly wrong, ABORT, ABORT!
            return;
          }

          if (str instanceof Token) {
            continue;
          }

          var removeCount = 1; // this is the to parameter of removeBetween
          var match;

          if (greedy) {
            match = matchPattern(pattern, pos, text, lookbehind);
            if (!match || match.index >= text.length) {
              break;
            }

            var from = match.index;
            var to = match.index + match[0].length;
            var p = pos;

            // find the node that contains the match
            p += currentNode.value.length;
            while (from >= p) {
              currentNode = currentNode.next;
              p += currentNode.value.length;
            }
            // adjust pos (and p)
            p -= currentNode.value.length;
            pos = p;

            // the current node is a Token, then the match starts inside another Token, which is invalid
            if (currentNode.value instanceof Token) {
              continue;
            }

            // find the last node which is affected by this match
            for (
              var k = currentNode;
              k !== tokenList.tail && (p < to || typeof k.value === "string");
              k = k.next
            ) {
              removeCount++;
              p += k.value.length;
            }
            removeCount--;

            // replace with the new match
            str = text.slice(pos, p);
            match.index -= pos;
          } else {
            match = matchPattern(pattern, 0, str, lookbehind);
            if (!match) {
              continue;
            }
          }

          // eslint-disable-next-line no-redeclare
          var from = match.index;
          var matchStr = match[0];
          var before = str.slice(0, from);
          var after = str.slice(from + matchStr.length);

          var reach = pos + str.length;
          if (rematch && reach > rematch.reach) {
            rematch.reach = reach;
          }

          var removeFrom = currentNode.prev;

          if (before) {
            removeFrom = addAfter(tokenList, removeFrom, before);
            pos += before.length;
          }

          removeRange(tokenList, removeFrom, removeCount);

          var wrapped = new Token(
            token,
            inside ? _.tokenize(matchStr, inside) : matchStr,
            alias,
            matchStr
          );
          currentNode = addAfter(tokenList, removeFrom, wrapped);

          if (after) {
            addAfter(tokenList, currentNode, after);
          }

          if (removeCount > 1) {
            // at least one Token object was removed, so we have to do some rematching
            // this can only happen if the current pattern is greedy

            /** @type {RematchOptions} */
            var nestedRematch = {
              cause: token + "," + j,
              reach: reach,
            };
            matchGrammar(
              text,
              tokenList,
              grammar,
              currentNode.prev,
              pos,
              nestedRematch
            );

            // the reach might have been extended because of the rematching
            if (rematch && nestedRematch.reach > rematch.reach) {
              rematch.reach = nestedRematch.reach;
            }
          }
        }
      }
    }
  }

  /**
   * @typedef LinkedListNode
   * @property {T} value
   * @property {LinkedListNode<T> | null} prev The previous node.
   * @property {LinkedListNode<T> | null} next The next node.
   * @template T
   * @private
   */

  /**
   * @template T
   * @private
   */
  function LinkedList() {
    /** @type {LinkedListNode<T>} */
    var head = { value: null, prev: null, next: null };
    /** @type {LinkedListNode<T>} */
    var tail = { value: null, prev: head, next: null };
    head.next = tail;

    /** @type {LinkedListNode<T>} */
    this.head = head;
    /** @type {LinkedListNode<T>} */
    this.tail = tail;
    this.length = 0;
  }

  /**
   * Adds a new node with the given value to the list.
   *
   * @param {LinkedList<T>} list
   * @param {LinkedListNode<T>} node
   * @param {T} value
   * @returns {LinkedListNode<T>} The added node.
   * @template T
   */
  function addAfter(list, node, value) {
    // assumes that node != list.tail && values.length >= 0
    var next = node.next;

    var newNode = { value: value, prev: node, next: next };
    node.next = newNode;
    next.prev = newNode;
    list.length++;

    return newNode;
  }
  /**
   * Removes `count` nodes after the given node. The given node will not be removed.
   *
   * @param {LinkedList<T>} list
   * @param {LinkedListNode<T>} node
   * @param {number} count
   * @template T
   */
  function removeRange(list, node, count) {
    var next = node.next;
    for (var i = 0; i < count && next !== list.tail; i++) {
      next = next.next;
    }
    node.next = next;
    next.prev = node;
    list.length -= i;
  }
  /**
   * @param {LinkedList<T>} list
   * @returns {T[]}
   * @template T
   */
  function toArray(list) {
    var array = [];
    var node = list.head.next;
    while (node !== list.tail) {
      array.push(node.value);
      node = node.next;
    }
    return array;
  }

  if (!_self.document) {
    if (!_self.addEventListener) {
      // in Node.js
      return _;
    }

    if (!_.disableWorkerMessageHandler) {
      // In worker
      _self.addEventListener(
        "message",
        function (evt) {
          var message = JSON.parse(evt.data);
          var lang = message.language;
          var code = message.code;
          var immediateClose = message.immediateClose;

          _self.postMessage(_.highlight(code, _.languages[lang], lang));
          if (immediateClose) {
            _self.close();
          }
        },
        false
      );
    }

    return _;
  }

  // Get current script and highlight
  var script = _.util.currentScript();

  if (script) {
    _.filename = script.src;

    if (script.hasAttribute("data-manual")) {
      _.manual = true;
    }
  }

  function highlightAutomaticallyCallback() {
    if (!_.manual) {
      _.highlightAll();
    }
  }

  if (!_.manual) {
    // If the document state is "loading", then we'll use DOMContentLoaded.
    // If the document state is "interactive" and the prism.js script is deferred, then we'll also use the
    // DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they
    // might take longer one animation frame to execute which can create a race condition where only some plugins have
    // been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.
    // See https://github.com/PrismJS/prism/issues/2102
    var readyState = document.readyState;
    if (
      readyState === "loading" ||
      (readyState === "interactive" && script && script.defer)
    ) {
      document.addEventListener(
        "DOMContentLoaded",
        highlightAutomaticallyCallback
      );
    } else {
      if (window.requestAnimationFrame) {
        window.requestAnimationFrame(highlightAutomaticallyCallback);
      } else {
        window.setTimeout(highlightAutomaticallyCallback, 16);
      }
    }
  }

  return _;
})(_self);

if (typeof module !== "undefined" && module.exports) {
  module.exports = Prism;
}

// hack for components to work correctly in node.js
if (typeof global !== "undefined") {
  global.Prism = Prism;
}

// some additional documentation/types

/**
 * The expansion of a simple `RegExp` literal to support additional properties.
 *
 * @typedef GrammarToken
 * @property {RegExp} pattern The regular expression of the token.
 * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)
 * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.
 * @property {boolean} [greedy=false] Whether the token is greedy.
 * @property {string|string[]} [alias] An optional alias or list of aliases.
 * @property {Grammar} [inside] The nested grammar of this token.
 *
 * The `inside` grammar will be used to tokenize the text value of each token of this kind.
 *
 * This can be used to make nested and even recursive language definitions.
 *
 * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into
 * each another.
 * @global
 * @public
 */

/**
 * @typedef Grammar
 * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}
 * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.
 * @global
 * @public
 */

/**
 * A function which will invoked after an element was successfully highlighted.
 *
 * @callback HighlightCallback
 * @param {Element} element The element successfully highlighted.
 * @returns {void}
 * @global
 * @public
 */

/**
 * @callback HookCallback
 * @param {Object<string, any>} env The environment variables of the hook.
 * @returns {void}
 * @global
 * @public
 */
Prism.languages.markup = {
  comment: {
    pattern: /<!--(?:(?!<!--)[\s\S])*?-->/,
    greedy: true,
  },
  prolog: {
    pattern: /<\?[\s\S]+?\?>/,
    greedy: true,
  },
  doctype: {
    // https://www.w3.org/TR/xml/#NT-doctypedecl
    pattern:
      /<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,
    greedy: true,
    inside: {
      "internal-subset": {
        pattern: /(^[^\[]*\[)[\s\S]+(?=\]>$)/,
        lookbehind: true,
        greedy: true,
        inside: null, // see below
      },
      string: {
        pattern: /"[^"]*"|'[^']*'/,
        greedy: true,
      },
      punctuation: /^<!|>$|[[\]]/,
      "doctype-tag": /^DOCTYPE/i,
      name: /[^\s<>'"]+/,
    },
  },
  cdata: {
    pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
    greedy: true,
  },
  tag: {
    pattern:
      /<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,
    greedy: true,
    inside: {
      tag: {
        pattern: /^<\/?[^\s>\/]+/,
        inside: {
          punctuation: /^<\/?/,
          namespace: /^[^\s>\/:]+:/,
        },
      },
      "special-attr": [],
      "attr-value": {
        pattern: /=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,
        inside: {
          punctuation: [
            {
              pattern: /^=/,
              alias: "attr-equals",
            },
            /"|'/,
          ],
        },
      },
      punctuation: /\/?>/,
      "attr-name": {
        pattern: /[^\s>\/]+/,
        inside: {
          namespace: /^[^\s>\/:]+:/,
        },
      },
    },
  },
  entity: [
    {
      pattern: /&[\da-z]{1,8};/i,
      alias: "named-entity",
    },
    /&#x?[\da-f]{1,8};/i,
  ],
};

Prism.languages.markup["tag"].inside["attr-value"].inside["entity"] =
  Prism.languages.markup["entity"];
Prism.languages.markup["doctype"].inside["internal-subset"].inside =
  Prism.languages.markup;

// Plugin to make entity title show the real entity, idea by Roman Komarov
Prism.hooks.add("wrap", function (env) {
  if (env.type === "entity") {
    env.attributes["title"] = env.content.replace(/&amp;/, "&");
  }
});

Object.defineProperty(Prism.languages.markup.tag, "addInlined", {
  /**
   * Adds an inlined language to markup.
   *
   * An example of an inlined language is CSS with `<style>` tags.
   *
   * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as
   * case insensitive.
   * @param {string} lang The language key.
   * @example
   * addInlined('style', 'css');
   */
  value: function addInlined(tagName, lang) {
    var includedCdataInside = {};
    includedCdataInside["language-" + lang] = {
      pattern: /(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,
      lookbehind: true,
      inside: Prism.languages[lang],
    };
    includedCdataInside["cdata"] = /^<!\[CDATA\[|\]\]>$/i;

    var inside = {
      "included-cdata": {
        pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
        inside: includedCdataInside,
      },
    };
    inside["language-" + lang] = {
      pattern: /[\s\S]+/,
      inside: Prism.languages[lang],
    };

    var def = {};
    def[tagName] = {
      pattern: RegExp(
        /(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(
          /__/g,
          function () {
            return tagName;
          }
        ),
        "i"
      ),
      lookbehind: true,
      greedy: true,
      inside: inside,
    };

    Prism.languages.insertBefore("markup", "cdata", def);
  },
});
Object.defineProperty(Prism.languages.markup.tag, "addAttribute", {
  /**
   * Adds an pattern to highlight languages embedded in HTML attributes.
   *
   * An example of an inlined language is CSS with `style` attributes.
   *
   * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as
   * case insensitive.
   * @param {string} lang The language key.
   * @example
   * addAttribute('style', 'css');
   */
  value: function (attrName, lang) {
    Prism.languages.markup.tag.inside["special-attr"].push({
      pattern: RegExp(
        /(^|["'\s])/.source +
          "(?:" +
          attrName +
          ")" +
          /\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,
        "i"
      ),
      lookbehind: true,
      inside: {
        "attr-name": /^[^\s=]+/,
        "attr-value": {
          pattern: /=[\s\S]+/,
          inside: {
            value: {
              pattern: /(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,
              lookbehind: true,
              alias: [lang, "language-" + lang],
              inside: Prism.languages[lang],
            },
            punctuation: [
              {
                pattern: /^=/,
                alias: "attr-equals",
              },
              /"|'/,
            ],
          },
        },
      },
    });
  },
});

Prism.languages.html = Prism.languages.markup;
Prism.languages.mathml = Prism.languages.markup;
Prism.languages.svg = Prism.languages.markup;

Prism.languages.xml = Prism.languages.extend("markup", {});
Prism.languages.ssml = Prism.languages.xml;
Prism.languages.atom = Prism.languages.xml;
Prism.languages.rss = Prism.languages.xml;

(function (Prism) {
  var string =
    /(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;

  Prism.languages.css = {
    comment: /\/\*[\s\S]*?\*\//,
    atrule: {
      pattern: /@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,
      inside: {
        rule: /^@[\w-]+/,
        "selector-function-argument": {
          pattern:
            /(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,
          lookbehind: true,
          alias: "selector",
        },
        keyword: {
          pattern: /(^|[^\w-])(?:and|not|only|or)(?![\w-])/,
          lookbehind: true,
        },
        // See rest below
      },
    },
    url: {
      // https://drafts.csswg.org/css-values-3/#urls
      pattern: RegExp(
        "\\burl\\((?:" +
          string.source +
          "|" +
          /(?:[^\\\r\n()"']|\\[\s\S])*/.source +
          ")\\)",
        "i"
      ),
      greedy: true,
      inside: {
        function: /^url/i,
        punctuation: /^\(|\)$/,
        string: {
          pattern: RegExp("^" + string.source + "$"),
          alias: "url",
        },
      },
    },
    selector: {
      pattern: RegExp(
        "(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|" +
          string.source +
          ")*(?=\\s*\\{)"
      ),
      lookbehind: true,
    },
    string: {
      pattern: string,
      greedy: true,
    },
    property: {
      pattern:
        /(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,
      lookbehind: true,
    },
    important: /!important\b/i,
    function: {
      pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,
      lookbehind: true,
    },
    punctuation: /[(){};:,]/,
  };

  Prism.languages.css["atrule"].inside.rest = Prism.languages.css;

  var markup = Prism.languages.markup;
  if (markup) {
    markup.tag.addInlined("style", "css");
    markup.tag.addAttribute("style", "css");
  }
})(Prism);

Prism.languages.clike = {
  comment: [
    {
      pattern: /(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,
      lookbehind: true,
      greedy: true,
    },
    {
      pattern: /(^|[^\\:])\/\/.*/,
      lookbehind: true,
      greedy: true,
    },
  ],
  string: {
    pattern: /(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
    greedy: true,
  },
  "class-name": {
    pattern:
      /(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,
    lookbehind: true,
    inside: {
      punctuation: /[.\\]/,
    },
  },
  keyword:
    /\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,
  boolean: /\b(?:false|true)\b/,
  function: /\b\w+(?=\()/,
  number: /\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,
  operator: /[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,
  punctuation: /[{}[\];(),.:]/,
};

Prism.languages.javascript = Prism.languages.extend("clike", {
  "class-name": [
    Prism.languages.clike["class-name"],
    {
      pattern:
        /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,
      lookbehind: true,
    },
  ],
  keyword: [
    {
      pattern: /((?:^|\})\s*)catch\b/,
      lookbehind: true,
    },
    {
      pattern:
        /(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,
      lookbehind: true,
    },
  ],
  // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)
  function:
    /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,
  number: {
    pattern: RegExp(
      /(^|[^\w$])/.source +
        "(?:" +
        // constant
        (/NaN|Infinity/.source +
          "|" +
          // binary integer
          /0[bB][01]+(?:_[01]+)*n?/.source +
          "|" +
          // octal integer
          /0[oO][0-7]+(?:_[0-7]+)*n?/.source +
          "|" +
          // hexadecimal integer
          /0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source +
          "|" +
          // decimal bigint
          /\d+(?:_\d+)*n/.source +
          "|" +
          // decimal number (integer or float) but no bigint
          /(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/
            .source) +
        ")" +
        /(?![\w$])/.source
    ),
    lookbehind: true,
  },
  operator:
    /--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,
});

Prism.languages.javascript["class-name"][0].pattern =
  /(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;

Prism.languages.insertBefore("javascript", "keyword", {
  regex: {
    // eslint-disable-next-line regexp/no-dupe-characters-character-class
    pattern:
      /((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,
    lookbehind: true,
    greedy: true,
    inside: {
      "regex-source": {
        pattern: /^(\/)[\s\S]+(?=\/[a-z]*$)/,
        lookbehind: true,
        alias: "language-regex",
        inside: Prism.languages.regex,
      },
      "regex-delimiter": /^\/|\/$/,
      "regex-flags": /^[a-z]+$/,
    },
  },
  // This must be declared before keyword because we use "function" inside the look-forward
  "function-variable": {
    pattern:
      /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,
    alias: "function",
  },
  parameter: [
    {
      pattern:
        /(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,
      lookbehind: true,
      inside: Prism.languages.javascript,
    },
    {
      pattern:
        /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,
      lookbehind: true,
      inside: Prism.languages.javascript,
    },
    {
      pattern:
        /(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,
      lookbehind: true,
      inside: Prism.languages.javascript,
    },
    {
      pattern:
        /((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,
      lookbehind: true,
      inside: Prism.languages.javascript,
    },
  ],
  constant: /\b[A-Z](?:[A-Z_]|\dx?)*\b/,
});

Prism.languages.insertBefore("javascript", "string", {
  hashbang: {
    pattern: /^#!.*/,
    greedy: true,
    alias: "comment",
  },
  "template-string": {
    pattern:
      /`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,
    greedy: true,
    inside: {
      "template-punctuation": {
        pattern: /^`|`$/,
        alias: "string",
      },
      interpolation: {
        pattern:
          /((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,
        lookbehind: true,
        inside: {
          "interpolation-punctuation": {
            pattern: /^\$\{|\}$/,
            alias: "punctuation",
          },
          rest: Prism.languages.javascript,
        },
      },
      string: /[\s\S]+/,
    },
  },
  "string-property": {
    pattern:
      /((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,
    lookbehind: true,
    greedy: true,
    alias: "property",
  },
});

Prism.languages.insertBefore("javascript", "operator", {
  "literal-property": {
    pattern:
      /((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,
    lookbehind: true,
    alias: "property",
  },
});

if (Prism.languages.markup) {
  Prism.languages.markup.tag.addInlined("script", "javascript");

  // add attribute support for all DOM events.
  // https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events
  Prism.languages.markup.tag.addAttribute(
    /on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/
      .source,
    "javascript"
  );
}

Prism.languages.js = Prism.languages.javascript;

Prism.languages.python = {
  comment: {
    pattern: /(^|[^\\])#.*/,
    lookbehind: true,
    greedy: true,
  },
  "string-interpolation": {
    pattern:
      /(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,
    greedy: true,
    inside: {
      interpolation: {
        // "{" <expression> <optional "!s", "!r", or "!a"> <optional ":" format specifier> "}"
        pattern:
          /((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,
        lookbehind: true,
        inside: {
          "format-spec": {
            pattern: /(:)[^:(){}]+(?=\}$)/,
            lookbehind: true,
          },
          "conversion-option": {
            pattern: /![sra](?=[:}]$)/,
            alias: "punctuation",
          },
          rest: null,
        },
      },
      string: /[\s\S]+/,
    },
  },
  "triple-quoted-string": {
    pattern: /(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,
    greedy: true,
    alias: "string",
  },
  string: {
    pattern: /(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,
    greedy: true,
  },
  function: {
    pattern: /((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,
    lookbehind: true,
  },
  "class-name": {
    pattern: /(\bclass\s+)\w+/i,
    lookbehind: true,
  },
  decorator: {
    pattern: /(^[\t ]*)@\w+(?:\.\w+)*/m,
    lookbehind: true,
    alias: ["annotation", "punctuation"],
    inside: {
      punctuation: /\./,
    },
  },
  keyword:
    /\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,
  builtin:
    /\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,
  boolean: /\b(?:False|None|True)\b/,
  number:
    /\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,
  operator: /[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,
  punctuation: /[{}[\];(),.:]/,
};

Prism.languages.python["string-interpolation"].inside[
  "interpolation"
].inside.rest = Prism.languages.python;

Prism.languages.py = Prism.languages.python;

(function () {
  if (typeof Prism === "undefined") {
    return;
  }

  var assign =
    Object.assign ||
    function (obj1, obj2) {
      for (var name in obj2) {
        if (obj2.hasOwnProperty(name)) {
          obj1[name] = obj2[name];
        }
      }
      return obj1;
    };

  function NormalizeWhitespace(defaults) {
    this.defaults = assign({}, defaults);
  }

  function toCamelCase(value) {
    return value.replace(/-(\w)/g, function (match, firstChar) {
      return firstChar.toUpperCase();
    });
  }

  function tabLen(str) {
    var res = 0;
    for (var i = 0; i < str.length; ++i) {
      if (str.charCodeAt(i) == "\t".charCodeAt(0)) {
        res += 3;
      }
    }
    return str.length + res;
  }

  NormalizeWhitespace.prototype = {
    setDefaults: function (defaults) {
      this.defaults = assign(this.defaults, defaults);
    },
    normalize: function (input, settings) {
      settings = assign(this.defaults, settings);

      for (var name in settings) {
        var methodName = toCamelCase(name);
        if (
          name !== "normalize" &&
          methodName !== "setDefaults" &&
          settings[name] &&
          this[methodName]
        ) {
          input = this[methodName].call(this, input, settings[name]);
        }
      }

      return input;
    },

    /*
     * Normalization methods
     */
    leftTrim: function (input) {
      return input.replace(/^\s+/, "");
    },
    rightTrim: function (input) {
      return input.replace(/\s+$/, "");
    },
    tabsToSpaces: function (input, spaces) {
      spaces = spaces | 0 || 4;
      return input.replace(/\t/g, new Array(++spaces).join(" "));
    },
    spacesToTabs: function (input, spaces) {
      spaces = spaces | 0 || 4;
      return input.replace(RegExp(" {" + spaces + "}", "g"), "\t");
    },
    removeTrailing: function (input) {
      return input.replace(/\s*?$/gm, "");
    },
    // Support for deprecated plugin remove-initial-line-feed
    removeInitialLineFeed: function (input) {
      return input.replace(/^(?:\r?\n|\r)/, "");
    },
    removeIndent: function (input) {
      var indents = input.match(/^[^\S\n\r]*(?=\S)/gm);

      if (!indents || !indents[0].length) {
        return input;
      }

      indents.sort(function (a, b) {
        return a.length - b.length;
      });

      if (!indents[0].length) {
        return input;
      }

      return input.replace(RegExp("^" + indents[0], "gm"), "");
    },
    indent: function (input, tabs) {
      return input.replace(
        /^[^\S\n\r]*(?=\S)/gm,
        new Array(++tabs).join("\t") + "$&"
      );
    },
    breakLines: function (input, characters) {
      characters = characters === true ? 80 : characters | 0 || 80;

      var lines = input.split("\n");
      for (var i = 0; i < lines.length; ++i) {
        if (tabLen(lines[i]) <= characters) {
          continue;
        }

        var line = lines[i].split(/(\s+)/g);
        var len = 0;

        for (var j = 0; j < line.length; ++j) {
          var tl = tabLen(line[j]);
          len += tl;
          if (len > characters) {
            line[j] = "\n" + line[j];
            len = tl;
          }
        }
        lines[i] = line.join("");
      }
      return lines.join("\n");
    },
  };

  // Support node modules
  if (typeof module !== "undefined" && module.exports) {
    module.exports = NormalizeWhitespace;
  }

  Prism.plugins.NormalizeWhitespace = new NormalizeWhitespace({
    "remove-trailing": true,
    "remove-indent": false,
    "left-trim": false,
    "right-trim": true,
    /*'break-lines': 80,
		'indent': 2,
		'remove-initial-line-feed': false,
		'tabs-to-spaces': 4,
		'spaces-to-tabs': 4*/
  });

  Prism.hooks.add("before-sanity-check", function (env) {
    var Normalizer = Prism.plugins.NormalizeWhitespace;

    // Check settings
    if (env.settings && env.settings["whitespace-normalization"] === false) {
      return;
    }

    // Check classes
    if (!Prism.util.isActive(env.element, "whitespace-normalization", true)) {
      return;
    }

    // Simple mode if there is no env.element
    if ((!env.element || !env.element.parentNode) && env.code) {
      env.code = Normalizer.normalize(env.code, env.settings);
      return;
    }

    // Normal mode
    var pre = env.element.parentNode;
    if (!env.code || !pre || pre.nodeName.toLowerCase() !== "pre") {
      return;
    }

    var children = pre.childNodes;
    var before = "";
    var after = "";
    var codeFound = false;

    // Move surrounding whitespace from the <pre> tag into the <code> tag
    for (var i = 0; i < children.length; ++i) {
      var node = children[i];

      if (node == env.element) {
        codeFound = true;
      } else if (node.nodeName === "#text") {
        if (codeFound) {
          after += node.nodeValue;
        } else {
          before += node.nodeValue;
        }

        pre.removeChild(node);
        --i;
      }
    }

    if (!env.element.children.length || !Prism.plugins.KeepMarkup) {
      env.code = before + env.code + after;
      env.code = Normalizer.normalize(env.code, env.settings);
    } else {
      // Preserve markup for keep-markup plugin
      var html = before + env.element.innerHTML + after;
      env.element.innerHTML = Normalizer.normalize(html, env.settings);
      env.code = env.element.textContent;
    }
  });
})();
      
</script>
		       <script>
(function () {
  function Tablesort(el, options) {
    if (!(this instanceof Tablesort)) return new Tablesort(el, options);

    if (!el || el.tagName !== "TABLE") {
      throw new Error("Element must be a table");
    }
    this.init(el, options || {});
  }

  var sortOptions = [];

  var createEvent = function (name) {
    var evt;

    if (!window.CustomEvent || typeof window.CustomEvent !== "function") {
      evt = document.createEvent("CustomEvent");
      evt.initCustomEvent(name, false, false, undefined);
    } else {
      evt = new CustomEvent(name);
    }

    return evt;
  };

  var getInnerText = function (el, options) {
    return (
      el.getAttribute(options.sortAttribute || "data-sort") ||
      el.textContent ||
      el.innerText ||
      ""
    );
  };

  // Default sort method if no better sort method is found
  var caseInsensitiveSort = function (a, b) {
    a = a.trim().toLowerCase();
    b = b.trim().toLowerCase();

    if (a === b) return 0;
    if (a < b) return 1;

    return -1;
  };

  var getCellByKey = function (cells, key) {
    return [].slice.call(cells).find(function (cell) {
      return cell.getAttribute("data-sort-column-key") === key;
    });
  };

  // Stable sort function
  // If two elements are equal under the original sort function,
  // then there relative order is reversed
  var stabilize = function (sort, antiStabilize) {
    return function (a, b) {
      var unstableResult = sort(a.td, b.td);

      if (unstableResult === 0) {
        if (antiStabilize) return b.index - a.index;
        return a.index - b.index;
      }

      return unstableResult;
    };
  };

  Tablesort.extend = function (name, pattern, sort) {
    if (typeof pattern !== "function" || typeof sort !== "function") {
      throw new Error("Pattern and sort must be a function");
    }

    sortOptions.push({
      name: name,
      pattern: pattern,
      sort: sort,
    });
  };

  Tablesort.prototype = {
    init: function (el, options) {
      var that = this,
        firstRow,
        defaultSort,
        i,
        cell;

      that.table = el;
      that.thead = false;
      that.options = options;

      if (el.rows && el.rows.length > 0) {
        if (el.tHead && el.tHead.rows.length > 0) {
          for (i = 0; i < el.tHead.rows.length; i++) {
            if (el.tHead.rows[i].getAttribute("data-sort-method") === "thead") {
              firstRow = el.tHead.rows[i];
              break;
            }
          }
          if (!firstRow) {
            firstRow = el.tHead.rows[el.tHead.rows.length - 1];
          }
          that.thead = true;
        } else {
          firstRow = el.rows[0];
        }
      }

      if (!firstRow) return;

      var onClick = function () {
        if (that.current && that.current !== this) {
          that.current.removeAttribute("aria-sort");
        }

        that.current = this;
        that.sortTable(this);
      };

      // Assume first row is the header and attach a click handler to each.
      for (i = 0; i < firstRow.cells.length; i++) {
        cell = firstRow.cells[i];
        cell.setAttribute("role", "columnheader");
        if (cell.getAttribute("data-sort-method") !== "none") {
          cell.tabindex = 0;
          cell.addEventListener("click", onClick, false);

          if (cell.getAttribute("data-sort-default") !== null) {
            defaultSort = cell;
          }
        }
      }

      if (defaultSort) {
        that.current = defaultSort;
        that.sortTable(defaultSort);
      }
    },

    sortTable: function (header, update) {
      var that = this,
        columnKey = header.getAttribute("data-sort-column-key"),
        column = header.cellIndex,
        sortFunction = caseInsensitiveSort,
        item = "",
        items = [],
        i = that.thead ? 0 : 1,
        sortMethod = header.getAttribute("data-sort-method"),
        sortOrder = header.getAttribute("aria-sort");

      that.table.dispatchEvent(createEvent("beforeSort"));

      // If updating an existing sort, direction should remain unchanged.
      if (!update) {
        if (sortOrder === "ascending") {
          sortOrder = "descending";
        } else if (sortOrder === "descending") {
          sortOrder = "ascending";
        } else {
          sortOrder = that.options.descending ? "descending" : "ascending";
        }

        header.setAttribute("aria-sort", sortOrder);
      }

      if (that.table.rows.length < 2) return;

      // If we force a sort method, it is not necessary to check rows
      if (!sortMethod) {
        var cell;
        while (items.length < 3 && i < that.table.tBodies[0].rows.length) {
          if (columnKey) {
            cell = getCellByKey(that.table.tBodies[0].rows[i].cells, columnKey);
          } else {
            cell = that.table.tBodies[0].rows[i].cells[column];
          }

          // Treat missing cells as empty cells
          item = cell ? getInnerText(cell, that.options) : "";

          item = item.trim();

          if (item.length > 0) {
            items.push(item);
          }

          i++;
        }

        if (!items) return;
      }

      for (i = 0; i < sortOptions.length; i++) {
        item = sortOptions[i];

        if (sortMethod) {
          if (item.name === sortMethod) {
            sortFunction = item.sort;
            break;
          }
        } else if (items.every(item.pattern)) {
          sortFunction = item.sort;
          break;
        }
      }

      that.col = column;

      for (i = 0; i < that.table.tBodies.length; i++) {
        var newRows = [],
          noSorts = {},
          j,
          totalRows = 0,
          noSortsSoFar = 0;

        if (that.table.tBodies[i].rows.length < 2) continue;

        for (j = 0; j < that.table.tBodies[i].rows.length; j++) {
          var cell;

          item = that.table.tBodies[i].rows[j];
          if (item.getAttribute("data-sort-method") === "none") {
            // keep no-sorts in separate list to be able to insert
            // them back at their original position later
            noSorts[totalRows] = item;
          } else {
            if (columnKey) {
              cell = getCellByKey(item.cells, columnKey);
            } else {
              cell = item.cells[that.col];
            }
            // Save the index for stable sorting
            newRows.push({
              tr: item,
              td: cell ? getInnerText(cell, that.options) : "",
              index: totalRows,
            });
          }
          totalRows++;
        }
        // Before we append should we reverse the new array or not?
        // If we reverse, the sort needs to be `anti-stable` so that
        // the double negatives cancel out
        if (sortOrder === "descending") {
          newRows.sort(stabilize(sortFunction, true));
        } else {
          newRows.sort(stabilize(sortFunction, false));
          newRows.reverse();
        }

        // append rows that already exist rather than creating new ones
        for (j = 0; j < totalRows; j++) {
          if (noSorts[j]) {
            // We have a no-sort row for this position, insert it here.
            item = noSorts[j];
            noSortsSoFar++;
          } else {
            item = newRows[j - noSortsSoFar].tr;
          }

          // appendChild(x) moves x if already present somewhere else in the DOM
          that.table.tBodies[i].appendChild(item);
        }
      }

      that.table.dispatchEvent(createEvent("afterSort"));
    },

    refresh: function () {
      if (this.current !== undefined) {
        this.sortTable(this.current, true);
      }
    },
  };

  if (typeof module !== "undefined" && module.exports) {
    module.exports = Tablesort;
  } else {
    window.Tablesort = Tablesort;
  }
})();
</script>
		       <script>
(function () {
  var cleanNumber = function (i) {
      return i.replace(/[^\-?0-9.]/g, "");
    },
    compareNumber = function (a, b) {
      a = parseFloat(a);
      b = parseFloat(b);

      a = isNaN(a) ? 0 : a;
      b = isNaN(b) ? 0 : b;

      return a - b;
    };

  Tablesort.extend(
    "number",
    function (item) {
      return (
        item.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/) || // Prefixed currency
        item.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/) || // Suffixed currency
        item.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)
      ); // Number
    },
    function (a, b) {
      a = cleanNumber(a);
      b = cleanNumber(b);

      return compareNumber(b, a);
    }
  );
})();
			 
		       </script>
    <script>
      const profile = {
    "alloc_samples": 6741,
    "args": [
        "utils/generate_OPTIMA_hk_features.py"
    ],
    "elapsed_time_sec": 615.5419602394104,
    "filename": "/Users/sakre/Code/dgc/WellcomeLeap/mhealth_feature_generation/utils",
    "files": {
        "/Users/sakre/Code/dgc/WellcomeLeap/mhealth_feature_generation/utils/generate_OPTIMA_hk_features.py": {
            "functions": [
                {
                    "line": "process_uid",
                    "lineno": 11,
                    "memory_samples": [
                        [
                            5023277084,
                            102.2540807723999
                        ],
                        [
                            6418853667,
                            248.677227973938
                        ],
                        [
                            8063920084,
                            414.5605764389038
                        ],
                        [
                            8313793250,
                            444.3775806427002
                        ],
                        [
                            9395275167,
                            557.0004949569702
                        ],
                        [
                            38515481042,
                            815.5693807601929
                        ],
                        [
                            38531741625,
                            874.9305257797241
                        ],
                        [
                            39919517209,
                            813.5308494567871
                        ],
                        [
                            40223553667,
                            838.991039276123
                        ],
                        [
                            41933595417,
                            913.4910192489624
                        ],
                        [
                            66578866417,
                            720.8697195053101
                        ],
                        [
                            66803240167,
                            706.9940223693848
                        ],
                        [
                            90675938417,
                            670.4796104431152
                        ],
                        [
                            90863874709,
                            601.9088020324707
                        ],
                        [
                            92699171584,
                            607.6355800628662
                        ],
                        [
                            94444042500,
                            496.45641803741455
                        ],
                        [
                            96811894000,
                            238.16040802001953
                        ],
                        [
                            96873284917,
                            262.1235809326172
                        ],
                        [
                            97303152917,
                            280.25106716156006
                        ],
                        [
                            101054682667,
                            635.3419933319092
                        ],
                        [
                            104709688417,
                            1045.2951364517212
                        ],
                        [
                            105147375375,
                            1444.3957691192627
                        ],
                        [
                            105314963250,
                            1530.179681777954
                        ],
                        [
                            105805769042,
                            2126.165780067444
                        ],
                        [
                            105876215459,
                            2211.582172393799
                        ],
                        [
                            107505975542,
                            1537.9393091201782
                        ],
                        [
                            107618163709,
                            1713.1099634170532
                        ],
                        [
                            108485571542,
                            1967.8778238296509
                        ],
                        [
                            108588494125,
                            2042.0137033462524
                        ],
                        [
                            216285851917,
                            2052.5120935440063
                        ],
                        [
                            216292482125,
                            2073.3873376846313
                        ],
                        [
                            219179878959,
                            1410.236270904541
                        ],
                        [
                            219182899292,
                            1333.7666130065918
                        ],
                        [
                            220225283459,
                            1881.9547662734985
                        ],
                        [
                            220304234792,
                            1884.263741493225
                        ],
                        [
                            221128871334,
                            1410.1252555847168
                        ],
                        [
                            225329150792,
                            1807.6377220153809
                        ],
                        [
                            225335333750,
                            1807.7320108413696
                        ],
                        [
                            225472011375,
                            1902.744309425354
                        ],
                        [
                            324772902084,
                            1716.2723016738892
                        ],
                        [
                            325675308000,
                            1906.3341989517212
                        ],
                        [
                            326331841834,
                            1700.4684076309204
                        ],
                        [
                            327017196709,
                            2078.144962310791
                        ],
                        [
                            327292310250,
                            2100.034035682678
                        ],
                        [
                            327518959084,
                            1811.328194618225
                        ],
                        [
                            327521672417,
                            1864.547519683838
                        ],
                        [
                            426946245334,
                            1729.52627658844
                        ],
                        [
                            430005203542,
                            1407.9295053482056
                        ],
                        [
                            430071470167,
                            1519.0057258605957
                        ],
                        [
                            430186894917,
                            1712.805459022522
                        ],
                        [
                            430366872625,
                            2000.6369104385376
                        ],
                        [
                            430409098542,
                            2056.2314920425415
                        ],
                        [
                            430409103709,
                            2074.6688346862793
                        ],
                        [
                            432095964125,
                            1759.288872718811
                        ],
                        [
                            432169612500,
                            1853.8392190933228
                        ],
                        [
                            432181462625,
                            1905.690013885498
                        ],
                        [
                            433990646542,
                            1891.3365783691406
                        ],
                        [
                            434366755959,
                            1693.2898044586182
                        ],
                        [
                            436372824542,
                            1660.6471509933472
                        ],
                        [
                            436413008042,
                            1697.8031921386719
                        ],
                        [
                            436511850959,
                            1444.6836318969727
                        ],
                        [
                            436573273375,
                            1518.7133741378784
                        ],
                        [
                            437502962500,
                            1812.4085369110107
                        ],
                        [
                            437523090875,
                            1823.3611125946045
                        ],
                        [
                            437988426917,
                            1713.1154823303223
                        ],
                        [
                            437988436750,
                            1729.3957405090332
                        ],
                        [
                            438141660875,
                            1916.9731788635254
                        ],
                        [
                            438316660750,
                            2099.7550010681152
                        ],
                        [
                            441000519125,
                            215.84186458587646
                        ],
                        [
                            441843001792,
                            390.2413692474365
                        ],
                        [
                            441893952584,
                            284.0119228363037
                        ],
                        [
                            459739288959,
                            525.4899215698242
                        ],
                        [
                            461015345167,
                            408.5926265716553
                        ],
                        [
                            478410851959,
                            457.00307178497314
                        ],
                        [
                            478786254000,
                            452.7173662185669
                        ],
                        [
                            495298520792,
                            538.5272722244263
                        ],
                        [
                            495308280417,
                            513.8986406326294
                        ],
                        [
                            497833198625,
                            331.67848682403564
                        ],
                        [
                            497857262584,
                            344.5548439025879
                        ],
                        [
                            498963223917,
                            370.137095451355
                        ],
                        [
                            499881207542,
                            321.0206298828125
                        ],
                        [
                            509553462209,
                            326.4902181625366
                        ],
                        [
                            518111003459,
                            448.3764410018921
                        ],
                        [
                            518358602834,
                            421.36598110198975
                        ],
                        [
                            518372401542,
                            421.3651647567749
                        ],
                        [
                            525759186209,
                            425.0771312713623
                        ],
                        [
                            525778037959,
                            440.75539207458496
                        ],
                        [
                            527304937959,
                            350.82604217529297
                        ],
                        [
                            529528274042,
                            314.9025630950928
                        ],
                        [
                            530561099250,
                            248.40812587738037
                        ],
                        [
                            557041481667,
                            348.3737602233887
                        ],
                        [
                            558023419792,
                            366.83254623413086
                        ],
                        [
                            559350286084,
                            471.2795066833496
                        ],
                        [
                            559368619625,
                            379.9967918395996
                        ],
                        [
                            559429686667,
                            316.157057762146
                        ],
                        [
                            559454888084,
                            341.2963752746582
                        ],
                        [
                            612746799292,
                            370.48256397247314
                        ],
                        [
                            614384929084,
                            258.27649307250977
                        ],
                        [
                            614606109417,
                            316.74045753479004
                        ],
                        [
                            615429753625,
                            281.7824058532715
                        ]
                    ],
                    "n_avg_mb": 570.4871273040771,
                    "n_copy_mb_s": 64.86944863246472,
                    "n_core_utilization": 0.08144565209184394,
                    "n_cpu_percent_c": 19.267558043011114,
                    "n_cpu_percent_python": 77.02100105007521,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2553.4853773117065,
                    "n_malloc_mb": 50943.722252845764,
                    "n_mallocs": 1,
                    "n_peak_mb": 2553.4853773117065,
                    "n_python_fraction": 0.05515566073416416,
                    "n_sys_percent": 2.2343511571008015,
                    "n_usage_fraction": 0.9984256485353242
                }
            ],
            "imports": [
                "import pandas as pd",
                "from pathlib import Path"
            ],
            "leaks": {},
            "lines": [
                {
                    "end_region_line": 1,
                    "line": "import pandas as pd\n",
                    "lineno": 1,
                    "memory_samples": [
                        [
                            330805084,
                            10.002110481262207
                        ],
                        [
                            1020216459,
                            20.21568489074707
                        ],
                        [
                            1360504292,
                            30.31842613220215
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 1.208763095036007,
                    "n_core_utilization": 0.06280902293104208,
                    "n_cpu_percent_c": 0.27086989796448857,
                    "n_cpu_percent_python": 0.06213976481571701,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 30.035696983337402,
                    "n_malloc_mb": 30.035696983337402,
                    "n_mallocs": 0,
                    "n_peak_mb": 30.035696983337402,
                    "n_python_fraction": 0.9987733757164498,
                    "n_sys_percent": 0.3368552972555684,
                    "n_usage_fraction": 0.0005886576189105214,
                    "start_region_line": 1
                },
                {
                    "end_region_line": 2,
                    "line": "from mhealth_feature_generation import dataloader as dl\n",
                    "lineno": 2,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0981363210501129,
                    "n_core_utilization": 0.011062362576315082,
                    "n_cpu_percent_c": 1.6679360710746724e-05,
                    "n_cpu_percent_python": 0.0010774780820888782,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0071481855712675485,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 2
                },
                {
                    "end_region_line": 3,
                    "line": "from mhealth_feature_generation import simple_features_daily as ft\n",
                    "lineno": 3,
                    "memory_samples": [
                        [
                            2507970709,
                            40.42561149597168
                        ],
                        [
                            3386086667,
                            50.51996898651123
                        ],
                        [
                            3934368084,
                            60.61447620391846
                        ],
                        [
                            4217797000,
                            70.71599197387695
                        ],
                        [
                            4599118375,
                            81.08373546600342
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.477536864004575,
                    "n_core_utilization": 0.038086558538161154,
                    "n_cpu_percent_c": 0.2174174339665496,
                    "n_cpu_percent_python": 0.11607396158512842,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 50.29409408569336,
                    "n_malloc_mb": 50.29409408569336,
                    "n_mallocs": 0,
                    "n_peak_mb": 50.29409408569336,
                    "n_python_fraction": 0.9987294693702242,
                    "n_sys_percent": 0.4360696495541168,
                    "n_usage_fraction": 0.0009856938457652642,
                    "start_region_line": 3
                },
                {
                    "end_region_line": 4,
                    "line": "from mhealth_feature_generation import simple_features as sft\n",
                    "lineno": 4,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 4
                },
                {
                    "end_region_line": 5,
                    "line": "from pathlib import Path\n",
                    "lineno": 5,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 5
                },
                {
                    "end_region_line": 6,
                    "line": "from tqdm import tqdm\n",
                    "lineno": 6,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 6
                },
                {
                    "end_region_line": 7,
                    "line": "from p_tqdm import p_map\n",
                    "lineno": 7,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.030061136681590307,
                    "n_cpu_percent_c": 0.0009625393762457486,
                    "n_cpu_percent_python": 0.0029279654932338034,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0068944745062951545,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 7
                },
                {
                    "end_region_line": 8,
                    "line": "\n",
                    "lineno": 8,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 8
                },
                {
                    "end_region_line": 9,
                    "line": "DEBUG = False\n",
                    "lineno": 9,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 9
                },
                {
                    "end_region_line": 10,
                    "line": "\n",
                    "lineno": 10,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 10
                },
                {
                    "end_region_line": 64,
                    "line": "def process_uid(uid):\n",
                    "lineno": 11,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hk_data_list = []\n",
                    "lineno": 12,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 19,
                    "line": "    for sensor_folder in sensor_folders:\n",
                    "lineno": 13,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "        sensor_path = Path(\n",
                    "lineno": 14,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "            sensor_folder, f\"{int(uid)}-{sensor_folder.name}.csv\"\n",
                    "lineno": 15,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "        )\n",
                    "lineno": 16,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "        if not sensor_path.exists():\n",
                    "lineno": 17,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.06597898790395765,
                    "n_cpu_percent_c": 0.00384695784945103,
                    "n_cpu_percent_python": 0.006426377083059076,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.002702178508557541,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "            continue\n",
                    "lineno": 18,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 19,
                    "line": "        hk_data_list.append(loader.loadData(sensor_path))\n",
                    "lineno": 19,
                    "memory_samples": [
                        [
                            5023277084,
                            102.2540807723999
                        ],
                        [
                            5428913584,
                            143.3398036956787
                        ],
                        [
                            5481089209,
                            183.34106540679932
                        ],
                        [
                            5486923792,
                            191.34106540679932
                        ],
                        [
                            6418853667,
                            248.677227973938
                        ],
                        [
                            6498784875,
                            248.67816638946533
                        ],
                        [
                            6886614417,
                            233.14520168304443
                        ],
                        [
                            7024554584,
                            279.5974655151367
                        ],
                        [
                            7773901709,
                            272.1487455368042
                        ],
                        [
                            95757873917,
                            564.6855850219727
                        ],
                        [
                            96126063875,
                            560.812481880188
                        ],
                        [
                            96394515625,
                            208.63405895233154
                        ],
                        [
                            96399140459,
                            232.6340742111206
                        ],
                        [
                            96811894000,
                            238.16040802001953
                        ],
                        [
                            96834508875,
                            253.37801361083984
                        ],
                        [
                            96873284917,
                            262.1235809326172
                        ],
                        [
                            97303152917,
                            280.25106716156006
                        ],
                        [
                            97576670459,
                            530.7366886138916
                        ],
                        [
                            97721382584,
                            611.6979131698608
                        ],
                        [
                            97830569334,
                            633.0116415023804
                        ],
                        [
                            97972465125,
                            664.2169637680054
                        ],
                        [
                            98242960667,
                            402.79603481292725
                        ],
                        [
                            98247028375,
                            390.6356267929077
                        ],
                        [
                            98491205875,
                            454.03044033050537
                        ],
                        [
                            98493925584,
                            498.90459632873535
                        ],
                        [
                            98589621209,
                            547.4096822738647
                        ],
                        [
                            98839906875,
                            565.0357351303101
                        ],
                        [
                            99012425417,
                            582.9906988143921
                        ],
                        [
                            99030358750,
                            615.5074148178101
                        ],
                        [
                            99094384334,
                            652.6357736587524
                        ],
                        [
                            99428322167,
                            737.2812185287476
                        ],
                        [
                            99428326042,
                            749.2812185287476
                        ],
                        [
                            99636963000,
                            983.2852621078491
                        ],
                        [
                            99727947209,
                            837.3106393814087
                        ],
                        [
                            100320398834,
                            1243.2618999481201
                        ],
                        [
                            100618191125,
                            1284.2113094329834
                        ],
                        [
                            100900490584,
                            1378.1452236175537
                        ],
                        [
                            101050861000,
                            1208.9240398406982
                        ],
                        [
                            101051428834,
                            671.0937404632568
                        ],
                        [
                            101054681750,
                            649.7173137664795
                        ],
                        [
                            101054682667,
                            635.3419933319092
                        ],
                        [
                            101055549792,
                            635.3412837982178
                        ],
                        [
                            101055979959,
                            649.716215133667
                        ],
                        [
                            101057516750,
                            635.3392238616943
                        ],
                        [
                            101146756542,
                            864.5298824310303
                        ],
                        [
                            101245438959,
                            868.4300470352173
                        ],
                        [
                            101334604209,
                            871.7085247039795
                        ],
                        [
                            101350681917,
                            933.0393686294556
                        ],
                        [
                            101382261750,
                            899.8662195205688
                        ],
                        [
                            101382262625,
                            875.6162195205688
                        ],
                        [
                            101470732209,
                            888.4931697845459
                        ],
                        [
                            101473802334,
                            889.8646221160889
                        ],
                        [
                            101517771542,
                            1074.3527364730835
                        ],
                        [
                            102353290500,
                            1099.4647884368896
                        ],
                        [
                            102460848542,
                            1100.3744945526123
                        ],
                        [
                            102617479042,
                            1153.7058925628662
                        ],
                        [
                            102672525209,
                            1448.8040237426758
                        ],
                        [
                            102771964834,
                            1139.9921922683716
                        ],
                        [
                            102862709209,
                            1206.7012510299683
                        ],
                        [
                            103391142834,
                            927.8304443359375
                        ],
                        [
                            103391144000,
                            879.8305816650391
                        ],
                        [
                            103391152917,
                            804.3037900924683
                        ],
                        [
                            103391163084,
                            814.3945579528809
                        ],
                        [
                            103528270667,
                            907.4414501190186
                        ],
                        [
                            103909051167,
                            961.2461261749268
                        ],
                        [
                            103963426459,
                            1001.140869140625
                        ],
                        [
                            103968752709,
                            997.1409378051758
                        ],
                        [
                            104235141417,
                            1147.2132692337036
                        ],
                        [
                            104261658084,
                            1106.1979265213013
                        ],
                        [
                            104263323084,
                            991.7261924743652
                        ],
                        [
                            104263325709,
                            991.6312780380249
                        ],
                        [
                            104263330000,
                            981.4408922195435
                        ],
                        [
                            104392552792,
                            926.0700178146362
                        ],
                        [
                            104414301792,
                            954.2880811691284
                        ],
                        [
                            104670724834,
                            1004.1037693023682
                        ],
                        [
                            440395252459,
                            141.68237018585205
                        ],
                        [
                            440801988834,
                            281.43245124816895
                        ],
                        [
                            441000519125,
                            215.84186458587646
                        ],
                        [
                            441160235459,
                            242.35035514831543
                        ],
                        [
                            441176824709,
                            253.7355318069458
                        ],
                        [
                            498715134375,
                            331.43688011169434
                        ],
                        [
                            498758427209,
                            342.46357822418213
                        ],
                        [
                            498770155042,
                            329.93527030944824
                        ],
                        [
                            498793385792,
                            340.29113006591797
                        ],
                        [
                            498836649125,
                            390.7854309082031
                        ],
                        [
                            498963223917,
                            370.137095451355
                        ],
                        [
                            499065640917,
                            371.3340902328491
                        ],
                        [
                            499220679500,
                            366.6308698654175
                        ],
                        [
                            499332691375,
                            387.7852563858032
                        ],
                        [
                            499465836625,
                            201.07585906982422
                        ],
                        [
                            499659799459,
                            198.13409996032715
                        ],
                        [
                            529952455167,
                            158.41175365447998
                        ],
                        [
                            529990165584,
                            214.41314220428467
                        ],
                        [
                            529990171125,
                            198.41314220428467
                        ],
                        [
                            529998434625,
                            222.41363048553467
                        ],
                        [
                            530129227542,
                            181.42041015625
                        ],
                        [
                            530208134834,
                            219.56825065612793
                        ],
                        [
                            530322725750,
                            243.03199672698975
                        ],
                        [
                            530330321917,
                            236.40118598937988
                        ],
                        [
                            530412735750,
                            245.55250072479248
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 4.255587977591991,
                    "n_core_utilization": 0.07280466476768718,
                    "n_cpu_percent_c": 0.8314343187167853,
                    "n_cpu_percent_python": 1.2267776791289475,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2295.258897781372,
                    "n_malloc_mb": 10410.013117790222,
                    "n_mallocs": 0,
                    "n_peak_mb": 2295.258897781372,
                    "n_python_fraction": 0.1736211659448336,
                    "n_sys_percent": 0.2976489491751905,
                    "n_usage_fraction": 0.20402168586749347,
                    "start_region_line": 13
                },
                {
                    "end_region_line": 64,
                    "line": "    if not hk_data_list:\n",
                    "lineno": 20,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        print(f\"Skipping {uid} due to no healthkit data\")\n",
                    "lineno": 21,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        return pd.DataFrame()\n",
                    "lineno": 22,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    data = pd.concat(hk_data_list)\n",
                    "lineno": 23,
                    "memory_samples": [
                        [
                            7898645917,
                            308.33368492126465
                        ],
                        [
                            7921184750,
                            322.1027126312256
                        ],
                        [
                            7921186459,
                            332.10272789001465
                        ],
                        [
                            7926375959,
                            356.085280418396
                        ],
                        [
                            7932125084,
                            369.978590965271
                        ],
                        [
                            7935079209,
                            383.705304145813
                        ],
                        [
                            7941269459,
                            404.7944231033325
                        ],
                        [
                            7957690292,
                            416.7983446121216
                        ],
                        [
                            104703132042,
                            1017.0886087417603
                        ],
                        [
                            104709688417,
                            1045.2951364517212
                        ],
                        [
                            104709692250,
                            1061.666301727295
                        ],
                        [
                            104730607000,
                            967.6917600631714
                        ],
                        [
                            104737022334,
                            1015.2196865081787
                        ],
                        [
                            104740460375,
                            1039.258794784546
                        ],
                        [
                            104746596500,
                            1071.275915145874
                        ],
                        [
                            104806643292,
                            1089.9539060592651
                        ],
                        [
                            104806645125,
                            1099.9539213180542
                        ],
                        [
                            104806646584,
                            1109.9539289474487
                        ],
                        [
                            104806647875,
                            1119.9539365768433
                        ],
                        [
                            104806652459,
                            1129.9539442062378
                        ],
                        [
                            104806653750,
                            1139.9539518356323
                        ],
                        [
                            104808696375,
                            1163.6123914718628
                        ],
                        [
                            104808699459,
                            1227.0558910369873
                        ],
                        [
                            104840052834,
                            1245.7174634933472
                        ],
                        [
                            104848296084,
                            1264.2510023117065
                        ],
                        [
                            104855778500,
                            1283.188380241394
                        ],
                        [
                            104863449625,
                            1301.7836256027222
                        ],
                        [
                            104864021334,
                            1315.8219175338745
                        ],
                        [
                            104920526417,
                            1338.6240949630737
                        ],
                        [
                            104920532125,
                            1327.0707988739014
                        ],
                        [
                            441331901875,
                            210.4614028930664
                        ],
                        [
                            441334560792,
                            227.45843505859375
                        ],
                        [
                            441341911250,
                            239.60633087158203
                        ],
                        [
                            441346232750,
                            252.0819320678711
                        ],
                        [
                            441352267250,
                            264.4405975341797
                        ],
                        [
                            499688206542,
                            209.85964393615723
                        ],
                        [
                            499690259209,
                            225.28664588928223
                        ],
                        [
                            499696213709,
                            237.42227363586426
                        ],
                        [
                            499707277500,
                            249.20437049865723
                        ],
                        [
                            530561099250,
                            248.40812587738037
                        ],
                        [
                            530564573917,
                            260.37310695648193
                        ],
                        [
                            530569699292,
                            271.906943321228
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.15203901659863747,
                    "n_core_utilization": 0.06936456868828468,
                    "n_cpu_percent_c": 0.022406177474495866,
                    "n_cpu_percent_python": 0.022970855142974495,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 708.608136177063,
                    "n_malloc_mb": 720.1614322662354,
                    "n_mallocs": 0,
                    "n_peak_mb": 708.608136177063,
                    "n_python_fraction": 0.21291822698905682,
                    "n_sys_percent": 0.00913811043463166,
                    "n_usage_fraction": 0.014114156038536788,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    watch_on_hours = ft.getWatchOnHoursDaily(data)\n",
                    "lineno": 24,
                    "memory_samples": [
                        [
                            8049597334,
                            403.6802740097046
                        ],
                        [
                            8063920084,
                            414.5605764389038
                        ],
                        [
                            104931790667,
                            1337.9552793502808
                        ],
                        [
                            104943329000,
                            1351.4581174850464
                        ],
                        [
                            104961482792,
                            1362.7119703292847
                        ],
                        [
                            104966395209,
                            1375.7581357955933
                        ],
                        [
                            104986437375,
                            1387.1438550949097
                        ],
                        [
                            105005197375,
                            1376.3992948532104
                        ],
                        [
                            105005198625,
                            1365.140040397644
                        ],
                        [
                            441369583625,
                            274.7598114013672
                        ],
                        [
                            499717250042,
                            259.50059700012207
                        ],
                        [
                            499743907250,
                            249.57173347473145
                        ],
                        [
                            530583705084,
                            282.194052696228
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.6332328537698236,
                    "n_core_utilization": 0.0745507704967756,
                    "n_cpu_percent_c": 0.024970932755138762,
                    "n_cpu_percent_python": 0.026140578413723994,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 81.23348617553711,
                    "n_malloc_mb": 111.8533067703247,
                    "n_mallocs": 0,
                    "n_peak_mb": 81.23348617553711,
                    "n_python_fraction": 0.1560415827027453,
                    "n_sys_percent": 0.00602126652106666,
                    "n_usage_fraction": 0.002192168247908968,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hr_features = ft.aggregateVitalsDaily(data, \"HeartRate\")\n",
                    "lineno": 25,
                    "memory_samples": [
                        [
                            8171570292,
                            445.78180027008057
                        ],
                        [
                            8199142834,
                            468.8666019439697
                        ],
                        [
                            8313793250,
                            444.3775806427002
                        ],
                        [
                            8334574125,
                            458.06570625305176
                        ],
                        [
                            8354521834,
                            500.3174457550049
                        ],
                        [
                            8370057667,
                            514.0061588287354
                        ],
                        [
                            8370062000,
                            532.1621828079224
                        ],
                        [
                            8417258250,
                            591.5837898254395
                        ],
                        [
                            8419690375,
                            559.6764764785767
                        ],
                        [
                            8419694334,
                            623.583044052124
                        ],
                        [
                            8518589042,
                            646.3049116134644
                        ],
                        [
                            8518592792,
                            678.2101039886475
                        ],
                        [
                            8566458584,
                            746.8677320480347
                        ],
                        [
                            8596154250,
                            762.9971561431885
                        ],
                        [
                            8649391542,
                            761.5062885284424
                        ],
                        [
                            8655777292,
                            785.7173585891724
                        ],
                        [
                            8715825417,
                            810.76877784729
                        ],
                        [
                            8737890625,
                            838.1292133331299
                        ],
                        [
                            8752482834,
                            851.8179874420166
                        ],
                        [
                            8752486750,
                            869.9741258621216
                        ],
                        [
                            9245896167,
                            481.6687421798706
                        ],
                        [
                            9245899084,
                            417.724497795105
                        ],
                        [
                            105093665167,
                            1412.1466245651245
                        ],
                        [
                            105108782417,
                            1439.1502866744995
                        ],
                        [
                            105119260375,
                            1491.656702041626
                        ],
                        [
                            105119265125,
                            1539.5633745193481
                        ],
                        [
                            105147374542,
                            1457.8979358673096
                        ],
                        [
                            105147375375,
                            1444.3957691192627
                        ],
                        [
                            105164019209,
                            1488.9301853179932
                        ],
                        [
                            105212096209,
                            1474.4914598464966
                        ],
                        [
                            105221330709,
                            1455.960286140442
                        ],
                        [
                            105314963250,
                            1530.179681777954
                        ],
                        [
                            105320604959,
                            1578.1796436309814
                        ],
                        [
                            105396885292,
                            1652.3041858673096
                        ],
                        [
                            105487052500,
                            1771.8982639312744
                        ],
                        [
                            105502886625,
                            1790.429536819458
                        ],
                        [
                            105539175084,
                            1846.0077753067017
                        ],
                        [
                            105539180792,
                            2101.9140815734863
                        ],
                        [
                            105757684417,
                            2070.5711069107056
                        ],
                        [
                            105766102042,
                            2091.4463510513306
                        ],
                        [
                            105805769042,
                            2126.165780067444
                        ],
                        [
                            105805770709,
                            2136.859139442444
                        ],
                        [
                            105810242125,
                            2084.410930633545
                        ],
                        [
                            105811851417,
                            2084.4107093811035
                        ],
                        [
                            105863229167,
                            2103.035927772522
                        ],
                        [
                            105876215459,
                            2211.582172393799
                        ],
                        [
                            106031037167,
                            2486.2081003189087
                        ],
                        [
                            106091097750,
                            2261.72802066803
                        ],
                        [
                            106091103417,
                            2317.213954925537
                        ],
                        [
                            106124192834,
                            2264.0098733901978
                        ],
                        [
                            106124396750,
                            2319.5012016296387
                        ],
                        [
                            106321914959,
                            1999.1134805679321
                        ],
                        [
                            106365004959,
                            2001.4594736099243
                        ],
                        [
                            106494409459,
                            2160.6775598526
                        ],
                        [
                            106506949417,
                            2179.208924293518
                        ],
                        [
                            106532092334,
                            2197.7400827407837
                        ],
                        [
                            106567624375,
                            2261.740113258362
                        ],
                        [
                            106675693125,
                            2372.9268655776978
                        ],
                        [
                            441404880459,
                            285.0299835205078
                        ],
                        [
                            441408597584,
                            297.2585744857788
                        ],
                        [
                            441421597834,
                            301.85132789611816
                        ],
                        [
                            441479819000,
                            376.31953525543213
                        ],
                        [
                            441492867459,
                            429.3670129776001
                        ],
                        [
                            441511374500,
                            397.4596996307373
                        ],
                        [
                            441552279750,
                            460.24438285827637
                        ],
                        [
                            441560881584,
                            423.1963634490967
                        ],
                        [
                            441572662625,
                            392.38243675231934
                        ],
                        [
                            441572663750,
                            380.0361614227295
                        ],
                        [
                            441572666167,
                            367.72215843200684
                        ],
                        [
                            441572666917,
                            355.4075756072998
                        ],
                        [
                            441843001792,
                            390.2413692474365
                        ],
                        [
                            441867406375,
                            287.7393321990967
                        ],
                        [
                            499754206500,
                            260.2653293609619
                        ],
                        [
                            499761822834,
                            280.61872959136963
                        ],
                        [
                            499772379834,
                            259.76075077056885
                        ],
                        [
                            499778174459,
                            270.39708042144775
                        ],
                        [
                            499820832542,
                            339.0236053466797
                        ],
                        [
                            499834709292,
                            344.0697708129883
                        ],
                        [
                            499840284417,
                            354.7019958496094
                        ],
                        [
                            499866800417,
                            394.07422637939453
                        ],
                        [
                            499873771209,
                            357.026123046875
                        ],
                        [
                            499881206792,
                            334.52313232421875
                        ],
                        [
                            499881207542,
                            321.0206298828125
                        ],
                        [
                            499925430042,
                            343.5443878173828
                        ],
                        [
                            499942429167,
                            366.04652404785156
                        ],
                        [
                            500168177209,
                            332.6517028808594
                        ],
                        [
                            530619199542,
                            303.04325675964355
                        ],
                        [
                            530619205167,
                            292.84397983551025
                        ],
                        [
                            530636729500,
                            303.56603813171387
                        ],
                        [
                            530652754584,
                            328.32030296325684
                        ],
                        [
                            530658612500,
                            346.04098987579346
                        ],
                        [
                            530658615250,
                            360.27589416503906
                        ],
                        [
                            530659428834,
                            380.27469635009766
                        ],
                        [
                            530684236250,
                            385.4151430130005
                        ],
                        [
                            530713823167,
                            440.85634326934814
                        ],
                        [
                            530721658875,
                            403.80832386016846
                        ],
                        [
                            530721660000,
                            389.4795503616333
                        ],
                        [
                            530747276542,
                            363.2540407180786
                        ],
                        [
                            530949229084,
                            387.92751026153564
                        ],
                        [
                            530949231542,
                            353.51557636260986
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.365025557391747,
                    "n_core_utilization": 0.077148860891507,
                    "n_cpu_percent_c": 0.3199215582893028,
                    "n_cpu_percent_python": 0.3606876824523482,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2039.46493434906,
                    "n_malloc_mb": 3935.4393005371094,
                    "n_mallocs": 0,
                    "n_peak_mb": 2039.46493434906,
                    "n_python_fraction": 0.022931394408303035,
                    "n_sys_percent": 0.05455957540239541,
                    "n_usage_fraction": 0.07712910172539807,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hr_nsr_features = ft.aggregateVitalsDaily(data, \"HeartRate\", context=\"non-sleep rest\")\n",
                    "lineno": 26,
                    "memory_samples": [
                        [
                            9276984459,
                            444.6196508407593
                        ],
                        [
                            9276988292,
                            458.1981830596924
                        ],
                        [
                            9290939209,
                            445.8689947128296
                        ],
                        [
                            9306552875,
                            414.3853750228882
                        ],
                        [
                            9325895917,
                            428.6678228378296
                        ],
                        [
                            9330855084,
                            441.7618398666382
                        ],
                        [
                            9347173500,
                            455.4499044418335
                        ],
                        [
                            9354526000,
                            482.8097448348999
                        ],
                        [
                            9380072625,
                            528.3430042266846
                        ],
                        [
                            9395275167,
                            557.0004949569702
                        ],
                        [
                            9395280292,
                            588.9073810577393
                        ],
                        [
                            9397598917,
                            628.7188053131104
                        ],
                        [
                            9455868334,
                            639.3134450912476
                        ],
                        [
                            9484519500,
                            651.8148717880249
                        ],
                        [
                            9484524459,
                            675.7199573516846
                        ],
                        [
                            9552869542,
                            680.1887426376343
                        ],
                        [
                            9552870625,
                            648.1880941390991
                        ],
                        [
                            9574374792,
                            634.5002279281616
                        ],
                        [
                            9574379834,
                            534.1328573226929
                        ],
                        [
                            9574382584,
                            550.2551259994507
                        ],
                        [
                            9579255375,
                            538.6926336288452
                        ],
                        [
                            9621820042,
                            560.5046606063843
                        ],
                        [
                            9663628834,
                            584.3376226425171
                        ],
                        [
                            9675732750,
                            620.7288074493408
                        ],
                        [
                            107287876792,
                            1325.3927478790283
                        ],
                        [
                            107338068792,
                            1436.4237909317017
                        ],
                        [
                            107357330959,
                            1459.5538339614868
                        ],
                        [
                            107399793250,
                            1515.148133277893
                        ],
                        [
                            107415797500,
                            1445.2827463150024
                        ],
                        [
                            107415801917,
                            1463.7204551696777
                        ],
                        [
                            107505975542,
                            1537.9393091201782
                        ],
                        [
                            107582275209,
                            1649.1099939346313
                        ],
                        [
                            107618163709,
                            1713.1099634170532
                        ],
                        [
                            107702031084,
                            1822.9529914855957
                        ],
                        [
                            107705899834,
                            1978.6395301818848
                        ],
                        [
                            107887742959,
                            2031.0455331802368
                        ],
                        [
                            107890058459,
                            2051.9214029312134
                        ],
                        [
                            107896633792,
                            2091.328003883362
                        ],
                        [
                            107933901542,
                            2125.9533042907715
                        ],
                        [
                            107936995625,
                            2125.9536094665527
                        ],
                        [
                            107938479042,
                            2125.953342437744
                        ],
                        [
                            107999760125,
                            2192.578797340393
                        ],
                        [
                            107999763875,
                            2264.0776863098145
                        ],
                        [
                            108025239000,
                            2285.0472955703735
                        ],
                        [
                            108217363625,
                            2230.3899087905884
                        ],
                        [
                            108259352292,
                            2200.926125526428
                        ],
                        [
                            108259355000,
                            2219.4633417129517
                        ],
                        [
                            108451921792,
                            1909.9327325820923
                        ],
                        [
                            108451926042,
                            1946.9025917053223
                        ],
                        [
                            108485571542,
                            1967.8778238296509
                        ],
                        [
                            108486672209,
                            1930.809594154358
                        ],
                        [
                            108588494125,
                            2042.0137033462524
                        ],
                        [
                            108588498292,
                            2060.4498329162598
                        ],
                        [
                            108617191709,
                            2079.0753107070923
                        ],
                        [
                            108628548250,
                            2097.6065607070923
                        ],
                        [
                            108687746917,
                            2180.137780189514
                        ],
                        [
                            108745566667,
                            2254.262764930725
                        ],
                        [
                            108794962125,
                            2291.3238916397095
                        ],
                        [
                            150553549542,
                            2245.83690738678
                        ],
                        [
                            215552136542,
                            2223.5554208755493
                        ],
                        [
                            215552138500,
                            2186.4812631607056
                        ],
                        [
                            215552139584,
                            2167.932023048401
                        ],
                        [
                            215552141667,
                            2112.284058570862
                        ],
                        [
                            215552143709,
                            2011.1657190322876
                        ],
                        [
                            215552147875,
                            1881.3179941177368
                        ],
                        [
                            215623471250,
                            1862.3494806289673
                        ],
                        [
                            215623472417,
                            1843.817421913147
                        ],
                        [
                            215623473292,
                            1825.2855386734009
                        ],
                        [
                            215623474084,
                            1621.597580909729
                        ],
                        [
                            215623474959,
                            1603.0655221939087
                        ],
                        [
                            215623485709,
                            1332.892502784729
                        ],
                        [
                            441878747084,
                            282.54766750335693
                        ],
                        [
                            441882607209,
                            293.05206966400146
                        ],
                        [
                            441885322292,
                            305.0281276702881
                        ],
                        [
                            441893951750,
                            294.51906394958496
                        ],
                        [
                            441893952584,
                            284.0119228363037
                        ],
                        [
                            441945725209,
                            339.4280757904053
                        ],
                        [
                            441945728250,
                            357.80329990386963
                        ],
                        [
                            441989640625,
                            425.79049491882324
                        ],
                        [
                            442014561459,
                            460.25987815856934
                        ],
                        [
                            442022899917,
                            423.21163749694824
                        ],
                        [
                            442022900959,
                            404.6797389984131
                        ],
                        [
                            442105712375,
                            414.569730758667
                        ],
                        [
                            444666853792,
                            424.68827629089355
                        ],
                        [
                            500216751167,
                            288.6382751464844
                        ],
                        [
                            500216754959,
                            278.29004192352295
                        ],
                        [
                            500238108042,
                            280.0385208129883
                        ],
                        [
                            500256769417,
                            302.5418167114258
                        ],
                        [
                            500266544417,
                            339.04430389404297
                        ],
                        [
                            500296559709,
                            356.8178176879883
                        ],
                        [
                            500315674542,
                            391.06839752197266
                        ],
                        [
                            500322929792,
                            354.0201110839844
                        ],
                        [
                            500367272125,
                            330.1705780029297
                        ],
                        [
                            530974684834,
                            290.36169242858887
                        ],
                        [
                            530981825042,
                            303.0595827102661
                        ],
                        [
                            530998635084,
                            303.58026599884033
                        ],
                        [
                            531014985750,
                            328.33482837677
                        ],
                        [
                            531021312250,
                            348.3823289871216
                        ],
                        [
                            531021314667,
                            380.2889709472656
                        ],
                        [
                            531052956500,
                            344.48554706573486
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 18.230978492861983,
                    "n_core_utilization": 0.08037945939479409,
                    "n_cpu_percent_c": 5.205837144263344,
                    "n_cpu_percent_python": 24.03499368351658,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1806.707158088684,
                    "n_malloc_mb": 3808.5318117141724,
                    "n_mallocs": 0,
                    "n_peak_mb": 1806.707158088684,
                    "n_python_fraction": 0.02130658498160001,
                    "n_sys_percent": 1.0745746335413728,
                    "n_usage_fraction": 0.07464189258109663,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hr_sleep_features = ft.aggregateVitalsDaily(data, \"HeartRate\", context=\"sleep\")\n",
                    "lineno": 27,
                    "memory_samples": [
                        [
                            38372282292,
                            686.810528755188
                        ],
                        [
                            38388360125,
                            707.3499727249146
                        ],
                        [
                            38394234542,
                            718.1658906936646
                        ],
                        [
                            38418625292,
                            732.213698387146
                        ],
                        [
                            38418626459,
                            720.5209646224976
                        ],
                        [
                            38436001625,
                            710.7366065979004
                        ],
                        [
                            38461225542,
                            738.1134071350098
                        ],
                        [
                            38515481042,
                            815.5693807601929
                        ],
                        [
                            38531741625,
                            874.9305257797241
                        ],
                        [
                            38579128167,
                            843.0232124328613
                        ],
                        [
                            38600775625,
                            682.4491872787476
                        ],
                        [
                            38635074292,
                            618.5418739318848
                        ],
                        [
                            38723275292,
                            732.7174415588379
                        ],
                        [
                            38727336667,
                            737.2814826965332
                        ],
                        [
                            38766581292,
                            747.3527946472168
                        ],
                        [
                            38836945542,
                            574.8108568191528
                        ],
                        [
                            38857579792,
                            601.5928010940552
                        ],
                        [
                            215684553417,
                            1335.2340869903564
                        ],
                        [
                            215707223292,
                            1362.237985610962
                        ],
                        [
                            215710993500,
                            1373.4915409088135
                        ],
                        [
                            215734263000,
                            1439.7973413467407
                        ],
                        [
                            215751325250,
                            1439.7967691421509
                        ],
                        [
                            215797709834,
                            1536.9589881896973
                        ],
                        [
                            215813444167,
                            1445.8697595596313
                        ],
                        [
                            215913731542,
                            1557.0419626235962
                        ],
                        [
                            215913739625,
                            1575.4780921936035
                        ],
                        [
                            216064384667,
                            1769.2908868789673
                        ],
                        [
                            216089942292,
                            1787.8221673965454
                        ],
                        [
                            216097449250,
                            1775.6340188980103
                        ],
                        [
                            216097452250,
                            1979.2282066345215
                        ],
                        [
                            216163375209,
                            2235.2291984558105
                        ],
                        [
                            216285851917,
                            2052.5120935440063
                        ],
                        [
                            216292482125,
                            2073.3873376846313
                        ],
                        [
                            216292483750,
                            2091.918694496155
                        ],
                        [
                            216329909000,
                            2108.106728553772
                        ],
                        [
                            216329912417,
                            2108.112587928772
                        ],
                        [
                            216334732625,
                            2108.0130653381348
                        ],
                        [
                            216386572500,
                            2145.1695261001587
                        ],
                        [
                            216423442209,
                            2285.638237953186
                        ],
                        [
                            216550947959,
                            2486.9820947647095
                        ],
                        [
                            216608579834,
                            2217.7671365737915
                        ],
                        [
                            216608583500,
                            2236.206127166748
                        ],
                        [
                            216615866417,
                            2201.4232902526855
                        ],
                        [
                            216642414625,
                            2220.054413795471
                        ],
                        [
                            216776297292,
                            2257.0188179016113
                        ],
                        [
                            216824095625,
                            1894.1782417297363
                        ],
                        [
                            216826411292,
                            1912.7096900939941
                        ],
                        [
                            216831157500,
                            1894.2725915908813
                        ],
                        [
                            216833877959,
                            1929.0532541275024
                        ],
                        [
                            216923145000,
                            1968.4918756484985
                        ],
                        [
                            216948354875,
                            1989.3675165176392
                        ],
                        [
                            216963689292,
                            2005.5548639297485
                        ],
                        [
                            216996549500,
                            2079.6634073257446
                        ],
                        [
                            217173556250,
                            2291.912064552307
                        ],
                        [
                            219004543959,
                            2043.3700494766235
                        ],
                        [
                            219004551125,
                            1876.422043800354
                        ],
                        [
                            219077036375,
                            1857.4721841812134
                        ],
                        [
                            219077038334,
                            1820.408242225647
                        ],
                        [
                            219077039084,
                            1616.720284461975
                        ],
                        [
                            219077039792,
                            1598.1882257461548
                        ],
                        [
                            219077040584,
                            1526.5938806533813
                        ],
                        [
                            219077046584,
                            1328.0126504898071
                        ],
                        [
                            219077047459,
                            1316.759126663208
                        ],
                        [
                            459664536500,
                            425.79677391052246
                        ],
                        [
                            459670061709,
                            435.98814964294434
                        ],
                        [
                            459683645834,
                            448.4944610595703
                        ],
                        [
                            459689101834,
                            437.8630723953247
                        ],
                        [
                            459738032750,
                            486.05119800567627
                        ],
                        [
                            459739288959,
                            525.4899215698242
                        ],
                        [
                            459741609542,
                            544.0048522949219
                        ],
                        [
                            459771466917,
                            581.146824836731
                        ],
                        [
                            459788742417,
                            574.9450426101685
                        ],
                        [
                            459814358625,
                            614.4612398147583
                        ],
                        [
                            459823229875,
                            577.4131898880005
                        ],
                        [
                            459908819084,
                            568.7717027664185
                        ],
                        [
                            460431670334,
                            544.4188280105591
                        ],
                        [
                            460431672667,
                            509.687481880188
                        ],
                        [
                            460431673375,
                            467.7012071609497
                        ],
                        [
                            460431674084,
                            446.6997880935669
                        ],
                        [
                            460431674834,
                            434.38185596466064
                        ],
                        [
                            507793358167,
                            366.7191162109375
                        ],
                        [
                            507798571584,
                            382.88309383392334
                        ],
                        [
                            507807239542,
                            362.0249319076538
                        ],
                        [
                            507814583792,
                            372.6594762802124
                        ],
                        [
                            507856601167,
                            446.3327627182007
                        ],
                        [
                            507856604625,
                            483.28624153137207
                        ],
                        [
                            507903273292,
                            501.3826208114624
                        ],
                        [
                            507920108625,
                            453.0827627182007
                        ],
                        [
                            507981566875,
                            473.3546209335327
                        ],
                        [
                            508950374500,
                            462.53514766693115
                        ],
                        [
                            508950376834,
                            451.25164699554443
                        ],
                        [
                            508950377584,
                            439.9551000595093
                        ],
                        [
                            556959239542,
                            389.5519828796387
                        ],
                        [
                            557016116417,
                            311.2332601547241
                        ],
                        [
                            557017172584,
                            343.2332525253296
                        ],
                        [
                            557025713750,
                            380.28107357025146
                        ],
                        [
                            557041481667,
                            348.3737602233887
                        ],
                        [
                            557052272750,
                            369.90759658813477
                        ],
                        [
                            557080641834,
                            354.76552963256836
                        ],
                        [
                            557143339375,
                            365.7146120071411
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.2513808423498727,
                    "n_core_utilization": 0.08075107891636198,
                    "n_cpu_percent_c": 0.39816880744451066,
                    "n_cpu_percent_python": 0.8573050609263787,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1979.9579887390137,
                    "n_malloc_mb": 3825.8749437332153,
                    "n_mallocs": 0,
                    "n_peak_mb": 1979.9579887390137,
                    "n_python_fraction": 0.014393622147038602,
                    "n_sys_percent": 0.040147487631103276,
                    "n_usage_fraction": 0.07498179369291183,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hrv_features = ft.aggregateVitalsDaily(data, \"HeartRateVariabilitySDNN\")\n",
                    "lineno": 28,
                    "memory_samples": [
                        [
                            39823322417,
                            684.602725982666
                        ],
                        [
                            39866227792,
                            725.6686058044434
                        ],
                        [
                            39874802750,
                            739.3403739929199
                        ],
                        [
                            39901922375,
                            766.7176399230957
                        ],
                        [
                            39901927000,
                            784.8737859725952
                        ],
                        [
                            39917186959,
                            812.3282051086426
                        ],
                        [
                            39917190875,
                            836.2350378036499
                        ],
                        [
                            39919517209,
                            813.5308494567871
                        ],
                        [
                            39919520625,
                            877.2495794296265
                        ],
                        [
                            39986116000,
                            941.1573371887207
                        ],
                        [
                            39986118042,
                            877.3432807922363
                        ],
                        [
                            39999250209,
                            898.8502998352051
                        ],
                        [
                            40018041000,
                            926.156943321228
                        ],
                        [
                            40067215667,
                            994.6268272399902
                        ],
                        [
                            40084344459,
                            930.8130149841309
                        ],
                        [
                            40104423209,
                            893.124324798584
                        ],
                        [
                            40104425375,
                            865.7469520568848
                        ],
                        [
                            40104426167,
                            842.9484519958496
                        ],
                        [
                            40104428542,
                            801.8819541931152
                        ],
                        [
                            40104431000,
                            818.0039558410645
                        ],
                        [
                            40144097417,
                            816.512622833252
                        ],
                        [
                            40146613250,
                            828.2535438537598
                        ],
                        [
                            40154360417,
                            824.6927528381348
                        ],
                        [
                            40223553667,
                            838.991039276123
                        ],
                        [
                            40242106542,
                            587.6384391784668
                        ],
                        [
                            40261724542,
                            614.9987602233887
                        ],
                        [
                            40277421584,
                            628.6873207092285
                        ],
                        [
                            219132177417,
                            1336.2045526504517
                        ],
                        [
                            219138366334,
                            1375.611107826233
                        ],
                        [
                            219176437292,
                            1402.4922647476196
                        ],
                        [
                            219179878959,
                            1410.236270904541
                        ],
                        [
                            219182896292,
                            1391.7048072814941
                        ],
                        [
                            219182899292,
                            1333.7666130065918
                        ],
                        [
                            219273773542,
                            1407.986397743225
                        ],
                        [
                            219280610084,
                            1463.4693489074707
                        ],
                        [
                            219322295209,
                            1500.626046180725
                        ],
                        [
                            219444483125,
                            1657.2829446792603
                        ],
                        [
                            219473214125,
                            1712.862732887268
                        ],
                        [
                            219649670375,
                            2000.6934595108032
                        ],
                        [
                            219655712750,
                            2040.10000705719
                        ],
                        [
                            219692647042,
                            2056.2876596450806
                        ],
                        [
                            219695665209,
                            2056.2881631851196
                        ],
                        [
                            219695667792,
                            2074.7255210876465
                        ],
                        [
                            219697866459,
                            2056.1940574645996
                        ],
                        [
                            219697868667,
                            2035.3186073303223
                        ],
                        [
                            219697870500,
                            1998.2559242248535
                        ],
                        [
                            219697872042,
                            2016.7869987487793
                        ],
                        [
                            219759013334,
                            2072.460816383362
                        ],
                        [
                            219919765167,
                            2358.9373865127563
                        ],
                        [
                            219919766625,
                            2377.4686365127563
                        ],
                        [
                            219926883417,
                            2379.9060401916504
                        ],
                        [
                            219926886125,
                            2379.6567726135254
                        ],
                        [
                            220195136792,
                            1824.0097360610962
                        ],
                        [
                            220225283459,
                            1881.9547662734985
                        ],
                        [
                            220226664042,
                            1861.0752954483032
                        ],
                        [
                            220226665084,
                            1845.0741662979126
                        ],
                        [
                            220279560334,
                            1863.3881692886353
                        ],
                        [
                            220304234792,
                            1884.263741493225
                        ],
                        [
                            220320175500,
                            1900.4510049819946
                        ],
                        [
                            220326983667,
                            1937.497612953186
                        ],
                        [
                            220326987459,
                            1955.9337425231934
                        ],
                        [
                            220440519625,
                            2057.085160255432
                        ],
                        [
                            220483026709,
                            2112.679055213928
                        ],
                        [
                            220968372792,
                            2131.55956363678
                        ],
                        [
                            220968373834,
                            2113.0275049209595
                        ],
                        [
                            220968374625,
                            2094.4956216812134
                        ],
                        [
                            220968375417,
                            1890.8076639175415
                        ],
                        [
                            220968378500,
                            1768.6958093643188
                        ],
                        [
                            220968381834,
                            1750.160424232483
                        ],
                        [
                            220968383584,
                            1713.09512424469
                        ],
                        [
                            460483105250,
                            282.38124561309814
                        ],
                        [
                            460489795875,
                            294.3825349807739
                        ],
                        [
                            460523360459,
                            372.909462928772
                        ],
                        [
                            460565500084,
                            406.3666515350342
                        ],
                        [
                            460589053167,
                            440.8360958099365
                        ],
                        [
                            460631503167,
                            356.40729331970215
                        ],
                        [
                            460651722584,
                            356.0439510345459
                        ],
                        [
                            460683274959,
                            392.98583030700684
                        ],
                        [
                            508993335959,
                            364.81371212005615
                        ],
                        [
                            509022321584,
                            433.36530208587646
                        ],
                        [
                            509035991667,
                            433.3643789291382
                        ],
                        [
                            509075349750,
                            451.36710262298584
                        ],
                        [
                            509082050584,
                            440.11546993255615
                        ],
                        [
                            509082052250,
                            415.36137294769287
                        ],
                        [
                            509126841417,
                            437.88483333587646
                        ],
                        [
                            509132705084,
                            449.13587856292725
                        ],
                        [
                            558023419792,
                            366.83254623413086
                        ],
                        [
                            558038304584,
                            378.02280044555664
                        ],
                        [
                            558057753875,
                            402.7771644592285
                        ],
                        [
                            558063276709,
                            438.54508876800537
                        ],
                        [
                            558064059334,
                            426.6377754211426
                        ],
                        [
                            558064062334,
                            463.5908269882202
                        ],
                        [
                            558136184667,
                            434.694522857666
                        ],
                        [
                            558154128334,
                            446.5693473815918
                        ],
                        [
                            558189353167,
                            472.81037521362305
                        ],
                        [
                            558197339584,
                            484.247745513916
                        ],
                        [
                            558344641459,
                            471.24535751342773
                        ],
                        [
                            558344643959,
                            436.8330879211426
                        ],
                        [
                            558355929209,
                            393.8874092102051
                        ],
                        [
                            558355931000,
                            368.5368003845215
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.572882733657309,
                    "n_core_utilization": 0.07849242323674066,
                    "n_cpu_percent_c": 0.26011628072111315,
                    "n_cpu_percent_python": 0.30886568294911837,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1744.665626525879,
                    "n_malloc_mb": 3443.9699115753174,
                    "n_mallocs": 0,
                    "n_peak_mb": 1744.665626525879,
                    "n_python_fraction": 0.011426341178979109,
                    "n_sys_percent": 0.035091164460585786,
                    "n_usage_fraction": 0.06749698962777792,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hrv_sleep_features = ft.aggregateVitalsDaily(\n",
                    "lineno": 29,
                    "memory_samples": [
                        [
                            40468388334,
                            671.720362663269
                        ],
                        [
                            40500084709,
                            675.6907072067261
                        ],
                        [
                            40505129834,
                            688.784670829773
                        ],
                        [
                            40529463250,
                            720.7076063156128
                        ],
                        [
                            40540456917,
                            734.3960447311401
                        ],
                        [
                            40554463542,
                            766.2404842376709
                        ],
                        [
                            40569185084,
                            793.6948728561401
                        ],
                        [
                            40569833542,
                            794.8975172042847
                        ],
                        [
                            40569837542,
                            858.6162395477295
                        ],
                        [
                            40666849459,
                            869.2109174728394
                        ],
                        [
                            40746610709,
                            719.3548240661621
                        ],
                        [
                            40765388750,
                            655.3533897399902
                        ],
                        [
                            40765389917,
                            631.3527412414551
                        ],
                        [
                            40769506959,
                            635.9169044494629
                        ],
                        [
                            40810685000,
                            645.9880485534668
                        ],
                        [
                            40830548375,
                            539.1804628372192
                        ],
                        [
                            40864235625,
                            566.5728960037231
                        ],
                        [
                            40879592875,
                            580.2607927322388
                        ],
                        [
                            40889067459,
                            598.4957933425903
                        ],
                        [
                            40899513167,
                            612.1845140457153
                        ],
                        [
                            40914753459,
                            644.0293502807617
                        ],
                        [
                            221025080584,
                            1715.357445716858
                        ],
                        [
                            221086125292,
                            1736.232605934143
                        ],
                        [
                            221086127042,
                            1754.7639474868774
                        ],
                        [
                            221123335209,
                            1391.6939783096313
                        ],
                        [
                            221128871334,
                            1410.1252555847168
                        ],
                        [
                            221208456834,
                            1449.6256647109985
                        ],
                        [
                            221256174250,
                            1484.3014154434204
                        ],
                        [
                            221328535917,
                            1585.3635873794556
                        ],
                        [
                            221404235959,
                            1678.0197305679321
                        ],
                        [
                            221407119542,
                            1762.9763526916504
                        ],
                        [
                            221410204667,
                            1929.6162910461426
                        ],
                        [
                            221470257417,
                            2185.617328643799
                        ],
                        [
                            221579967250,
                            1982.022515296936
                        ],
                        [
                            221581923667,
                            2002.9003381729126
                        ],
                        [
                            221625253125,
                            2058.494698524475
                        ],
                        [
                            221625257084,
                            2058.500557899475
                        ],
                        [
                            221628282750,
                            2076.9324531555176
                        ],
                        [
                            221629500084,
                            2095.4638862609863
                        ],
                        [
                            221682877792,
                            2114.089135169983
                        ],
                        [
                            221858260542,
                            2421.354416847229
                        ],
                        [
                            221915442209,
                            2165.352776527405
                        ],
                        [
                            221915443417,
                            2117.3521280288696
                        ],
                        [
                            221921410000,
                            2152.1388788223267
                        ],
                        [
                            221928977959,
                            2135.794979095459
                        ],
                        [
                            221955753667,
                            2154.4260416030884
                        ],
                        [
                            221956101042,
                            2172.8693809509277
                        ],
                        [
                            222098654917,
                            1826.2098960876465
                        ],
                        [
                            222104462125,
                            1824.0222024917603
                        ],
                        [
                            222104463959,
                            1842.5534524917603
                        ],
                        [
                            222135560375,
                            1881.9672784805298
                        ],
                        [
                            222136954709,
                            1845.0866785049438
                        ],
                        [
                            222136955500,
                            1826.3054285049438
                        ],
                        [
                            222213964542,
                            1884.2800607681274
                        ],
                        [
                            222236608000,
                            1921.2216148376465
                        ],
                        [
                            222279714542,
                            1958.3783349990845
                        ],
                        [
                            222304199042,
                            1976.9095544815063
                        ],
                        [
                            222341385542,
                            2040.9094018936157
                        ],
                        [
                            222455601292,
                            2152.097512245178
                        ],
                        [
                            224247802042,
                            2135.792046546936
                        ],
                        [
                            224247803917,
                            2098.7175455093384
                        ],
                        [
                            224247806959,
                            2024.5200967788696
                        ],
                        [
                            224247807750,
                            1960.5019006729126
                        ],
                        [
                            224247809250,
                            1941.9525384902954
                        ],
                        [
                            224247810750,
                            1886.3362741470337
                        ],
                        [
                            224247812167,
                            1849.237473487854
                        ],
                        [
                            224247817292,
                            1793.553894996643
                        ],
                        [
                            460905667417,
                            382.0687618255615
                        ],
                        [
                            460905670250,
                            400.44392490386963
                        ],
                        [
                            460908223584,
                            403.06886100769043
                        ],
                        [
                            460949920209,
                            468.43124198913574
                        ],
                        [
                            460981401417,
                            465.85256004333496
                        ],
                        [
                            460981402375,
                            447.3206615447998
                        ],
                        [
                            460993440667,
                            422.69196128845215
                        ],
                        [
                            461015345167,
                            408.5926265716553
                        ],
                        [
                            461056706584,
                            432.58189964294434
                        ],
                        [
                            461068591167,
                            385.36146354675293
                        ],
                        [
                            461078956584,
                            397.6436061859131
                        ],
                        [
                            509387150125,
                            354.80990409851074
                        ],
                        [
                            509402466209,
                            365.78200340270996
                        ],
                        [
                            509447281625,
                            440.4646816253662
                        ],
                        [
                            509486544417,
                            431.5372066497803
                        ],
                        [
                            509553462209,
                            326.4902181625366
                        ],
                        [
                            510548147042,
                            299.13066005706787
                        ],
                        [
                            510548149042,
                            276.6225423812866
                        ],
                        [
                            558396342584,
                            402.79101943969727
                        ],
                        [
                            558401799042,
                            424.3237953186035
                        ],
                        [
                            558402666334,
                            426.65149307250977
                        ],
                        [
                            558426855042,
                            463.6983451843262
                        ],
                        [
                            558464204125,
                            472.80905532836914
                        ],
                        [
                            558471895334,
                            461.3702201843262
                        ],
                        [
                            558471896959,
                            434.70824813842773
                        ],
                        [
                            558492966459,
                            436.6139793395996
                        ],
                        [
                            558524384667,
                            472.8235511779785
                        ],
                        [
                            558532467292,
                            484.2613639831543
                        ],
                        [
                            559350286084,
                            471.2795066833496
                        ],
                        [
                            559350287167,
                            459.79284286499023
                        ],
                        [
                            559350287917,
                            446.4455680847168
                        ],
                        [
                            559368617959,
                            434.7657356262207
                        ],
                        [
                            559368619625,
                            379.9967918395996
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.2608641762621757,
                    "n_core_utilization": 0.08102965348349817,
                    "n_cpu_percent_c": 0.38616881450818724,
                    "n_cpu_percent_python": 0.8061419534355705,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1720.1992950439453,
                    "n_malloc_mb": 3433.4449462890625,
                    "n_mallocs": 0,
                    "n_peak_mb": 1720.1992950439453,
                    "n_python_fraction": 0.01626429008845614,
                    "n_sys_percent": 0.03458635602316909,
                    "n_usage_fraction": 0.06729071504031088,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        data,\n",
                    "lineno": 30,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        \"HeartRateVariabilitySDNN\",\n",
                    "lineno": 31,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        context='sleep'\n",
                    "lineno": 32,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    )\n",
                    "lineno": 33,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hrv_nsr_features = ft.aggregateVitalsDaily(\n",
                    "lineno": 34,
                    "memory_samples": [
                        [
                            41823810000,
                            669.2243766784668
                        ],
                        [
                            41825416542,
                            656.843318939209
                        ],
                        [
                            41848554084,
                            670.5326042175293
                        ],
                        [
                            41865533417,
                            711.4865102767944
                        ],
                        [
                            41884790250,
                            725.2695350646973
                        ],
                        [
                            41898942084,
                            738.9581336975098
                        ],
                        [
                            41914920084,
                            785.7712135314941
                        ],
                        [
                            41933595417,
                            913.4910192489624
                        ],
                        [
                            41967885417,
                            849.7712059020996
                        ],
                        [
                            41998812250,
                            898.5848684310913
                        ],
                        [
                            42047945375,
                            967.0547523498535
                        ],
                        [
                            42064597292,
                            903.0536689758301
                        ],
                        [
                            42064598375,
                            879.0530204772949
                        ],
                        [
                            42082668834,
                            865.3649024963379
                        ],
                        [
                            42082671125,
                            837.9875297546387
                        ],
                        [
                            42082674459,
                            774.1225318908691
                        ],
                        [
                            42082677500,
                            790.2447242736816
                        ],
                        [
                            42162152250,
                            551.947208404541
                        ],
                        [
                            42170705917,
                            551.9473915100098
                        ],
                        [
                            42209850875,
                            593.028133392334
                        ],
                        [
                            42219156875,
                            611.2628593444824
                        ],
                        [
                            42244693667,
                            656.7961416244507
                        ],
                        [
                            224329966750,
                            1815.62939453125
                        ],
                        [
                            224336451500,
                            1836.5046081542969
                        ],
                        [
                            224336453292,
                            1855.0359497070312
                        ],
                        [
                            224373957167,
                            1881.9169387817383
                        ],
                        [
                            224373959500,
                            1871.2294387817383
                        ],
                        [
                            224422160875,
                            1392.5520248413086
                        ],
                        [
                            224422166875,
                            1410.9897184371948
                        ],
                        [
                            224479417167,
                            1429.6143035888672
                        ],
                        [
                            224527187417,
                            1503.7233047485352
                        ],
                        [
                            224541507167,
                            1522.2536239624023
                        ],
                        [
                            224564312250,
                            1559.3159713745117
                        ],
                        [
                            224677789459,
                            1715.9715118408203
                        ],
                        [
                            224702460209,
                            1734.5027923583984
                        ],
                        [
                            224706393417,
                            1771.5499649047852
                        ],
                        [
                            224706397584,
                            1819.4575757980347
                        ],
                        [
                            224771129750,
                            1927.3217554092407
                        ],
                        [
                            224771133584,
                            2183.228412628174
                        ],
                        [
                            224883017084,
                            1979.633599281311
                        ],
                        [
                            224885543125,
                            2000.5112390518188
                        ],
                        [
                            224929580750,
                            2056.1116800308228
                        ],
                        [
                            224932638792,
                            2056.1062173843384
                        ],
                        [
                            224932641542,
                            2074.5436363220215
                        ],
                        [
                            224934064750,
                            2074.5433235168457
                        ],
                        [
                            224995369750,
                            2072.2740564346313
                        ],
                        [
                            225021520834,
                            2141.1495752334595
                        ],
                        [
                            225158839542,
                            2358.7508935928345
                        ],
                        [
                            225165754209,
                            2379.719440460205
                        ],
                        [
                            225329150792,
                            1807.6377220153809
                        ],
                        [
                            225331547250,
                            1826.1691093444824
                        ],
                        [
                            225335333750,
                            1807.7320108413696
                        ],
                        [
                            225338288042,
                            1823.9814081192017
                        ],
                        [
                            225338289584,
                            1842.5126581192017
                        ],
                        [
                            225370401042,
                            1881.9264307022095
                        ],
                        [
                            225371941167,
                            1861.0469064712524
                        ],
                        [
                            225371942084,
                            1845.0458307266235
                        ],
                        [
                            225371942834,
                            1826.2645807266235
                        ],
                        [
                            225449958125,
                            1884.238923072815
                        ],
                        [
                            225472011375,
                            1902.744309425354
                        ],
                        [
                            225472015750,
                            1921.1804084777832
                        ],
                        [
                            225511729709,
                            1958.3373651504517
                        ],
                        [
                            225536988834,
                            1976.86847782135
                        ],
                        [
                            461582459167,
                            409.2868318557739
                        ],
                        [
                            461619815042,
                            284.13549518585205
                        ],
                        [
                            461658267750,
                            333.0787935256958
                        ],
                        [
                            461658276084,
                            351.45426177978516
                        ],
                        [
                            461659340417,
                            369.98651123046875
                        ],
                        [
                            461670502375,
                            412.42656803131104
                        ],
                        [
                            461704642584,
                            408.83646965026855
                        ],
                        [
                            461728028917,
                            443.3058605194092
                        ],
                        [
                            461731176417,
                            453.8397808074951
                        ],
                        [
                            461755639500,
                            464.02844047546387
                        ],
                        [
                            461755858667,
                            453.1824474334717
                        ],
                        [
                            461781897167,
                            485.23560905456543
                        ],
                        [
                            510576633084,
                            299.07264614105225
                        ],
                        [
                            510600667334,
                            355.8260793685913
                        ],
                        [
                            510600672042,
                            392.7796878814697
                        ],
                        [
                            510621145084,
                            371.50458431243896
                        ],
                        [
                            510657051917,
                            367.96236419677734
                        ],
                        [
                            510717234000,
                            323.9035873413086
                        ],
                        [
                            510723886042,
                            335.1545104980469
                        ],
                        [
                            510734852709,
                            346.4057846069336
                        ],
                        [
                            559410163625,
                            263.68259048461914
                        ],
                        [
                            559429683542,
                            304.2503471374512
                        ],
                        [
                            559429686667,
                            316.157057762146
                        ],
                        [
                            559430045084,
                            336.1560354232788
                        ],
                        [
                            559439078250,
                            373.203688621521
                        ],
                        [
                            559454888084,
                            341.2963752746582
                        ],
                        [
                            559465402292,
                            362.8300361633301
                        ],
                        [
                            559484503959,
                            396.73718643188477
                        ],
                        [
                            559520984792,
                            322.4269380569458
                        ],
                        [
                            559521192250,
                            312.20634174346924
                        ],
                        [
                            559554404834,
                            348.41821002960205
                        ],
                        [
                            559562392042,
                            359.85602283477783
                        ],
                        [
                            584309334459,
                            337.96364307403564
                        ],
                        [
                            584309335750,
                            326.47697925567627
                        ],
                        [
                            584309338167,
                            265.63171100616455
                        ],
                        [
                            584309338875,
                            251.72404193878174
                        ],
                        [
                            584309339625,
                            240.28099536895752
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 9.119847435401361,
                    "n_core_utilization": 0.08266930207266333,
                    "n_cpu_percent_c": 5.0355279897815866,
                    "n_cpu_percent_python": 22.85863723969031,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2553.4853773117065,
                    "n_malloc_mb": 3490.868063926697,
                    "n_mallocs": 0,
                    "n_peak_mb": 2553.4853773117065,
                    "n_python_fraction": 0.015996843072312597,
                    "n_sys_percent": 0.22534395213578123,
                    "n_usage_fraction": 0.06841612776896308,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        data,\n",
                    "lineno": 35,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        \"HeartRateVariabilitySDNN\",\n",
                    "lineno": 36,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        context=\"non-sleep rest\"\n",
                    "lineno": 37,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    )\n",
                    "lineno": 38,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    rr_features = ft.aggregateVitalsDaily(data, \"RespiratoryRate\")\n",
                    "lineno": 39,
                    "memory_samples": [
                        [
                            65904023875,
                            677.0621376037598
                        ],
                        [
                            65905352542,
                            664.6811866760254
                        ],
                        [
                            66005088625,
                            468.1019630432129
                        ],
                        [
                            66019721042,
                            499.94657802581787
                        ],
                        [
                            66037621042,
                            591.1191167831421
                        ],
                        [
                            66057703917,
                            654.9324941635132
                        ],
                        [
                            66092183959,
                            591.2126808166504
                        ],
                        [
                            66094569250,
                            601.5262413024902
                        ],
                        [
                            66105266250,
                            612.7199668884277
                        ],
                        [
                            66106798500,
                            600.3388404846191
                        ],
                        [
                            66124533417,
                            614.0276222229004
                        ],
                        [
                            66173187792,
                            705.199520111084
                        ],
                        [
                            66190373875,
                            641.3856468200684
                        ],
                        [
                            66191945000,
                            634.7144737243652
                        ],
                        [
                            66193957334,
                            623.152042388916
                        ],
                        [
                            66254284292,
                            540.6992921829224
                        ],
                        [
                            66254903292,
                            552.2611055374146
                        ],
                        [
                            66282328750,
                            554.9989976882935
                        ],
                        [
                            66288159209,
                            568.0931596755981
                        ],
                        [
                            66305319792,
                            581.7810716629028
                        ],
                        [
                            66313855042,
                            600.0158281326294
                        ],
                        [
                            66340703459,
                            645.5493316650391
                        ],
                        [
                            324247342459,
                            2183.326316833496
                        ],
                        [
                            324291173917,
                            2249.613815307617
                        ],
                        [
                            324291179584,
                            2257.3577222824097
                        ],
                        [
                            324454534000,
                            1396.1417083740234
                        ],
                        [
                            324454539584,
                            1414.5795545578003
                        ],
                        [
                            324536956542,
                            1395.208680152893
                        ],
                        [
                            324589947000,
                            1485.5041131973267
                        ],
                        [
                            324606033375,
                            1504.0354089736938
                        ],
                        [
                            324632823417,
                            1522.566445350647
                        ],
                        [
                            324742387125,
                            1660.6922845840454
                        ],
                        [
                            324772902084,
                            1716.2723016738892
                        ],
                        [
                            324772905667,
                            1764.1790885925293
                        ],
                        [
                            324964094959,
                            1983.2253885269165
                        ],
                        [
                            324966728250,
                            2004.103066444397
                        ],
                        [
                            324975421584,
                            2024.978310585022
                        ],
                        [
                            325015530084,
                            2059.697533607483
                        ],
                        [
                            325015534250,
                            2059.703392982483
                        ],
                        [
                            325015537750,
                            2078.13472366333
                        ],
                        [
                            325020082250,
                            2078.1351356506348
                        ],
                        [
                            325023164000,
                            2059.603672027588
                        ],
                        [
                            325023168084,
                            2020.1966133117676
                        ],
                        [
                            325077058917,
                            2038.8216562271118
                        ],
                        [
                            325087712000,
                            2075.868950843811
                        ],
                        [
                            325114406000,
                            2144.744469642639
                        ],
                        [
                            325246652084,
                            2348.433060646057
                        ],
                        [
                            325253749125,
                            2364.6912775039673
                        ],
                        [
                            325253750959,
                            2383.2225275039673
                        ],
                        [
                            325262317750,
                            2385.41060256958
                        ],
                        [
                            325291617167,
                            2366.9724740982056
                        ],
                        [
                            325424521375,
                            2422.47367477417
                        ],
                        [
                            325527433375,
                            1811.2236595153809
                        ],
                        [
                            325529858500,
                            1829.7551078796387
                        ],
                        [
                            325534155667,
                            1811.3180093765259
                        ],
                        [
                            325537151500,
                            1864.5373344421387
                        ],
                        [
                            325570943000,
                            1885.5125513076782
                        ],
                        [
                            325572474709,
                            1864.6329050064087
                        ],
                        [
                            325572476417,
                            1829.8505792617798
                        ],
                        [
                            325625988042,
                            1866.9493341445923
                        ],
                        [
                            325668091542,
                            1906.3572244644165
                        ],
                        [
                            325675308000,
                            1906.3341989517212
                        ],
                        [
                            325675314209,
                            1924.7703590393066
                        ],
                        [
                            325704640709,
                            1943.3959512710571
                        ],
                        [
                            325740477625,
                            1980.4582529067993
                        ],
                        [
                            325777307542,
                            2044.4592599868774
                        ],
                        [
                            325822514334,
                            2100.052948951721
                        ],
                        [
                            325838626500,
                            2118.584221839905
                        ],
                        [
                            325891553667,
                            2155.647141456604
                        ],
                        [
                            326331831209,
                            2137.464814186096
                        ],
                        [
                            326331833625,
                            2100.40087223053
                        ],
                        [
                            326331837042,
                            1830.1802606582642
                        ],
                        [
                            326331841834,
                            1700.4684076309204
                        ],
                        [
                            478262746584,
                            412.381459236145
                        ],
                        [
                            478315581417,
                            486.8572463989258
                        ],
                        [
                            478316627500,
                            505.3895492553711
                        ],
                        [
                            478317988292,
                            486.9509859085083
                        ],
                        [
                            478351347834,
                            415.590087890625
                        ],
                        [
                            478369037625,
                            378.6358995437622
                        ],
                        [
                            478384415209,
                            406.95267963409424
                        ],
                        [
                            478410851959,
                            457.00307178497314
                        ],
                        [
                            478436384750,
                            467.1918077468872
                        ],
                        [
                            478477126084,
                            500.7436113357544
                        ],
                        [
                            478486735250,
                            513.0257158279419
                        ],
                        [
                            478608048417,
                            501.03893756866455
                        ],
                        [
                            478608050250,
                            476.3161973953247
                        ],
                        [
                            517987885209,
                            421.3549566268921
                        ],
                        [
                            517987889667,
                            458.30838203430176
                        ],
                        [
                            518001400375,
                            421.35419368743896
                        ],
                        [
                            518049193750,
                            403.3515615463257
                        ],
                        [
                            518100045209,
                            437.12541103363037
                        ],
                        [
                            518111003459,
                            448.3764410018921
                        ],
                        [
                            518286137125,
                            437.5341329574585
                        ],
                        [
                            518286138125,
                            426.2509984970093
                        ],
                        [
                            518309827625,
                            361.8711233139038
                        ],
                        [
                            584359333250,
                            308.39061737060547
                        ],
                        [
                            584359765625,
                            328.39041900634766
                        ],
                        [
                            584384536500,
                            333.5307664871216
                        ],
                        [
                            584451708542,
                            411.87284564971924
                        ],
                        [
                            584461194500,
                            423.2808198928833
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.0133066875010135,
                    "n_core_utilization": 0.07739114594923335,
                    "n_cpu_percent_c": 0.27725152845597767,
                    "n_cpu_percent_python": 0.3015170147706984,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1926.3292179107666,
                    "n_malloc_mb": 3449.6604022979736,
                    "n_mallocs": 0,
                    "n_peak_mb": 1926.3292179107666,
                    "n_python_fraction": 0.017087734612643797,
                    "n_sys_percent": 0.044438560686664616,
                    "n_usage_fraction": 0.06760851528077307,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    rr_nsr_features = ft.aggregateVitalsDaily(data, \"RespiratoryRate\", context=\"non-sleep rest\")\n",
                    "lineno": 40,
                    "memory_samples": [
                        [
                            66538080167,
                            666.2264213562012
                        ],
                        [
                            66561480917,
                            679.9159278869629
                        ],
                        [
                            66578862750,
                            707.2922401428223
                        ],
                        [
                            66578866417,
                            720.8697195053101
                        ],
                        [
                            66628268417,
                            793.9516792297363
                        ],
                        [
                            66628271667,
                            817.8584585189819
                        ],
                        [
                            66628870834,
                            795.1542701721191
                        ],
                        [
                            66628874000,
                            858.8730535507202
                        ],
                        [
                            66683286792,
                            859.1543083190918
                        ],
                        [
                            66695845584,
                            880.6614952087402
                        ],
                        [
                            66750189000,
                            615.822193145752
                        ],
                        [
                            66803240167,
                            706.9940223693848
                        ],
                        [
                            66805711042,
                            723.122486114502
                        ],
                        [
                            66807434792,
                            711.5600547790527
                        ],
                        [
                            66846138667,
                            721.6312522888184
                        ],
                        [
                            66910776459,
                            555.0042161941528
                        ],
                        [
                            66915878792,
                            568.0982027053833
                        ],
                        [
                            66932812375,
                            581.785984992981
                        ],
                        [
                            66941061792,
                            600.020848274231
                        ],
                        [
                            66968027292,
                            645.5544357299805
                        ],
                        [
                            67149874917,
                            655.7957124710083
                        ],
                        [
                            326399132125,
                            1721.262276649475
                        ],
                        [
                            326405859042,
                            1742.1373682022095
                        ],
                        [
                            326405860709,
                            1760.6687097549438
                        ],
                        [
                            326498622167,
                            1405.9415674209595
                        ],
                        [
                            326498624709,
                            1395.2540674209595
                        ],
                        [
                            326498629042,
                            1413.6853675842285
                        ],
                        [
                            326502499709,
                            1413.6856651306152
                        ],
                        [
                            326504134834,
                            1395.1541862487793
                        ],
                        [
                            326559150375,
                            1432.3101205825806
                        ],
                        [
                            326598613875,
                            1469.373085975647
                        ],
                        [
                            326604620500,
                            1506.4197473526
                        ],
                        [
                            326707885084,
                            1644.5444498062134
                        ],
                        [
                            326722858625,
                            1605.1108331680298
                        ],
                        [
                            326790653625,
                            1679.2356576919556
                        ],
                        [
                            326794037709,
                            1716.2844018936157
                        ],
                        [
                            326860118542,
                            2186.8319129943848
                        ],
                        [
                            326971977584,
                            1983.237099647522
                        ],
                        [
                            326974058417,
                            2004.1130151748657
                        ],
                        [
                            327017189959,
                            2070.400902748108
                        ],
                        [
                            327017192250,
                            2059.713402748108
                        ],
                        [
                            327017196709,
                            2078.144962310791
                        ],
                        [
                            327020312209,
                            2059.7079553604126
                        ],
                        [
                            327020317084,
                            2078.1453742980957
                        ],
                        [
                            327021649667,
                            2078.1451683044434
                        ],
                        [
                            327073406584,
                            2096.7704248428345
                        ],
                        [
                            327084806167,
                            2133.8175592422485
                        ],
                        [
                            327084811750,
                            2181.72269821167
                        ],
                        [
                            327239014084,
                            2404.0360498428345
                        ],
                        [
                            327292310250,
                            2100.034035682678
                        ],
                        [
                            327298474125,
                            2134.820939064026
                        ],
                        [
                            327305744125,
                            2137.258403778076
                        ],
                        [
                            327305745167,
                            2118.477153778076
                        ],
                        [
                            327305747375,
                            2137.009136199951
                        ],
                        [
                            327333581667,
                            2118.5710077285767
                        ],
                        [
                            327333585917,
                            2137.1083307266235
                        ],
                        [
                            327467532500,
                            2174.0721473693848
                        ],
                        [
                            327514198959,
                            1811.23384475708
                        ],
                        [
                            327515771125,
                            1829.765293121338
                        ],
                        [
                            327518959084,
                            1811.328194618225
                        ],
                        [
                            327521668375,
                            1827.577660560608
                        ],
                        [
                            327521672417,
                            1864.547519683838
                        ],
                        [
                            327554069709,
                            1864.642991065979
                        ],
                        [
                            327554070709,
                            1848.64191532135
                        ],
                        [
                            327554071500,
                            1829.86066532135
                        ],
                        [
                            327606643542,
                            1866.9603815078735
                        ],
                        [
                            327652460209,
                            1904.0022134780884
                        ],
                        [
                            327692037542,
                            1959.5950555801392
                        ],
                        [
                            327716251000,
                            1978.1263284683228
                        ],
                        [
                            327812530834,
                            2116.251000404358
                        ],
                        [
                            478678463042,
                            537.0887289047241
                        ],
                        [
                            478679640334,
                            555.6209707260132
                        ],
                        [
                            478692394834,
                            622.1369314193726
                        ],
                        [
                            478760254917,
                            418.24804401397705
                        ],
                        [
                            478786254000,
                            452.7173662185669
                        ],
                        [
                            478815576167,
                            473.4426393508911
                        ],
                        [
                            478868177084,
                            519.2769441604614
                        ],
                        [
                            518329275084,
                            352.8141927719116
                        ],
                        [
                            518358602834,
                            421.36598110198975
                        ],
                        [
                            518358606292,
                            458.3193531036377
                        ],
                        [
                            518372401542,
                            421.3651647567749
                        ],
                        [
                            518408970667,
                            439.3680181503296
                        ],
                        [
                            518416024834,
                            428.11644649505615
                        ],
                        [
                            518416025667,
                            416.8648519515991
                        ],
                        [
                            518437991709,
                            413.6726064682007
                        ],
                        [
                            518495027709,
                            341.69804286956787
                        ],
                        [
                            584645493125,
                            359.12199783325195
                        ],
                        [
                            584680511917,
                            395.7224769592285
                        ],
                        [
                            584686461459,
                            417.2553062438965
                        ],
                        [
                            584687441500,
                            456.5362157821655
                        ],
                        [
                            584743645500,
                            517.1190757751465
                        ],
                        [
                            584751551834,
                            480.0708351135254
                        ],
                        [
                            584751552709,
                            465.74206161499023
                        ],
                        [
                            584759069125,
                            454.3032341003418
                        ],
                        [
                            584759071750,
                            439.0812644958496
                        ],
                        [
                            584759072542,
                            427.64126205444336
                        ],
                        [
                            584779707334,
                            429.547306060791
                        ],
                        [
                            584811158250,
                            465.75683975219727
                        ],
                        [
                            611126338875,
                            336.96118545532227
                        ],
                        [
                            611147320209,
                            271.08694076538086
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 9.572565358381294,
                    "n_core_utilization": 0.08236519474066921,
                    "n_cpu_percent_c": 4.955245837661903,
                    "n_cpu_percent_python": 22.982569892014517,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2294.6835222244263,
                    "n_malloc_mb": 3482.8808002471924,
                    "n_mallocs": 0,
                    "n_peak_mb": 2294.6835222244263,
                    "n_python_fraction": 0.01475842201631461,
                    "n_sys_percent": 0.32838748270910206,
                    "n_usage_fraction": 0.06825958858088312,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    rr_sleep_features = ft.aggregateVitalsDaily(data, \"RespiratoryRate\", context=\"sleep\")\n",
                    "lineno": 41,
                    "memory_samples": [
                        [
                            90675938417,
                            670.4796104431152
                        ],
                        [
                            90677993334,
                            658.0986671447754
                        ],
                        [
                            90717409625,
                            699.1646461486816
                        ],
                        [
                            90736262917,
                            726.5251197814941
                        ],
                        [
                            90805143209,
                            785.8263511657715
                        ],
                        [
                            90805164125,
                            550.4852361679077
                        ],
                        [
                            90807171250,
                            527.7810478210449
                        ],
                        [
                            90807174750,
                            591.5002508163452
                        ],
                        [
                            90863874709,
                            601.9088020324707
                        ],
                        [
                            90875747834,
                            613.1025276184082
                        ],
                        [
                            90942243625,
                            710.1458549499512
                        ],
                        [
                            91021212875,
                            552.2464265823364
                        ],
                        [
                            91054987084,
                            568.0789613723755
                        ],
                        [
                            91070056500,
                            581.7668046951294
                        ],
                        [
                            91105181459,
                            627.3792009353638
                        ],
                        [
                            91985780084,
                            614.1596803665161
                        ],
                        [
                            91985785750,
                            541.0703248977661
                        ],
                        [
                            92021375667,
                            454.23700428009033
                        ],
                        [
                            426498615709,
                            2163.9995126724243
                        ],
                        [
                            426508185625,
                            2175.8002395629883
                        ],
                        [
                            426516251250,
                            2207.850326538086
                        ],
                        [
                            426619418292,
                            1399.7217178344727
                        ],
                        [
                            426656717000,
                            1418.158938407898
                        ],
                        [
                            426662107459,
                            1399.627818107605
                        ],
                        [
                            426662108917,
                            1418.1590757369995
                        ],
                        [
                            426715817667,
                            1374.2905054092407
                        ],
                        [
                            426742273000,
                            1395.1659173965454
                        ],
                        [
                            426755552250,
                            1413.6980905532837
                        ],
                        [
                            426762073250,
                            1469.1808586120605
                        ],
                        [
                            426788467459,
                            1487.8062524795532
                        ],
                        [
                            426864082167,
                            1588.8682718276978
                        ],
                        [
                            426940228000,
                            1681.5247659683228
                        ],
                        [
                            426943006875,
                            1766.4804649353027
                        ],
                        [
                            426946245334,
                            1729.52627658844
                        ],
                        [
                            427006610209,
                            2189.121082305908
                        ],
                        [
                            427117596125,
                            1985.5262689590454
                        ],
                        [
                            427119760625,
                            2006.4020853042603
                        ],
                        [
                            427125909792,
                            2027.2773294448853
                        ],
                        [
                            427125911167,
                            2045.8086862564087
                        ],
                        [
                            427162956584,
                            2072.690094947815
                        ],
                        [
                            427162959000,
                            2062.002594947815
                        ],
                        [
                            427162962042,
                            2080.434169769287
                        ],
                        [
                            427165929959,
                            2061.9971628189087
                        ],
                        [
                            427165932542,
                            2080.434581756592
                        ],
                        [
                            427167385792,
                            2080.4343223571777
                        ],
                        [
                            427218456084,
                            2099.0595178604126
                        ],
                        [
                            427230182542,
                            2123.725269317627
                        ],
                        [
                            427381680209,
                            2346.0393838882446
                        ],
                        [
                            427387733417,
                            2362.296769142151
                        ],
                        [
                            427387735084,
                            2380.828019142151
                        ],
                        [
                            427387738125,
                            2399.2670097351074
                        ],
                        [
                            427421158750,
                            2364.577919960022
                        ],
                        [
                            427421161375,
                            2383.1151361465454
                        ],
                        [
                            427650476334,
                            1829.7103309631348
                        ],
                        [
                            427654179792,
                            1811.273232460022
                        ],
                        [
                            427656858792,
                            1864.4925575256348
                        ],
                        [
                            427690561042,
                            1848.3991327285767
                        ],
                        [
                            427771152917,
                            1906.3727960586548
                        ],
                        [
                            427821754875,
                            1996.6686563491821
                        ],
                        [
                            427832749334,
                            2015.1999063491821
                        ],
                        [
                            427909240125,
                            2060.601517677307
                        ],
                        [
                            427952419459,
                            2116.1952981948853
                        ],
                        [
                            428001282125,
                            2153.258271217346
                        ],
                        [
                            495220403875,
                            486.60375213623047
                        ],
                        [
                            495222907584,
                            523.6509857177734
                        ],
                        [
                            495232697792,
                            560.6986465454102
                        ],
                        [
                            495250702750,
                            523.7444581985474
                        ],
                        [
                            495256709334,
                            533.9332857131958
                        ],
                        [
                            495266498542,
                            554.5909852981567
                        ],
                        [
                            495298519542,
                            557.0591707229614
                        ],
                        [
                            495298520792,
                            538.5272722244263
                        ],
                        [
                            495308280417,
                            513.8986406326294
                        ],
                        [
                            495308281834,
                            489.2700548171997
                        ],
                        [
                            495329549875,
                            499.79931354522705
                        ],
                        [
                            495370685334,
                            382.53737354278564
                        ],
                        [
                            495404727000,
                            419.47905445098877
                        ],
                        [
                            495472112500,
                            417.22723960876465
                        ],
                        [
                            525710748750,
                            353.13224601745605
                        ],
                        [
                            525751188417,
                            388.5761241912842
                        ],
                        [
                            525759186209,
                            425.0771312713623
                        ],
                        [
                            525759189834,
                            462.0303735733032
                        ],
                        [
                            525772565542,
                            430.12306022644043
                        ],
                        [
                            525778037959,
                            440.75539207458496
                        ],
                        [
                            525857082417,
                            312.63341522216797
                        ],
                        [
                            525888354459,
                            336.09608459472656
                        ],
                        [
                            525899891584,
                            347.34730529785156
                        ],
                        [
                            611163500125,
                            257.3892631530762
                        ],
                        [
                            611178530792,
                            280.2369575500488
                        ],
                        [
                            611190865459,
                            293.5829429626465
                        ],
                        [
                            611190869834,
                            307.39578914642334
                        ],
                        [
                            611191552917,
                            319.39769649505615
                        ],
                        [
                            611191962000,
                            295.81718158721924
                        ],
                        [
                            611201029667,
                            327.8180742263794
                        ],
                        [
                            611201033875,
                            364.7717056274414
                        ],
                        [
                            611226067750,
                            343.14904499053955
                        ],
                        [
                            611251443167,
                            394.2766466140747
                        ],
                        [
                            611259671917,
                            345.22792530059814
                        ],
                        [
                            611297756042,
                            368.1282625198364
                        ],
                        [
                            611309132625,
                            379.53618335723877
                        ],
                        [
                            611318367250,
                            392.88275623321533
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.759750149496851,
                    "n_core_utilization": 0.07994139254330465,
                    "n_cpu_percent_c": 0.3818629493114781,
                    "n_cpu_percent_python": 0.8160063676593189,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2382.0714254379272,
                    "n_malloc_mb": 3494.5998039245605,
                    "n_mallocs": 0,
                    "n_peak_mb": 2382.0714254379272,
                    "n_python_fraction": 0.018597498904369337,
                    "n_sys_percent": 0.0508260072547016,
                    "n_usage_fraction": 0.06848926464948077,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    o2_features = ft.aggregateVitalsDaily(data, \"OxygenSaturation\")\n",
                    "lineno": 42,
                    "memory_samples": [
                        [
                            92026575375,
                            399.5473222732544
                        ],
                        [
                            92037034709,
                            410.7409563064575
                        ],
                        [
                            92061645000,
                            412.04941272735596
                        ],
                        [
                            92078440334,
                            439.4255952835083
                        ],
                        [
                            92111950375,
                            480.474720954895
                        ],
                        [
                            92111953875,
                            498.6307373046875
                        ],
                        [
                            92126657417,
                            526.085057258606
                        ],
                        [
                            92128757667,
                            526.0845079421997
                        ],
                        [
                            92147880125,
                            653.6165618896484
                        ],
                        [
                            92185317792,
                            600.2101411819458
                        ],
                        [
                            92214919834,
                            612.7111940383911
                        ],
                        [
                            92277259459,
                            640.0693635940552
                        ],
                        [
                            92298451959,
                            603.5837984085083
                        ],
                        [
                            92298454667,
                            553.4079256057739
                        ],
                        [
                            92298460125,
                            528.4635133743286
                        ],
                        [
                            92300204792,
                            516.9010210037231
                        ],
                        [
                            92341764125,
                            539.7151460647583
                        ],
                        [
                            92342337375,
                            551.2769746780396
                        ],
                        [
                            92350149167,
                            539.71617603302
                        ],
                        [
                            92370058917,
                            554.0144929885864
                        ],
                        [
                            92390670709,
                            580.796383857727
                        ],
                        [
                            92409148250,
                            612.7199449539185
                        ],
                        [
                            92423808167,
                            626.408543586731
                        ],
                        [
                            92604883667,
                            549.0933351516724
                        ],
                        [
                            429769111750,
                            2216.922134399414
                        ],
                        [
                            429805716917,
                            2233.109878540039
                        ],
                        [
                            429805718250,
                            2243.803237915039
                        ],
                        [
                            429805721459,
                            2233.115737915039
                        ],
                        [
                            429910339834,
                            1414.737421989441
                        ],
                        [
                            429991997292,
                            1391.742356300354
                        ],
                        [
                            430005203542,
                            1407.9295053482056
                        ],
                        [
                            430010753375,
                            1444.9762125015259
                        ],
                        [
                            430010757917,
                            1463.412395477295
                        ],
                        [
                            430036915209,
                            1482.0378503799438
                        ],
                        [
                            430071470167,
                            1519.0057258605957
                        ],
                        [
                            430106798084,
                            1583.1007242202759
                        ],
                        [
                            430186894917,
                            1712.805459022522
                        ],
                        [
                            430186899042,
                            1760.713176727295
                        ],
                        [
                            430190361584,
                            1723.7589883804321
                        ],
                        [
                            430190366625,
                            1927.3534126281738
                        ],
                        [
                            430366872625,
                            2000.6369104385376
                        ],
                        [
                            430372808125,
                            2040.043511390686
                        ],
                        [
                            430409098542,
                            2056.2314920425415
                        ],
                        [
                            430409099875,
                            2066.9248514175415
                        ],
                        [
                            430409101250,
                            2056.2373514175415
                        ],
                        [
                            430409103709,
                            2074.6688346862793
                        ],
                        [
                            430413491542,
                            2056.137722015381
                        ],
                        [
                            430413492834,
                            2074.6689796447754
                        ],
                        [
                            430464589542,
                            2093.294114112854
                        ],
                        [
                            430475586250,
                            2072.3957147598267
                        ],
                        [
                            430475589584,
                            2120.300853729248
                        ],
                        [
                            430500731125,
                            2141.271180152893
                        ],
                        [
                            430627480542,
                            2342.6148538589478
                        ],
                        [
                            430633409209,
                            2358.872582435608
                        ],
                        [
                            430633414625,
                            2395.8428230285645
                        ],
                        [
                            430640511917,
                            2379.8409538269043
                        ],
                        [
                            430640513000,
                            2361.0597038269043
                        ],
                        [
                            430640514750,
                            2379.5916862487793
                        ],
                        [
                            430667222834,
                            2379.6907663345337
                        ],
                        [
                            430867765500,
                            1789.2268028259277
                        ],
                        [
                            430872773292,
                            1807.7593574523926
                        ],
                        [
                            430881612334,
                            1824.1031732559204
                        ],
                        [
                            430881618875,
                            1842.6344232559204
                        ],
                        [
                            430915592000,
                            1861.1688165664673
                        ],
                        [
                            430915593875,
                            1826.3864908218384
                        ],
                        [
                            430970186959,
                            1863.4855966567993
                        ],
                        [
                            430995087542,
                            1884.3610696792603
                        ],
                        [
                            431016952292,
                            1902.8661127090454
                        ],
                        [
                            431080470500,
                            1976.9902200698853
                        ],
                        [
                            431173872750,
                            2115.1163263320923
                        ],
                        [
                            495949151334,
                            430.47055530548096
                        ],
                        [
                            495983392209,
                            490.7256622314453
                        ],
                        [
                            495996655417,
                            525.3514528274536
                        ],
                        [
                            496015216084,
                            530.3977785110474
                        ],
                        [
                            496063190375,
                            556.1342210769653
                        ],
                        [
                            496063191584,
                            537.6023225784302
                        ],
                        [
                            496072833709,
                            512.9736909866333
                        ],
                        [
                            496072834500,
                            500.65968799591064
                        ],
                        [
                            496117304750,
                            510.5500154495239
                        ],
                        [
                            496151364917,
                            547.4920244216919
                        ],
                        [
                            496332881250,
                            335.5837526321411
                        ],
                        [
                            526896105000,
                            357.6627264022827
                        ],
                        [
                            526911980667,
                            368.63433742523193
                        ],
                        [
                            526929133709,
                            391.13746547698975
                        ],
                        [
                            526936897792,
                            469.6388416290283
                        ],
                        [
                            526950178500,
                            432.6846532821655
                        ],
                        [
                            526975425542,
                            327.5064458847046
                        ],
                        [
                            527001807250,
                            373.9100866317749
                        ],
                        [
                            527008277375,
                            336.861777305603
                        ],
                        [
                            527062826209,
                            372.89189052581787
                        ],
                        [
                            527233767834,
                            373.2954626083374
                        ],
                        [
                            527233769042,
                            362.0123281478882
                        ],
                        [
                            527233769875,
                            350.7172384262085
                        ],
                        [
                            612335126250,
                            357.6539497375488
                        ],
                        [
                            612351113167,
                            368.84284591674805
                        ],
                        [
                            612448342459,
                            463.61679458618164
                        ],
                        [
                            612460555042,
                            452.1779136657715
                        ],
                        [
                            612460556709,
                            425.51594161987305
                        ],
                        [
                            612733083167,
                            384.7047920227051
                        ],
                        [
                            612733085125,
                            359.35407638549805
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 1.8785091951947792,
                    "n_core_utilization": 0.07787364852710751,
                    "n_cpu_percent_c": 0.25698159217524963,
                    "n_cpu_percent_python": 0.3017566717051272,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 2093.235496520996,
                    "n_malloc_mb": 3441.0540733337402,
                    "n_mallocs": 0,
                    "n_peak_mb": 2093.235496520996,
                    "n_python_fraction": 0.012843120418716613,
                    "n_sys_percent": 0.03941698079475788,
                    "n_usage_fraction": 0.06743984327963866,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    active_energy_features = ft.aggregateActiveDurationDaily(data, \"ActiveEnergyBurned\")\n",
                    "lineno": 43,
                    "memory_samples": [
                        [
                            92604891542,
                            532.5198802947998
                        ],
                        [
                            92628794459,
                            520.9582653045654
                        ],
                        [
                            92645561750,
                            535.2416667938232
                        ],
                        [
                            92651052334,
                            548.3355541229248
                        ],
                        [
                            92666862917,
                            562.0233364105225
                        ],
                        [
                            92674163209,
                            580.2580699920654
                        ],
                        [
                            92684760750,
                            593.9467830657959
                        ],
                        [
                            92699171584,
                            607.6355800628662
                        ],
                        [
                            92699176500,
                            625.7915964126587
                        ],
                        [
                            92733862209,
                            637.397382736206
                        ],
                        [
                            92751311084,
                            658.716833114624
                        ],
                        [
                            92761360667,
                            669.4089183807373
                        ],
                        [
                            92767014042,
                            680.007230758667
                        ],
                        [
                            92778224709,
                            669.378438949585
                        ],
                        [
                            92778225959,
                            658.7193660736084
                        ],
                        [
                            92856377125,
                            540.8472099304199
                        ],
                        [
                            92867607292,
                            553.2696876525879
                        ],
                        [
                            92954096000,
                            563.3733177185059
                        ],
                        [
                            93489564334,
                            518.8246116638184
                        ],
                        [
                            93489565500,
                            505.1298179626465
                        ],
                        [
                            93489566334,
                            486.8773307800293
                        ],
                        [
                            93489567125,
                            473.1861686706543
                        ],
                        [
                            93489568792,
                            445.82182693481445
                        ],
                        [
                            93489569709,
                            432.12995529174805
                        ],
                        [
                            93489572084,
                            392.2980480194092
                        ],
                        [
                            431612724000,
                            2169.5607767105103
                        ],
                        [
                            431612726167,
                            2188.0920267105103
                        ],
                        [
                            431612731209,
                            2206.5308799743652
                        ],
                        [
                            431619617459,
                            2190.528949737549
                        ],
                        [
                            431619619084,
                            2171.747699737549
                        ],
                        [
                            431619621667,
                            2190.279582977295
                        ],
                        [
                            431622092750,
                            2171.8414545059204
                        ],
                        [
                            431622095250,
                            2190.3733835220337
                        ],
                        [
                            431659909417,
                            2208.90469455719
                        ],
                        [
                            431684206917,
                            2229.780152320862
                        ],
                        [
                            431697908750,
                            2245.9673166275024
                        ],
                        [
                            431703426125,
                            2293.9670572280884
                        ],
                        [
                            431718703584,
                            2312.4975442886353
                        ],
                        [
                            431730627334,
                            2331.028649330139
                        ],
                        [
                            431767601375,
                            2349.5598459243774
                        ],
                        [
                            431767604750,
                            2367.9967002868652
                        ],
                        [
                            431803939042,
                            2439.6844873428345
                        ],
                        [
                            431863444834,
                            2513.8092737197876
                        ],
                        [
                            431912522125,
                            2550.8704690933228
                        ],
                        [
                            431967840875,
                            2561.3192987442017
                        ],
                        [
                            431987770125,
                            2575.69530582428
                        ],
                        [
                            432095964125,
                            1759.288872718811
                        ],
                        [
                            432106744375,
                            1773.6641550064087
                        ],
                        [
                            432122089167,
                            1788.0401468276978
                        ],
                        [
                            432136354917,
                            1825.0870599746704
                        ],
                        [
                            432148884000,
                            1839.4631509780884
                        ],
                        [
                            432169612500,
                            1853.8392190933228
                        ],
                        [
                            432171639750,
                            1877.0321207046509
                        ],
                        [
                            432181459334,
                            1891.4080209732056
                        ],
                        [
                            432181462625,
                            1905.690013885498
                        ],
                        [
                            432189415292,
                            1921.0647287368774
                        ],
                        [
                            432214968584,
                            1936.3462991714478
                        ],
                        [
                            432228841750,
                            1817.313081741333
                        ],
                        [
                            432242521375,
                            1831.6431369781494
                        ],
                        [
                            432252507292,
                            1846.0183353424072
                        ],
                        [
                            432278972709,
                            1860.3944416046143
                        ],
                        [
                            432280307584,
                            1874.7716007232666
                        ],
                        [
                            432283276000,
                            1911.8256454467773
                        ],
                        [
                            432283280417,
                            1948.7794752120972
                        ],
                        [
                            432285550709,
                            1911.8252868652344
                        ],
                        [
                            432285553542,
                            1948.7791776657104
                        ],
                        [
                            432305076459,
                            1970.359245300293
                        ],
                        [
                            432305078834,
                            1933.3108139038086
                        ],
                        [
                            432321330250,
                            1947.708724975586
                        ],
                        [
                            432361232292,
                            1976.4600830078125
                        ],
                        [
                            432378039250,
                            2002.2065811157227
                        ],
                        [
                            432378042500,
                            2020.6430311203003
                        ],
                        [
                            432413446709,
                            2035.113784790039
                        ],
                        [
                            432423214042,
                            2049.4888229370117
                        ],
                        [
                            433984150584,
                            1935.6533708572388
                        ],
                        [
                            433984153167,
                            1872.8883333206177
                        ],
                        [
                            496345434417,
                            347.51764488220215
                        ],
                        [
                            496358301167,
                            364.76905632019043
                        ],
                        [
                            496370591334,
                            377.1151714324951
                        ],
                        [
                            496380196167,
                            389.3972759246826
                        ],
                        [
                            496394863334,
                            399.5372371673584
                        ],
                        [
                            496403659417,
                            410.1077709197998
                        ],
                        [
                            496522015750,
                            420.2806968688965
                        ],
                        [
                            497055005709,
                            343.87678241729736
                        ],
                        [
                            527269198834,
                            317.8946533203125
                        ],
                        [
                            527288625875,
                            340.3981246948242
                        ],
                        [
                            527304937959,
                            350.82604217529297
                        ],
                        [
                            612746799292,
                            370.48256397247314
                        ],
                        [
                            612768193167,
                            393.33073902130127
                        ],
                        [
                            612776847542,
                            404.76842975616455
                        ],
                        [
                            612793965292,
                            415.60236072540283
                        ],
                        [
                            612820850125,
                            426.1774568557739
                        ],
                        [
                            612831354459,
                            321.59930896759033
                        ],
                        [
                            612842285709,
                            332.196177482605
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 2.799949445227638,
                    "n_core_utilization": 0.08036062614419762,
                    "n_cpu_percent_c": 0.22374560978675304,
                    "n_cpu_percent_python": 0.5854711046262815,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1018.5085182189941,
                    "n_malloc_mb": 1407.622013092041,
                    "n_mallocs": 0,
                    "n_peak_mb": 1018.5085182189941,
                    "n_python_fraction": 0.049099189658107154,
                    "n_sys_percent": 0.029934614249868565,
                    "n_usage_fraction": 0.02758742116130928,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    sleep_features = ft.aggregateSleepCategoriesDaily(data)\n",
                    "lineno": 44,
                    "memory_samples": [
                        [
                            93498775959,
                            404.8531856536865
                        ],
                        [
                            93500721167,
                            393.29069328308105
                        ],
                        [
                            93516915000,
                            407.57438468933105
                        ],
                        [
                            93521753709,
                            420.6683177947998
                        ],
                        [
                            93537209042,
                            434.35604667663574
                        ],
                        [
                            93545970292,
                            452.59105491638184
                        ],
                        [
                            93556940917,
                            466.2796230316162
                        ],
                        [
                            93571057250,
                            479.9680461883545
                        ],
                        [
                            93571060750,
                            498.124062538147
                        ],
                        [
                            93604868209,
                            508.3610897064209
                        ],
                        [
                            94444042500,
                            496.45641803741455
                        ],
                        [
                            433984156917,
                            1889.149624824524
                        ],
                        [
                            433984158500,
                            1907.680874824524
                        ],
                        [
                            433984162459,
                            1926.119758605957
                        ],
                        [
                            433990645584,
                            1910.1178283691406
                        ],
                        [
                            433990646542,
                            1891.3365783691406
                        ],
                        [
                            433990648125,
                            1909.8684616088867
                        ],
                        [
                            433992831792,
                            1891.4303331375122
                        ],
                        [
                            434007557917,
                            1909.9623613357544
                        ],
                        [
                            434037911292,
                            1928.4934511184692
                        ],
                        [
                            434140107917,
                            1390.7466220855713
                        ],
                        [
                            434154399542,
                            1406.9337558746338
                        ],
                        [
                            434159753959,
                            1443.9802417755127
                        ],
                        [
                            434159757750,
                            1462.41637134552
                        ],
                        [
                            434185869500,
                            1481.0417041778564
                        ],
                        [
                            434222477459,
                            1499.572702407837
                        ],
                        [
                            434222481167,
                            1518.009503364563
                        ],
                        [
                            434255011500,
                            1582.1035327911377
                        ],
                        [
                            434268711334,
                            1600.6344470977783
                        ],
                        [
                            434284684959,
                            1619.1657733917236
                        ],
                        [
                            434300887417,
                            1637.696756362915
                        ],
                        [
                            434316214459,
                            1656.2278995513916
                        ],
                        [
                            434341366709,
                            1674.7591800689697
                        ],
                        [
                            434366755959,
                            1693.2898044586182
                        ],
                        [
                            436366251875,
                            1679.2432861328125
                        ],
                        [
                            436366253250,
                            1660.7118606567383
                        ],
                        [
                            436366254250,
                            1642.1770858764648
                        ],
                        [
                            497055009292,
                            354.41689014434814
                        ],
                        [
                            497072171209,
                            366.0754976272583
                        ],
                        [
                            497081110959,
                            378.3889055252075
                        ],
                        [
                            497092699209,
                            390.7351198196411
                        ],
                        [
                            497102079750,
                            403.0172243118286
                        ],
                        [
                            497695354375,
                            388.515643119812
                        ],
                        [
                            497695355500,
                            376.16585063934326
                        ],
                        [
                            497695356417,
                            363.8496046066284
                        ],
                        [
                            497695357334,
                            351.53094005584717
                        ],
                        [
                            527870942125,
                            296.3958797454834
                        ],
                        [
                            527889227584,
                            308.5868434906006
                        ],
                        [
                            527894913750,
                            319.83788108825684
                        ],
                        [
                            527905889000,
                            331.08886528015137
                        ],
                        [
                            613377750167,
                            323.7621259689331
                        ],
                        [
                            613389328084,
                            337.0759000778198
                        ],
                        [
                            613401162584,
                            348.51633739471436
                        ],
                        [
                            613410430500,
                            359.9539747238159
                        ],
                        [
                            614372514000,
                            281.33493995666504
                        ],
                        [
                            614372517209,
                            269.89143562316895
                        ],
                        [
                            614372519792,
                            258.4802188873291
                        ],
                        [
                            614372522209,
                            247.03533363342285
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 1.3332427732432657,
                    "n_core_utilization": 0.08012585420624463,
                    "n_cpu_percent_c": 0.24721030987127873,
                    "n_cpu_percent_python": 0.6774121058897978,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 530.8118696212769,
                    "n_malloc_mb": 710.7590465545654,
                    "n_mallocs": 0,
                    "n_peak_mb": 530.8118696212769,
                    "n_python_fraction": 0.0512482579075635,
                    "n_sys_percent": 0.03701311054180119,
                    "n_usage_fraction": 0.013929882439419698,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    sleep_annot_features = sft.dailySleepFeatures(data)\n",
                    "lineno": 45,
                    "memory_samples": [
                        [
                            94444046417,
                            512.598629951477
                        ],
                        [
                            94496217917,
                            418.94106006622314
                        ],
                        [
                            94512904167,
                            432.63016986846924
                        ],
                        [
                            94518165292,
                            446.3179521560669
                        ],
                        [
                            94530895250,
                            460.0064363479614
                        ],
                        [
                            94539753334,
                            473.67804431915283
                        ],
                        [
                            94551078625,
                            487.36655139923096
                        ],
                        [
                            94565701792,
                            501.0553026199341
                        ],
                        [
                            94565705042,
                            519.2113189697266
                        ],
                        [
                            94598682250,
                            529.4462938308716
                        ],
                        [
                            94685683375,
                            541.0204658508301
                        ],
                        [
                            94693956542,
                            551.242603302002
                        ],
                        [
                            94699122584,
                            562.058521270752
                        ],
                        [
                            94702434542,
                            573.6912794113159
                        ],
                        [
                            94707467875,
                            586.1140851974487
                        ],
                        [
                            94707480167,
                            581.8471755981445
                        ],
                        [
                            94715809167,
                            569.5179872512817
                        ],
                        [
                            94865663250,
                            524.8178586959839
                        ],
                        [
                            436366257917,
                            1658.460304260254
                        ],
                        [
                            436366259667,
                            1676.991554260254
                        ],
                        [
                            436366264209,
                            1695.430323600769
                        ],
                        [
                            436372823542,
                            1679.4284009933472
                        ],
                        [
                            436372824542,
                            1660.6471509933472
                        ],
                        [
                            436372826500,
                            1679.179087638855
                        ],
                        [
                            436375000292,
                            1660.7409591674805
                        ],
                        [
                            436375002209,
                            1679.2725524902344
                        ],
                        [
                            436413008042,
                            1697.8031921386719
                        ],
                        [
                            436492870917,
                            1391.4497909545898
                        ],
                        [
                            436506545375,
                            1407.6370315551758
                        ],
                        [
                            436511850959,
                            1444.6836318969727
                        ],
                        [
                            436511855542,
                            1463.11976146698
                        ],
                        [
                            436537556542,
                            1481.7453308105469
                        ],
                        [
                            436573268875,
                            1500.2765197753906
                        ],
                        [
                            436573273375,
                            1518.7133741378784
                        ],
                        [
                            436605509709,
                            1582.8074264526367
                        ],
                        [
                            436620359834,
                            1601.3386306762695
                        ],
                        [
                            436634530000,
                            1619.8697967529297
                        ],
                        [
                            436649362959,
                            1638.4008483886719
                        ],
                        [
                            436663596084,
                            1656.9321212768555
                        ],
                        [
                            436687602209,
                            1675.4631118774414
                        ],
                        [
                            436710779542,
                            1693.9936752319336
                        ],
                        [
                            437452769209,
                            1705.9748983383179
                        ],
                        [
                            437458943417,
                            1716.9451360702515
                        ],
                        [
                            437468043750,
                            1728.1962118148804
                        ],
                        [
                            437478432125,
                            1739.4486455917358
                        ],
                        [
                            437484515000,
                            1750.6049337387085
                        ],
                        [
                            437489722750,
                            1761.8557424545288
                        ],
                        [
                            437494441584,
                            1775.3616390228271
                        ],
                        [
                            437502962500,
                            1812.4085369110107
                        ],
                        [
                            437502966084,
                            1860.3153009414673
                        ],
                        [
                            437523090875,
                            1823.3611125946045
                        ],
                        [
                            437523095125,
                            1812.0134897232056
                        ],
                        [
                            437523096000,
                            1800.7617120742798
                        ],
                        [
                            437530049000,
                            1789.6030864715576
                        ],
                        [
                            437530050167,
                            1776.1009197235107
                        ],
                        [
                            437530051000,
                            1762.5984172821045
                        ],
                        [
                            437645434292,
                            1773.0618019104004
                        ],
                        [
                            437988424792,
                            1750.1817741394043
                        ],
                        [
                            437988426084,
                            1731.65034866333
                        ],
                        [
                            437988426917,
                            1713.1154823303223
                        ],
                        [
                            497709253542,
                            363.6711778640747
                        ],
                        [
                            497720302042,
                            378.4541139602661
                        ],
                        [
                            497732003917,
                            390.80009174346924
                        ],
                        [
                            497752120292,
                            321.33034324645996
                        ],
                        [
                            497833198625,
                            331.67848682403564
                        ],
                        [
                            497840750459,
                            341.8710832595825
                        ],
                        [
                            497844533209,
                            352.37584400177
                        ],
                        [
                            497848545792,
                            365.57091903686523
                        ],
                        [
                            497857261459,
                            355.06177139282227
                        ],
                        [
                            497857262584,
                            344.5548439025879
                        ],
                        [
                            528913834750,
                            287.9329662322998
                        ],
                        [
                            528925923125,
                            303.68412590026855
                        ],
                        [
                            528935262417,
                            314.9364376068115
                        ],
                        [
                            529212013875,
                            291.35290336608887
                        ],
                        [
                            529218238084,
                            301.48151206970215
                        ],
                        [
                            529223966084,
                            317.64542865753174
                        ],
                        [
                            529232752667,
                            307.1996431350708
                        ],
                        [
                            529232754875,
                            296.78747272491455
                        ],
                        [
                            529360457542,
                            286.06020736694336
                        ],
                        [
                            614384929084,
                            258.27649307250977
                        ],
                        [
                            614398170209,
                            269.6843452453613
                        ],
                        [
                            614414050792,
                            281.12472915649414
                        ],
                        [
                            614414061875,
                            292.4678945541382
                        ],
                        [
                            614590906125,
                            303.4160032272339
                        ],
                        [
                            614606109417,
                            316.74045753479004
                        ],
                        [
                            614606120625,
                            306.54106616973877
                        ],
                        [
                            614724575959,
                            295.7663879394531
                        ],
                        [
                            614724579334,
                            284.33866119384766
                        ],
                        [
                            614724581792,
                            269.1132354736328
                        ],
                        [
                            614724584375,
                            257.6691436767578
                        ],
                        [
                            614724586834,
                            247.1630334854126
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 1.434630881886894,
                    "n_core_utilization": 0.078969027870823,
                    "n_cpu_percent_c": 0.1417528642785496,
                    "n_cpu_percent_python": 0.33073930027430704,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 766.6719570159912,
                    "n_malloc_mb": 1053.8276481628418,
                    "n_mallocs": 0,
                    "n_peak_mb": 766.6719570159912,
                    "n_python_fraction": 0.09942785848294941,
                    "n_sys_percent": 0.0261127709223487,
                    "n_usage_fraction": 0.020653546826423067,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    audioExposure_features = ft.aggregateEnvironmentDaily(data, \"EnvironmentalAudioExposure\")\n",
                    "lineno": 46,
                    "memory_samples": [
                        [
                            94865667542,
                            540.9575757980347
                        ],
                        [
                            94913511167,
                            418.88030910491943
                        ],
                        [
                            94929948584,
                            432.5689458847046
                        ],
                        [
                            94934706667,
                            446.25672817230225
                        ],
                        [
                            94945766209,
                            459.9455404281616
                        ],
                        [
                            94945769917,
                            473.5228443145752
                        ],
                        [
                            94963677167,
                            487.3057928085327
                        ],
                        [
                            94977544250,
                            500.9944829940796
                        ],
                        [
                            94977547834,
                            519.1503849029541
                        ],
                        [
                            95012132792,
                            529.3523473739624
                        ],
                        [
                            95703227667,
                            501.6545467376709
                        ],
                        [
                            437988436750,
                            1729.3957405090332
                        ],
                        [
                            437988438375,
                            1747.9269905090332
                        ],
                        [
                            437988442209,
                            1766.3658742904663
                        ],
                        [
                            437995515959,
                            1750.3638906478882
                        ],
                        [
                            437995517000,
                            1731.5826406478882
                        ],
                        [
                            437995518709,
                            1750.1145238876343
                        ],
                        [
                            437997648250,
                            1731.6766777038574
                        ],
                        [
                            437997650292,
                            1750.2083930969238
                        ],
                        [
                            438035243334,
                            1768.7397575378418
                        ],
                        [
                            438059530709,
                            1789.615177154541
                        ],
                        [
                            438073512167,
                            1805.802547454834
                        ],
                        [
                            438079631084,
                            1842.8491859436035
                        ],
                        [
                            438079635625,
                            1861.2853689193726
                        ],
                        [
                            438107578917,
                            1879.9108848571777
                        ],
                        [
                            438117626167,
                            1898.4419898986816
                        ],
                        [
                            438141660875,
                            1916.9731788635254
                        ],
                        [
                            438176194334,
                            1988.5666618347168
                        ],
                        [
                            438191235334,
                            2007.097812652588
                        ],
                        [
                            438205191750,
                            2025.6290321350098
                        ],
                        [
                            438218578667,
                            2044.160083770752
                        ],
                        [
                            438232322917,
                            2062.691074371338
                        ],
                        [
                            438256375292,
                            2081.222354888916
                        ],
                        [
                            438316660750,
                            2099.7550010681152
                        ],
                        [
                            438376788584,
                            1718.220802307129
                        ],
                        [
                            439882050125,
                            1701.2879400253296
                        ],
                        [
                            439882051250,
                            1682.7565145492554
                        ],
                        [
                            439882052000,
                            1664.2215795516968
                        ],
                        [
                            497964564542,
                            355.546594619751
                        ],
                        [
                            497976550000,
                            370.3293933868408
                        ],
                        [
                            497987864625,
                            382.67539405822754
                        ],
                        [
                            497997150709,
                            394.95774269104004
                        ],
                        [
                            529371790334,
                            299.0807943344116
                        ],
                        [
                            529383931584,
                            314.8322973251343
                        ],
                        [
                            529393572709,
                            326.08463191986084
                        ],
                        [
                            529528274042,
                            314.9025630950928
                        ],
                        [
                            529528275292,
                            303.64918327331543
                        ],
                        [
                            529528276167,
                            292.39340019226074
                        ],
                        [
                            614736448459,
                            258.3128547668457
                        ],
                        [
                            614746345250,
                            269.7208824157715
                        ],
                        [
                            614757829209,
                            281.1611518859863
                        ],
                        [
                            614766158459,
                            292.59872817993164
                        ],
                        [
                            615429753625,
                            281.7824058532715
                        ],
                        [
                            615429758750,
                            270.33932876586914
                        ],
                        [
                            615429761209,
                            258.92829513549805
                        ],
                        [
                            615429763625,
                            247.4834098815918
                        ]
                    ],
                    "n_avg_mb": 570.4871273040771,
                    "n_copy_mb_s": 1.235655055648088,
                    "n_core_utilization": 0.08077990787580468,
                    "n_cpu_percent_c": 0.16918206126038998,
                    "n_cpu_percent_python": 0.5109682561080271,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 570.4871273040771,
                    "n_malloc_mb": 723.1616306304932,
                    "n_mallocs": 1,
                    "n_peak_mb": 570.4871273040771,
                    "n_python_fraction": 0.03359939900377022,
                    "n_sys_percent": 0.022118930309723957,
                    "n_usage_fraction": 0.01417295572699892,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "\n",
                    "lineno": 47,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    hk_features = (\n",
                    "lineno": 48,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        hr_features.merge(hrv_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 49,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.06600705546278339,
                    "n_cpu_percent_c": 0.0006273526390144079,
                    "n_cpu_percent_python": 0.002571644349341687,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0008397088817052483,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(hrv_nsr_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 50,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(rr_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 51,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(o2_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 52,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0780772263576252,
                    "n_cpu_percent_c": 0.0005092140497562884,
                    "n_cpu_percent_python": 0.0030418999388340828,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.00023905863307017547,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(watch_on_hours, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 53,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(sleep_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 54,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(active_energy_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 55,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(sleep_annot_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 56,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(audioExposure_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 57,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(hr_nsr_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 58,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(hr_sleep_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 59,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(rr_nsr_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 60,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(rr_sleep_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 61,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "        .merge(hrv_sleep_features, on=[\"date\", \"user_id\"], how=\"outer\")\n",
                    "lineno": 62,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    )\n",
                    "lineno": 63,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 64,
                    "line": "    return hk_features\n",
                    "lineno": 64,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 11
                },
                {
                    "end_region_line": 65,
                    "line": "\n",
                    "lineno": 65,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 65
                },
                {
                    "end_region_line": 66,
                    "line": "\n",
                    "lineno": 66,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 66
                },
                {
                    "end_region_line": 67,
                    "line": "loader = dl.DataLoader()\n",
                    "lineno": 67,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 67
                },
                {
                    "end_region_line": 68,
                    "line": "eid_uid_map = pd.read_csv(\n",
                    "lineno": 68,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 68
                },
                {
                    "end_region_line": 69,
                    "line": "    Path(\"/Users/sakre/Data/OPTIMA/OPTIMA_REDCap/OPTIMA REDCap Data 09Feb2024_timestamps/OPTIMA-EID_DATA_-2-09-2024.csv\").expanduser().resolve()\n",
                    "lineno": 69,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 69
                },
                {
                    "end_region_line": 70,
                    "line": ")\n",
                    "lineno": 70,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 70
                },
                {
                    "end_region_line": 71,
                    "line": "\n",
                    "lineno": 71,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 71
                },
                {
                    "end_region_line": 72,
                    "line": "eid_uid_map.columns = [\"record_id\", \"event\", \"user_id\", \"other\"]\n",
                    "lineno": 72,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 72
                },
                {
                    "end_region_line": 73,
                    "line": "\n",
                    "lineno": 73,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 73
                },
                {
                    "end_region_line": 74,
                    "line": "sensor_data_folder = Path('~/Data/OPTIMA/OPTIMA_Healthkit/HealthKit_Datastreams/')\n",
                    "lineno": 74,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 74
                },
                {
                    "end_region_line": 75,
                    "line": "sensor_folders = [\n",
                    "lineno": 75,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 75
                },
                {
                    "end_region_line": 76,
                    "line": "    f for f in sensor_data_folder.expanduser().iterdir() if f.is_dir()\n",
                    "lineno": 76,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 76
                },
                {
                    "end_region_line": 77,
                    "line": "]\n",
                    "lineno": 77,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 77
                },
                {
                    "end_region_line": 78,
                    "line": "\n",
                    "lineno": 78,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 78
                },
                {
                    "end_region_line": 79,
                    "line": "# Tester accounts\n",
                    "lineno": 79,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 79
                },
                {
                    "end_region_line": 80,
                    "line": "exclude_ids = [7, 10, 17, 23, 26, 50]\n",
                    "lineno": 80,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 80
                },
                {
                    "end_region_line": 81,
                    "line": "\n",
                    "lineno": 81,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 81
                },
                {
                    "end_region_line": 82,
                    "line": "# Exclude tester accounts\n",
                    "lineno": 82,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 82
                },
                {
                    "end_region_line": 83,
                    "line": "ids = eid_uid_map['user_id'].unique()\n",
                    "lineno": 83,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 83
                },
                {
                    "end_region_line": 84,
                    "line": "ids = [id for id in ids if id not in exclude_ids]\n",
                    "lineno": 84,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 84
                },
                {
                    "end_region_line": 85,
                    "line": "\n",
                    "lineno": 85,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 85
                },
                {
                    "end_region_line": 86,
                    "line": "dfs = []\n",
                    "lineno": 86,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 86
                },
                {
                    "end_region_line": 87,
                    "line": "print(\"Generating features...\")\n",
                    "lineno": 87,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 87
                },
                {
                    "end_region_line": 88,
                    "line": "if DEBUG:\n",
                    "lineno": 88,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 88
                },
                {
                    "end_region_line": 89,
                    "line": "    ids = ids[:5]\n",
                    "lineno": 89,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 89
                },
                {
                    "end_region_line": 92,
                    "line": "    for uid in tqdm(ids):\n",
                    "lineno": 90,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 90
                },
                {
                    "end_region_line": 92,
                    "line": "        df = process_uid(uid)\n",
                    "lineno": 91,
                    "memory_samples": [
                        [
                            529544525959,
                            281.07440185546875
                        ],
                        [
                            529544527542,
                            270.43473529815674
                        ],
                        [
                            529544528417,
                            255.55269718170166
                        ],
                        [
                            615475443459,
                            237.44320678710938
                        ],
                        [
                            615475446542,
                            221.07189559936523
                        ],
                        [
                            615475449167,
                            210.95124053955078
                        ],
                        [
                            615475451709,
                            198.58267974853516
                        ],
                        [
                            615475453875,
                            187.1357879638672
                        ],
                        [
                            615475456334,
                            177.13572692871094
                        ],
                        [
                            615475458917,
                            167.1356964111328
                        ],
                        [
                            615475461334,
                            157.1356658935547
                        ],
                        [
                            615475463709,
                            141.89788818359375
                        ],
                        [
                            615475466042,
                            130.48786163330078
                        ],
                        [
                            615475468459,
                            120.48783206939697
                        ],
                        [
                            615475470584,
                            110.12973117828369
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 90
                },
                {
                    "end_region_line": 92,
                    "line": "        dfs.append(df)\n",
                    "lineno": 92,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.06196847860020402,
                    "n_cpu_percent_c": 0.004681449996200491,
                    "n_cpu_percent_python": 0.0024143008154540093,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.002446399988154359,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 90
                },
                {
                    "end_region_line": 93,
                    "line": "else:\n",
                    "lineno": 93,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 93
                },
                {
                    "end_region_line": 94,
                    "line": "    dfs = p_map(process_uid, ids)\n",
                    "lineno": 94,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 94
                },
                {
                    "end_region_line": 95,
                    "line": "\n",
                    "lineno": 95,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 95
                },
                {
                    "end_region_line": 96,
                    "line": "hk_features = pd.concat(dfs, ignore_index=True)\n",
                    "lineno": 96,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 96
                },
                {
                    "end_region_line": 97,
                    "line": "hk_features['watchOnHours_sum_day'] = hk_features['watchOnHours_sum_day'].fillna(0)\n",
                    "lineno": 97,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 97
                },
                {
                    "end_region_line": 98,
                    "line": "\n",
                    "lineno": 98,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 98
                },
                {
                    "end_region_line": 99,
                    "line": "print(\"QC on features...\")\n",
                    "lineno": 99,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 99
                },
                {
                    "end_region_line": 100,
                    "line": "qcd_features = ft.qcWatchDataDaily(hk_features)\n",
                    "lineno": 100,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 100
                },
                {
                    "end_region_line": 101,
                    "line": "\n",
                    "lineno": 101,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 101
                },
                {
                    "end_region_line": 102,
                    "line": "print(\"Saving health kit features...\")\n",
                    "lineno": 102,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 102
                },
                {
                    "end_region_line": 103,
                    "line": "today = pd.Timestamp.today().date()\n",
                    "lineno": 103,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 103
                },
                {
                    "end_region_line": 104,
                    "line": "out_path = (\n",
                    "lineno": 104,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 104
                },
                {
                    "end_region_line": 105,
                    "line": "    Path(f\"~/Data/OPTIMA/OPTIMA_Healthkit/hk_features_{today.strftime('%b%d-%Y')}.csv\")\n",
                    "lineno": 105,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 105
                },
                {
                    "end_region_line": 106,
                    "line": "    .expanduser()\n",
                    "lineno": 106,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 106
                },
                {
                    "end_region_line": 107,
                    "line": "    .resolve()\n",
                    "lineno": 107,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 107
                },
                {
                    "end_region_line": 108,
                    "line": ")\n",
                    "lineno": 108,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 108
                },
                {
                    "end_region_line": 109,
                    "line": "qcd_features.to_csv(out_path, index=False)\n",
                    "lineno": 109,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.12374340660988349,
                    "n_core_utilization": 0.05458132587760427,
                    "n_cpu_percent_c": 0.002766784317357661,
                    "n_cpu_percent_python": 0.0031897444285753484,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0031377427381917523,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 109
                },
                {
                    "end_region_line": 110,
                    "line": "print(f\"Saved to {out_path}\")",
                    "lineno": 110,
                    "memory_samples": [],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_core_utilization": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0,
                    "start_region_line": 110
                }
            ],
            "percent_cpu_time": 100.0
        }
    },
    "gpu": false,
    "growth_rate": 0.215838857885098,
    "max_footprint_fname": "/Users/sakre/Code/dgc/WellcomeLeap/mhealth_feature_generation/utils/generate_OPTIMA_hk_features.py",
    "max_footprint_lineno": 43,
    "max_footprint_mb": 2575.7895488739014,
    "memory": true,
    "program": "/Users/sakre/Code/dgc/WellcomeLeap/mhealth_feature_generation/utils/generate_OPTIMA_hk_features.py",
    "samples": [
        [
            330793792,
            10.002110481262207
        ],
        [
            5572887292,
            211.8118658065796
        ],
        [
            7393560584,
            234.76116371154785
        ],
        [
            8518582250,
            646.3049116134644
        ],
        [
            9574367542,
            634.5002279281616
        ],
        [
            9658764042,
            570.6498403549194
        ],
        [
            39919514125,
            877.343822479248
        ],
        [
            40104418167,
            801.8819541931152
        ],
        [
            40666831709,
            869.3051605224609
        ],
        [
            40765384292,
            631.3527412414551
        ],
        [
            40828755875,
            526.5313663482666
        ],
        [
            41825412167,
            656.843318939209
        ],
        [
            42244682334,
            656.8903846740723
        ],
        [
            66057694000,
            591.3076028823853
        ],
        [
            66173179875,
            705.2937631607056
        ],
        [
            66626431750,
            766.6858072280884
        ],
        [
            66745821709,
            602.1326942443848
        ],
        [
            66805705750,
            723.2167291641235
        ],
        [
            91985768792,
            541.0703248977661
        ],
        [
            97021702459,
            271.6043014526367
        ],
        [
            97721370792,
            588.831000328064
        ],
        [
            98242946125,
            625.8223638534546
        ],
        [
            99819454125,
            1093.3117990493774
        ],
        [
            100963687125,
            1393.8363752365112
        ],
        [
            101480130834,
            916.1608152389526
        ],
        [
            101519493792,
            1178.446491241455
        ],
        [
            101612714125,
            1250.0417518615723
        ],
        [
            102617473209,
            1217.7062511444092
        ],
        [
            102646264875,
            1217.8004941940308
        ],
        [
            102672512959,
            1320.8970079421997
        ],
        [
            102925315542,
            1328.7026853561401
        ],
        [
            103391119667,
            927.8304443359375
        ],
        [
            103441630667,
            858.3933715820312
        ],
        [
            104027694667,
            1119.1424407958984
        ],
        [
            104746592125,
            1071.3701581954956
        ],
        [
            104808692834,
            1163.6123914718628
        ],
        [
            105119253292,
            1491.656702041626
        ],
        [
            105599267375,
            2102.1025676727295
        ],
        [
            105863221792,
            2103.035927772522
        ],
        [
            106124187125,
            2264.0098733901978
        ],
        [
            108442851167,
            2105.9203958511353
        ],
        [
            215623462625,
            1483.4704751968384
        ],
        [
            216283463750,
            2031.6343851089478
        ],
        [
            216824064834,
            2236.2314310073853
        ],
        [
            216948352084,
            1989.3675165176392
        ],
        [
            219470189125,
            1675.8139352798462
        ],
        [
            219749138750,
            2035.4132928848267
        ],
        [
            219919761750,
            2396.001809120178
        ],
        [
            220968363584,
            2131.55956363678
        ],
        [
            221086120167,
            1375.5939540863037
        ],
        [
            221470248125,
            1929.8047771453857
        ],
        [
            222229974417,
            1865.7385187149048
        ],
        [
            224247788250,
            2135.792046546936
        ],
        [
            224706388125,
            1760.6816186904907
        ],
        [
            324454489709,
            2120.3808059692383
        ],
        [
            325527407334,
            1885.4276132583618
        ],
        [
            326460057917,
            1379.1540966033936
        ],
        [
            327084798709,
            2181.911184310913
        ],
        [
            427230172584,
            2123.91375541687
        ],
        [
            427387729209,
            2399.361252784729
        ],
        [
            427771145792,
            1906.3727960586548
        ],
        [
            430190356750,
            1723.8532314300537
        ],
        [
            430190357209,
            1927.4476556777954
        ],
        [
            430364973042,
            1979.7592859268188
        ],
        [
            431622088834,
            2171.8414545059204
        ],
        [
            432093398875,
            2554.8031902313232
        ],
        [
            432093401459,
            2480.6304988861084
        ],
        [
            432278965125,
            1860.3944416046143
        ],
        [
            436468167917,
            1675.574231147766
        ],
        [
            437988418750,
            1766.460117340088
        ],
        [
            438316655084,
            1708.0336608886719
        ],
        [
            439882045750,
            1664.2215795516968
        ],
        [
            442014557167,
            460.3541212081909
        ],
        [
            442105709667,
            414.6639738082886
        ],
        [
            460532809542,
            410.0512218475342
        ],
        [
            460972993000,
            502.99492931365967
        ],
        [
            461582451500,
            409.3810749053955
        ],
        [
            497055000917,
            343.87678241729736
        ],
        [
            497731999167,
            390.8943347930908
        ],
        [
            498841293792,
            426.78538513183594
        ],
        [
            500315669917,
            391.16264057159424
        ],
        [
            500349975084,
            307.6428527832031
        ],
        [
            508975409334,
            428.41102504730225
        ],
        [
            509207773125,
            449.147891998291
        ],
        [
            509387138167,
            354.80990409851074
        ],
        [
            518358598792,
            458.4135961532593
        ],
        [
            525854954000,
            301.4769105911255
        ],
        [
            527001802834,
            374.0043296813965
        ],
        [
            527304934125,
            350.92028522491455
        ],
        [
            527318905959,
            284.7660799026489
        ],
        [
            530129221250,
            181.42041015625
        ],
        [
            531135923792,
            447.67661476135254
        ],
        [
            558023412584,
            366.83254623413086
        ],
        [
            558355925125,
            368.5368003845215
        ],
        [
            558426848834,
            463.6983451843262
        ],
        [
            559439072417,
            373.2979316711426
        ],
        [
            584309325625,
            337.96364307403564
        ],
        [
            584680508125,
            395.7224769592285
        ],
        [
            584695948417,
            493.67810440063477
        ],
        [
            611338366292,
            346.9944095611572
        ]
    ],
    "stacks": []
}

    </script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.0"></script>
  </head>
  <body>
    <a href="https://github.com/plasma-umass/scalene">
      <p class="text-center">
	<img src="https://github.com/plasma-umass/scalene/raw/master/scalene/scalene-gui/scalene-image.png" height="100">
      </p>
    </a>
    <p />
	<div class="d-flex justify-content-center">
	  <details>
	    <summary style="font-size:0.8rem; color: blue">advanced options</summary>
	  <!-- <label for='demoinput' style="padding: 5px 5px; border-radius: 5px; border: 1px ridge black; font-size: 0.8rem; height: auto;">demo</label>
	  <input style="height: 0; width: 0; opacity:0" type='button' id='demoinput' accept='.json' onclick="loadDemo();">
	  -->
	  <B style="font-size:0.8rem">Proposed optimizations</B><BR />
	  <label for='api-key' style="font-size: 0.8rem">Enter an <a href="https://beta.openai.com/signup">OpenAI key</a> to enable:</label>
	  <input type="text" style="font-size: 0.8rem" size="22" placeholder="(OpenAI API key)" id="api-key" oninput="checkApiKey(event.target.value)"></input>
	  <span id='valid-api-key'></span>
	  <br />
	  <label style="font-size: 0.8rem" for="language-model">
	    Language model:
	  </label>
	  <select style="font-size: 0.8rem" id="language-model" name="language-model-label">
	    <option style="font-size: 0.8rem" value="gpt-3.5-turbo">GPT 3.5</option>
	    <option style="font-size: 0.8rem" value="gpt-4" selected>GPT 4.0</option>
	  </select>
	  <div>
	    <input type="radio" name="optimize-radio" id="optimize-performance" value="performance" checked>
	    <label style="font-size: 0.8rem" for="optimize-performance">
	      Optimize runtime performance
	    </label>
	  </div>
	  <div>
	    <input type="radio" name="optimize-radio" id="optimize-memory" value="memory">
	    <label style="font-size: 0.8rem" for="optimize-memory">
	      Optimize memory efficiency
	    </label>
	  </div>
	  <input type="checkbox" id="use-gpu-checkbox" name="use-gpu-checkbox-label" onclick="try { window.localStorage.setItem('scalene-gpu-checkbox', document.getElementById('use-gpu-checkbox').checked); } catch {}">
	  <label style="font-size: 0.8rem" for="use-gpu-checkbox">
	    Include GPU optimizations
	  </label>
	  <br />
	  <font style="font-size: 0.8rem">
	    Click on an explosion (&#128165;) to see proposed optimizations for a region of code,<br />
	    or on a lightning bolt (&#9889;) to propose optimizations for a specific line.<br />
	    Click again to generate a different one.<br />
	    <em>Note that optimizations are AI-generated and may not be correct.</em>
	    <br />
	  </font>
	  <br />
	  <!--
	      <br />
    <form id="jsonFile" name="jsonFile" enctype="multipart/form-data" method="post">
      <div class="form-group">
	      <label for='fileinput' style="padding: 5px 5px; border-radius: 5px; border: 1px ridge black; font-size: 0.8rem; height: auto;">Load a profile (.json)</label>
	      <input style="height: 0; width: 10; opacity:0" type='file' id='fileinput' accept='.json' onchange="loadFile();"></input>
      </div>
    </form>
    -->
	  </details>
	</div>
    <div id="profile">
    </div>
    <script type="text/javascript">
      const RightTriangle = "&#9658"; // right-facing triangle symbol (collapsed view)
const DownTriangle = "&#9660"; // downward-facing triangle symbol (expanded view)
const Lightning = "&#9889;"; // lightning bolt (for optimizing a line)
const Explosion = "&#128165;"; // explosion (for optimizing a region)
const WhiteLightning = `<span style="opacity:0">${Lightning}</span>`; // invisible but same width as lightning bolt
const WhiteExplosion = `<span style="opacity:0">${Explosion}</span>`; // invisible but same width as lightning bolt
const maxLinesPerRegion = 50; // Only show regions that are no more than this many lines.

let showedExplosion = {}; // Used so we only show one explosion per region.

function unescapeUnicode(s) {
  return s.replace(/\\u([\dA-F]{4})/gi, function (match, p1) {
    return String.fromCharCode(parseInt(p1, 16));
  });
}

async function tryApi(apiKey) {
  const response = await fetch("https://api.openai.com/v1/completions", {
    method: "GET",
    headers: {
	  "Content-Type": "application/json",
      Authorization: `Bearer ${apiKey}`,
    }
  });
    return response;
}

async function isValidApiKey(apiKey) {
    const response = await tryApi(apiKey);
    const data = await response.json();
    if (data.error && (data.error.code in { "invalid_api_key" : true,
					    "invalid_request_error" : true,
					    "model_not_found" : true,
					    "insufficient_quota" : true })) {
	return false;
    } else {
	return true;
    }
}

function checkApiKey(apiKey) {
    (async () => {
	try {	
	    window.localStorage.setItem("scalene-api-key", apiKey);
	} catch {
	}
    // If the API key is empty, clear the status indicator.
    if (apiKey.length === 0) {
      document.getElementById("valid-api-key").innerHTML = "";
      return;
    }
	const isValid = await isValidApiKey(apiKey);
	if (!isValid) {
	    document.getElementById("valid-api-key").innerHTML = "&#10005;";
	} else {
	    document.getElementById("valid-api-key").innerHTML = "&check;";
	}
    })();
}

function extractCode(text) {
  /**
  * Extracts code block from the given completion text.
  *
  * @param {string} text - A string containing text and other data.
  * @returns {string} Extracted code block from the completion object.
  */
    if (!text) {
	return text;
    }
  const lines = text.split('\n');
  let i = 0;
  while (i < lines.length && lines[i].trim() === '') {
    i++;
  }
    const first_line = lines[i].trim();
  let code_block;
  if (first_line === '```') {
    code_block = text.slice(3);
  } else if (first_line.startsWith('```')) {
    const word = first_line.slice(3).trim();
    if (word.length > 0 && !word.includes(' ')) {
      code_block = text.slice(first_line.length);
    } else {
      code_block = text;
    }
  } else {
    code_block = text;
  }
  const end_index = code_block.indexOf('```');
  if (end_index !== -1) {
    code_block = code_block.slice(0, end_index);
  }
  return code_block;
}

async function sendPromptToOpenAI(prompt, len, apiKey) {
    const endpoint = "https://api.openai.com/v1/chat/completions";
    const model = document.getElementById('language-model').value;
    
    const body = JSON.stringify({
	model: model,
	messages: [
	    {
		role: 'system',
		content: 'You are a Python programming assistant who ONLY responds with blocks of commented, optimized code. You never respond with text. Just code, starting with ``` and ending with ```.'
	    },
	    {
		role: 'user',
		content: prompt
	    }
	],
	temperature: 0.3,
	frequency_penalty: 0,
	presence_penalty: 0,
	user: "scalene-user"
    });

    console.log(body);
    
    const response = await fetch(endpoint, {
	method: "POST",
	headers: {
	    "Content-Type": "application/json",
	    Authorization: `Bearer ${apiKey}`,
	},
	body: body,
    });

    const data = await response.json();
    if (data.error) {
	if (data.error.code in { "invalid_request_error" : true,
				 "model_not_found" : true,
				 "insufficient_quota" : true }) {
	    if ((data.error.code === "model_not_found") && (model === "gpt-4")) {
		// Technically, model_not_found applies only for GPT-4.0
		// if an account has not been funded with at least $1.
		alert("You either need to add funds to your OpenAI account to use this feature, or you need to switch to GPT-3.5 if you are using free credits.");
	    } else {
		alert("You need to add funds to your OpenAI account to use this feature.");
	    }
	    return "";
	}
    }
    try {
	console.log(`Debugging info: Retrieved ${JSON.stringify(data.choices[0], null, 4)}`);
    } catch {
	console.log(`Debugging info: Failed to retrieve data.choices from the server. data = ${JSON.stringify(data)}`);
    }
    
    try {
	return data.choices[0].message.content.replace(/^\s*[\r\n]/gm, "");
    } catch {
	// return "# Query failed. See JavaScript console (in Chrome: View > Developer > JavaScript Console) for more info.\n";
	return "# Query failed. See JavaScript console (in Chrome: View > Developer > JavaScript Console) for more info.\n";
    }
}

function countSpaces(str) {
  // Use a regular expression to match any whitespace character at the start of the string
  const match = str.match(/^\s+/);

  // If there was a match, return the length of the match
  if (match) {
    return match[0].length;
  }

  // Otherwise, return 0
  return 0;
}

async function optimizeCode(imports, code, context) {
    // Tailor prompt to request GPU optimizations or not.
    const useGPUs = document.getElementById('use-gpu-checkbox').checked; // globalThis.profile.gpu;
    const useGPUstring = useGPUs ? " or the GPU " : " ";
    // Check for a valid API key.
  const apiKey = document.getElementById("api-key").value;
  if (!apiKey) {
    alert(
      "To activate proposed optimizations, enter an OpenAI API key in advanced options."
    );
    return '';
  }
    // If the code to be optimized is just one line of code, say so.
    let lineOf = " ";
    if (code.split("\n").length <= 2) {
	lineOf = " line of ";
    }

    let libraries = 'import sklearn';
    if (useGPUs) {
	// Suggest cupy if we are using the GPU.
	libraries += '\nimport cupy';
    } else {
	// Suggest numpy otherwise.
	libraries += '\nimport numpy as np';
    }
    
    // Construct the prompt.

    const optimizePerformancePrompt = `Optimize the following${lineOf}Python code:\n\n${context}\n\n# Start of code\n\n${code}\n\n# End of code\n\nRewrite the above Python code only from "Start of code" to "End of code", to make it more efficient WITHOUT CHANGING ITS RESULTS. Assume the code has already executed all these imports; do NOT include them in the optimized code:\n\n${imports}\n\nUse native libraries if that would make it faster than pure Python. Consider using the following other libraries, if appropriate:\n\n${libraries}\n\nYour output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use vectorized operations${useGPUstring}whenever it would substantially increase performance, and quantify the speedup in terms of orders of magnitude. Eliminate as many for loops, while loops, and list or dict comprehensions as possible, replacing them with vectorized equivalents. If the performance is not likely to increase, leave the code unchanged. Fix any errors in the optimized code. Optimized${lineOf}code:`

    const pure_optimizePerformancePrompt = `Optimize the following${lineOf}Python code:\n\n${context}\n\n# Start of code\n\n${code}\n\n# End of code\n\nRewrite the above Python code only from "Start of code" to "End of code", to make it more efficient WITHOUT CHANGING ITS RESULTS. Assume the code has already executed all these imports; do NOT include them in the optimized code:\n\n${imports}\n\nONLY USE PURE PYTHON.\n\nYour output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. If the performance is not likely to increase, leave the code unchanged. Fix any errors in the optimized code. Optimized${lineOf}code:`

    const memoryEfficiencyPrompt = `Optimize the following${lineOf} Python code:\n\n${context}\n\n# Start of code\n\n${code}\n\n\n# End of code\n\nRewrite the above Python code only from "Start of code" to "End of code", to make it more memory-efficient WITHOUT CHANGING ITS RESULTS. Assume the code has already executed all these imports; do NOT include them in the optimized code:\n\n${imports}\n\nUse native libraries if that would make it more space efficient than pure Python. Consider using the following other libraries, if appropriate:\n\n${libraries}\n\nYour output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use native libraries whenever possible to reduce memory consumption; invoke del on variables and array elements as soon as it is safe to do so. If the memory consumption is not likely to be reduced, leave the code unchanged. Fix any errors in the optimized code. Optimized${lineOf}code:`

    const optimizePerf = document.getElementById('optimize-performance').checked;

    let prompt;
    if (optimizePerf) {
 	prompt = optimizePerformancePrompt;
    } else {
	prompt = memoryEfficiencyPrompt;
    }
    
    // const prompt = `Below is some Python code to optimize, from "Start of code" to "End of code":\n\n# Start of code\n\n${code}\n\n# End of code\n\nRewrite the above Python code to make it more efficient without changing the results. Assume the code has already executed these imports. Do NOT include them in the optimized code:\n\n${imports}\n\nUse fast native libraries if that would make it faster than pure Python. Your output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use vectorized operations${useGPUstring}whenever it would substantially increase performance, and quantify the speedup in terms of orders of magnitude. If the performance is not likely to increase, leave the code unchanged. Check carefully by generating inputs to see that the output is identical for both the original and optimized versions. Correctly-optimized code:`;

    console.log(prompt);
    
  // const prev_prompt =  `Below is some Python code to optimize:\n\n${code}\n\nRewrite the above Python code to make it more efficient while keeping the same semantics. Use fast native libraries if that would make it faster than pure Python. Your output should only consist of valid Python code. Output only the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use vectorized operations or the GPU whenever it would substantially increase performance, and try to quantify the speedup in terms of orders of magnitude. If the performance is not likely to increase, leave the code unchanged. Your output should only consist of legal Python code. Format all comments to be less than 40 columns wide:\n\n`;

    // Use number of words in the original code as a proxy for the number of tokens.
    const numWords = (code.match(/\b\w+\b/g)).length;

    const result = await sendPromptToOpenAI(prompt, Math.max(numWords * 4, 500), apiKey);
    return extractCode(result);
}

function proposeOptimizationRegion(filename, file_number, lineno) {
  proposeOptimization(filename, file_number, lineno, { regions: true });
}

function proposeOptimizationLine(filename, file_number, lineno) {
  proposeOptimization(filename, file_number, lineno, { regions: false });
}

function proposeOptimization(filename, file_number, lineno, params) {
    filename = unescape(filename)
  const useRegion = params["regions"];
  const prof = globalThis.profile;
  const this_file = prof.files[filename].lines;
  const imports = prof.files[filename].imports.join("\n");
  const start_region_line = this_file[lineno - 1]["start_region_line"];
  const end_region_line = this_file[lineno - 1]["end_region_line"];
    let context; 
  const code_line = this_file[lineno - 1]["line"];
  let code_region;
  if (useRegion) {
    code_region = this_file
      .slice(start_region_line - 1, end_region_line)
      .map((e) => e["line"])
      .join("");
    context = this_file.slice(Math.max(0, start_region_line - 10), Math.min(start_region_line - 1, this_file.length))
	  .map((e) => e["line"])
	  .join("");
  } else {
    code_region = code_line;
    context = this_file.slice(Math.max(0, lineno - 10), Math.min(lineno - 1, this_file.length))
	  .map((e) => e["line"])
	  .join("");
  }
  // Count the number of leading spaces to match indentation level on output
  let leadingSpaceCount = countSpaces(code_line) + 3; // including the lightning bolt and explosion
  let indent =
    WhiteLightning + WhiteExplosion + "&nbsp;".repeat(leadingSpaceCount - 1);
  const elt = document.getElementById(`code-${file_number}-${lineno}`);
  (async () => {
    const isValid = await isValidApiKey(
      document.getElementById("api-key").value
    );
    if (!isValid) {
	alert("You must enter a valid OpenAI API key to activate proposed optimizations.");
	return;
    }
    elt.innerHTML = `<em>${indent}working...</em>`;
      let message = await optimizeCode(imports, code_region, context);
    if (!message) {
      elt.innerHTML = "";
      return;
    }
    // Canonicalize newlines
    message = message.replace(new RegExp("\r?\n", "g"), "\n");
    // Indent every line and format it
    const formattedCode = message
      .split("\n")
      .map(
        (line) =>
          indent + Prism.highlight(line, Prism.languages.python, "python")
      )
	  .join("<br />");
      // Display the proposed optimization, with click-to-copy functionality.
      elt.innerHTML = `<hr><span title="click to copy" style="cursor: copy" id="opt-${file_number}-${lineno}">${formattedCode}</span>`;
      thisElt = document.getElementById(`opt-${file_number}-${lineno}`);
      thisElt.addEventListener("click",
			       async (e) => {
				   await copyOnClick(e, message);
				   // After copying, briefly change the cursor back to the default to provide some visual feedback..
				   thisElt.style = "cursor: auto";
				   await new Promise(resolve => setTimeout(resolve, 125));
				   thisElt.style = "cursor: copy";
			       });
  })();
}

async function copyOnClick(event, message) {
    event.preventDefault();
    event.stopPropagation();
    await navigator.clipboard.writeText(message);
}

function memory_consumed_str(size_in_mb) {
  // Return a string corresponding to amount of memory consumed.
  let gigabytes = Math.floor(size_in_mb / 1024);
  let terabytes = Math.floor(gigabytes / 1024);
  if (terabytes > 0) {
    return `${(size_in_mb / 1048576).toFixed(3)} TB`;
  } else if (gigabytes > 0) {
    return `${(size_in_mb / 1024).toFixed(3)} GB`;
  } else {
    return `${size_in_mb.toFixed(3)} MB`;
  }
}

function time_consumed_str(time_in_ms) {
  let hours = Math.floor(time_in_ms / 3600000);
  let minutes = Math.floor((time_in_ms % 3600000) / 60000);
  let seconds = Math.floor((time_in_ms % 60000) / 1000);
  let hours_exact = time_in_ms / 3600000;
  let minutes_exact = (time_in_ms % 3600000) / 60000;
  let seconds_exact = (time_in_ms % 60000) / 1000;
  if (hours > 0) {
    return `${hours.toFixed(0)}h:${minutes_exact.toFixed(
      0
    )}m:${seconds_exact.toFixed(3)}s`;
  } else if (minutes >= 1) {
    return `${minutes.toFixed(0)}m:${seconds_exact.toFixed(3)}s`;
  } else if (seconds >= 1) {
    return `${seconds_exact.toFixed(3)}s`;
  } else {
    return `${time_in_ms.toFixed(3)}ms`;
  }
}

function makeBar(python, native, system) {
  return {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    config: {
      view: {
        stroke: "transparent",
      },
    },
    autosize: {
      contains: "padding",
    },
    width: "container",
    height: "container",
    padding: 0,
    data: {
      values: [
        {
          x: 0,
          y: python.toFixed(1),
          c: "(Python) " + python.toFixed(1) + "%",
          d: python.toFixed(0) + "%",
        },
        {
          x: 0,
          y: native.toFixed(1),
          c: "(native) " + native.toFixed(1) + "%",
          d: native.toFixed(0) + "%",
        },
        {
          x: 0,
          y: system.toFixed(1),
          c: "(system) " + system.toFixed(1) + "%",
          d: system.toFixed(0) + "%",
        },
      ],
    },
    layer: [
      {
        mark: { type: "bar" },
        encoding: {
          x: {
            aggregate: "sum",
            field: "y",
            axis: false,
            scale: { domain: [0, 100] },
          },
          color: {
            field: "c",
            type: "nominal",
            legend: false,
            scale: { range: ["darkblue", "#6495ED", "blue"] },
          },
          tooltip: [{ field: "c", type: "nominal", title: "time" }],
        },
      },
      /*	  ,
      {
          mark: {
              type: "text",
              opacity: 1.0,
              color: "white",
              align: "right",
              limit: 50,
          },
          encoding: {
              x: { type: "quantitative", field: "y" },
              text: {
		  field: "d",
		  bandPosition: 0.5,
		  condition: { test: `datum['y'] < 20`, value: "" },
              },
          },
	  },
	  */
    ],
  };
}

function makeGPUPie(util) {
  return {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    config: {
      view: {
        stroke: "transparent",
      },
    },
    autosize: {
      contains: "padding",
    },
    width: "container",
    height: "container",
    padding: 0,
    data: {
      values: [
        {
          category: 1,
          value: util.toFixed(1),
          c: "in use: " + util.toFixed(1) + "%",
        },
      ],
    },
    mark: "arc",
    encoding: {
      theta: {
        field: "value",
        type: "quantitative",
        scale: { domain: [0, 100] },
      },
      color: {
        field: "c",
        type: "nominal",
        legend: false,
        scale: { range: ["goldenrod", "#f4e6c2"] },
      },
      tooltip: [{ field: "c", type: "nominal", title: "GPU" }],
    },
  };
}

function makeMemoryPie(native_mem, python_mem) {
  return {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    width: "container",
    height: "container",
    padding: 0,
    data: {
      values: [
        {
          category: 1,
          value: native_mem.toFixed(1),
          c: "native: " + native_mem.toFixed(1) + "%",
        },
        {
          category: 2,
          value: python_mem.toFixed(1),
          c: "Python: " + python_mem.toFixed(1) + "%",
        },
      ],
    },
    mark: "arc",
    encoding: {
      theta: {
        field: "value",
        type: "quantitative",
        scale: { domain: [0, 100] },
      },
      color: {
        field: "c",
        type: "nominal",
        legend: false,
        scale: { range: ["darkgreen", "#50C878"] },
      },
      tooltip: [{ field: "c", type: "nominal", title: "memory" }],
    },
  };
}

function makeMemoryBar(memory, title, python_percent, total, color) {
  return {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    config: {
      view: {
        stroke: "transparent",
      },
    },
    autosize: {
      contains: "padding",
    },
    width: "container",
    height: "container",
    padding: 0,
    data: {
      values: [
        {
          x: 0,
          y: python_percent * memory,
          c: "(Python) " + memory_consumed_str(python_percent * memory),
        },
        {
          x: 0,
          y: (1.0 - python_percent) * memory,
          c: "(native) " + memory_consumed_str((1.0 - python_percent) * memory),
        },
      ],
    },
    mark: { type: "bar" },
    encoding: {
      x: {
        aggregate: "sum",
        field: "y",
        axis: false,
        scale: { domain: [0, total] },
      },
      color: {
        field: "c",
        type: "nominal",
        legend: false,
        scale: { range: [color, "#50C878", "green"] },
      },
      tooltip: [{ field: "c", type: "nominal", title: title }],
    },
  };
}

function makeSparkline(
  samples,
  max_x,
  max_y,
  leak_velocity = 0,
  height = 20,
  width = 75
) {
  const values = samples.map((v, i) => {
    let leak_str = "";
    if (leak_velocity != 0) {
      leak_str = `; possible leak (${memory_consumed_str(leak_velocity)}/s)`;
    }
    return {
      x: v[0],
      y: v[1],
      y_text:
        memory_consumed_str(v[1]) +
        " (@ " +
        time_consumed_str(v[0] / 1e6) +
        ")" +
        leak_str,
    };
  });
  let leak_info = "";
  if (leak_velocity != 0) {
    leak_info = "possible leak";
    height -= 10; // FIXME should be actual height of font
  }

  const strokeWidth = 1; // 0.25;
  return {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    data: { values: values },
    width: width,
    height: height,
    padding: 0,
    title: {
      text: leak_info,
      baseline: "line-bottom",
      color: "red",
      offset: 0,
      lineHeight: 10,
      orient: "bottom",
      fontStyle: "italic",
    },
    encoding: {
      x: {
        field: "x",
        type: "quantitative",
        title: "",
        axis: {
          tickCount: 10,
          tickSize: 0,
          labelExpr: "",
        },
        scale: {
          domain: [0, max_x],
        },
      },
    },
    layer: [
      {
        encoding: {
          y: {
            field: "y",
            type: "quantitative",
            axis: null,
            scale: {
              domain: [0, max_y],
            },
          },
          color: {
            field: "c",
            type: "nominal",
            legend: null,
            scale: {
              range: ["darkgreen"],
            },
          },
        },

        layer: [
          { mark: "line" },
          {
            transform: [{ filter: { param: "hover", empty: false } }],
            mark: "point",
          },
        ],
      },

      {
        mark: "rule",
        encoding: {
          opacity: {
            condition: { value: 0.3, param: "hover", empty: false },
            value: 0,
          },
          tooltip: [{ field: "y_text", type: "nominal", title: "memory" }],
        },
        params: [
          {
            name: "hover",
            select: {
              type: "point",
              fields: ["y"],
              nearest: true,
              on: "mousemove",
            },
          },
        ],
      },
    ],
  };
}

const CPUColor = "blue";
const MemoryColor = "green";
const CopyColor = "goldenrod";
let columns = [];

function makeTableHeader(fname, gpu, memory, params) {
  let tableTitle;
  if (params["functions"]) {
    tableTitle = "function profile";
  } else {
    tableTitle = "line profile";
  }
  columns = [
    {
      title: ["time", ""],
      color: CPUColor,
      width: 0,
      info: "Execution time (Python + native + system)",
    },
  ];
  if (memory) {
    columns = columns.concat([
      {
        title: ["memory", "average"],
        color: MemoryColor,
        width: 0,
        info: "Average amount of memory allocated by line / function",
      },
      {
        title: ["memory", "peak"],
        color: MemoryColor,
        width: 0,
        info: "Peak amount of memory allocated by line / function",
      },
      {
        title: ["memory", "timeline"],
        color: MemoryColor,
        width: 0,
        info: "Memory footprint over time",
      },
      {
        title: ["memory", "activity"],
        color: MemoryColor,
        width: 0,
        info: "% of bytes allocated by line / function over total bytes allocated in file",
      },
      {
        title: ["copy", ""],
        color: CopyColor,
        width: 0,
        info: "Rate of copying memory",
      },
    ]);
  }
  if (gpu) {
    columns.push({
      title: ["gpu", "util."],
      color: CopyColor,
      width: 0,
      info: "% utilization of the GPU by line / function (may be inaccurate if GPU is not dedicated)",
    });
    columns.push({
      title: ["gpu", "memory"],
      color: CopyColor,
      width: 0,
      info: "Peak GPU memory allocated by line / function (may be inaccurate if GPU is not dedicated)",
    });
  }
  columns.push({ title: ["", ""], color: "black", width: 100 });
  let s = "";
  s += '<thead class="thead-light">';
  s += '<tr data-sort-method="thead">';
  for (const col of columns) {
      s += `<th class="F${escape(fname)}-nonline"><font style="font-variant: small-caps; text-decoration: underline; width:${col.width}" color=${col.color}>`;
    if (col.info) {
      s += `<a style="cursor:pointer;" title="${col.info}">${col.title[0]}</a>`;
    } else {
      s += `<a style="cursor:pointer;">${col.title[0]}</a>`;
    }
    s += "</font>&nbsp;&nbsp;</th>";
  }
  let id;
  if (params["functions"]) {
    id = "functionProfile";
  } else {
    id = "lineProfile";
  }
  s += `<th id=${
    escape(fname) + "-" + id
  } style="width:10000"><font style="font-variant: small-caps; text-decoration: underline">${tableTitle}</font><font style="font-size:small; font-style: italic">&nbsp; (click to reset order)</font></th>`;
  s += "</tr>";
  s += '<tr data-sort-method="thead">';
  for (const col of columns) {
    s += `<th style="width:${col.width}"><em><font style="font-size: small" color=${col.color}>${col.title[1]}</font></em></th>`;
  }
  s += `<th><code>${fname}</code></th></tr>`;
  s += "</thead>";
  return s;
}

function hideEmptyProfiles() {
  const elts = document.getElementsByClassName("empty-profile");
  for (elt of elts) {
    s = elt.style;
    s.display = "none";
  }
}

function toggleReduced() {
  const elts = document.getElementsByClassName("empty-profile");
  for (elt of elts) {
    s = elt.style;
    if (s.display == "") {
      s.display = "none";
    } else {
      s.display = "";
    }
  }
}

function makeProfileLine(
  line,
  filename,
  file_number,
  prof,
  cpu_bars,
  memory_bars,
  memory_sparklines,
  memory_activity,
  gpu_pies,
  propose_optimizations
) {
  let total_time =
    line.n_cpu_percent_python + line.n_cpu_percent_c + line.n_sys_percent;
  let total_region_time = 0;
  let region_has_memory_results = 0;
  let region_has_gpu_results = 0;
  for (
    let lineno = line.start_region_line;
    lineno < line.end_region_line;
    lineno++
  ) {
    currline = prof["files"][filename]["lines"][lineno];
    total_region_time +=
      currline.n_cpu_percent_python +
      currline.n_cpu_percent_c +
      currline.n_sys_percent;
    region_has_memory_results +=
      currline.n_avg_mb +
      currline.n_peak_mb +
      currline.memory_samples.length +
      (currline.n_usage_fraction >= 0.01);
    region_has_gpu_results |= line.n_gpu_percent >= 1.0;
  }
    // Disable optimization proposals for low CPU runtime lines.

    // TODO: tailor prompt for memory optimization when that's the only inefficiency.
    // ALSO propose optimizations not just for execution time but also for memory usage.
  if (propose_optimizations) {
    if (total_time < 1.0 && line.start_region_line === line.end_region_line) {
      propose_optimizations = false;
    }
    if (line.start_region_line != line.end_region_line) {
      if (total_region_time < 1.0) {
        propose_optimizations = false;
      }
    }
  }
  const has_memory_results =
    line.n_avg_mb +
    line.n_peak_mb +
    line.memory_samples.length +
    (line.n_usage_fraction >= 0.01);
  const has_gpu_results = line.n_gpu_percent >= 1.0;
  const start_region_line = line.start_region_line;
  const end_region_line = line.end_region_line;
  // Only show the explosion (optimizing a whole region) once.
  let explosionString;
  let showExplosion;
  if (
    start_region_line === end_region_line ||
    [[start_region_line - 1, end_region_line]] in showedExplosion
  ) {
    explosionString = WhiteExplosion;
    showExplosion = false;
  } else {
    explosionString = Explosion;
    if (start_region_line && end_region_line) {
      showedExplosion[[start_region_line - 1, end_region_line]] = true;
      showExplosion = true;
    }
  }
  // If the region is too big, for some definition of "too big", don't show it.
  showExplosion &= end_region_line - start_region_line <= maxLinesPerRegion;

  let s = "";
  if (
    total_time ||
    has_memory_results ||
    has_gpu_results ||
    (showExplosion &&
      start_region_line != end_region_line &&
      (total_region_time >= 1.0 ||
        region_has_memory_results ||
        region_has_gpu_results))
  ) {
    s += "<tr>";
  } else {
    s += "<tr class='empty-profile'>";
  }
  const total_time_str = String(total_time.toFixed(1)).padStart(10, " ");
  s += `<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${total_time_str}'>`;
  s += `<span style="height: 20; width: 100; vertical-align: middle" id="cpu_bar${cpu_bars.length}"></span>`;
  if (total_time) {
    cpu_bars.push(
      makeBar(
        line.n_cpu_percent_python,
        line.n_cpu_percent_c,
        line.n_sys_percent
      )
    );
  } else {
    cpu_bars.push(null);
  }
  if (prof.memory) {
    s += `<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${String(
      line.n_avg_mb.toFixed(0)
    ).padStart(10, "0")}'>`;
    s += `<span style="height: 20; width: 100; vertical-align: middle" id="memory_bar${memory_bars.length}"></span>`;
    s += "</td>";
    if (line.n_avg_mb) {
      memory_bars.push(
        makeMemoryBar(
          line.n_avg_mb.toFixed(0),
          "average memory",
          parseFloat(line.n_python_fraction),
          prof.max_footprint_mb.toFixed(2),
          "darkgreen"
        )
      );
    } else {
      memory_bars.push(null);
    }
    s += `<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${String(
      line.n_peak_mb.toFixed(0)
    ).padStart(10, "0")}'>`;
    s += `<span style="height: 20; width: 100; vertical-align: middle" id="memory_bar${memory_bars.length}"></span>`;
    if (line.n_peak_mb) {
      memory_bars.push(
        makeMemoryBar(
          line.n_peak_mb.toFixed(0),
          "peak memory",
          parseFloat(line.n_python_fraction),
          prof.max_footprint_mb.toFixed(2),
          "darkgreen"
        )
      );
    } else {
      memory_bars.push(null);
    }
    s += "</td>";
    s += `<td style='vertical-align: middle; width: 100'><span style="height:25; width: 100; vertical-align: middle" id="memory_sparkline${memory_sparklines.length}"></span>`;
    s += "</td>";
    if (line.memory_samples.length > 0) {
      let leak_velocity = 0;
      if ("leaks" in prof.files[filename]) {
        if (line.lineno in prof.files[filename].leaks) {
          leak_velocity = prof.files[filename].leaks[line.lineno].velocity_mb_s;
        }
      }
      memory_sparklines.push(
        makeSparkline(
          line.memory_samples,
          prof.elapsed_time_sec * 1e9,
          prof.max_footprint_mb,
          leak_velocity
        )
      );
    } else {
      memory_sparklines.push(null);
    }
    s += '<td style="width: 100; vertical-align: middle" align="center">';
    if (line.n_usage_fraction >= 0.01) {
      s += `<span style="height: 20; width: 30; vertical-align: middle" id="memory_activity${memory_activity.length}"></span>`;
      memory_activity.push(
        makeMemoryPie(
          100 *
            line.n_usage_fraction *
            (1 - parseFloat(line.n_python_fraction)),
          100 * line.n_usage_fraction * parseFloat(line.n_python_fraction)
        )
      );
    } else {
      memory_activity.push(null);
    }
    //      s += `<font style="font-size: small">${String(
    //        (100 * line.n_usage_fraction).toFixed(0)
    //      ).padStart(10, " ")}%&nbsp;&nbsp;&nbsp;</font>`;
    s += "</td>";
    if (line.n_copy_mb_s < 1.0) {
      s += '<td style="width: 100"></td>';
    } else {
      s += `<td style="width: 100; vertical-align: middle" align="right"><font style="font-size: small" color="${CopyColor}">${line.n_copy_mb_s.toFixed(
        0
      )}&nbsp;&nbsp;&nbsp;</font></td>`;
    }
  }
  if (prof.gpu) {
    if (line.n_gpu_percent < 1.0) {
      s += '<td style="width: 100"></td>';
    } else {
      //	    s += `<td style="width: 100; vertical-align: middle" align="right"><font style="font-size: small" color="${CopyColor}">${line.n_gpu_percent.toFixed(0)}%</font></td>`;
      s += `<td style="width: 50; vertical-align: middle" align="right" data-sort="${line.n_gpu_percent}">`;
      s += `<span style="height: 20; width: 30; vertical-align: middle" id="gpu_pie${gpu_pies.length}"></span>`;
      s += "</td>";
      gpu_pies.push(makeGPUPie(line.n_gpu_percent));
    }
    if (true) {
      if (line.n_gpu_peak_memory_mb < 1.0 || line.n_gpu_percent < 1.0) {
        s += '<td style="width: 100"></td>';
      } else {
        s += `<td style="width: 100; vertical-align: middle" align="right"><font style="font-size: small" color="${CopyColor}">${line.n_gpu_peak_memory_mb.toFixed(
          0
        )}</font></td>`;
      }
    }
  }
  const empty_profile =
    total_time ||
    has_memory_results ||
    has_gpu_results ||
    end_region_line != start_region_line
      ? ""
      : "empty-profile";
  s += `<td align="right" class="dummy ${empty_profile}" style="vertical-align: middle; width: 50" data-sort="${line.lineno}"><font color="gray" style="font-size: 70%; vertical-align: middle" >${line.lineno}&nbsp;</font></td>`;

  const regionOptimizationString =
    propose_optimizations && showExplosion
      ? `${explosionString}&nbsp;`
      : `${WhiteExplosion}&nbsp;`;

    // Convert back any escaped Unicode.
  line.line = unescapeUnicode(line.line);

  const codeLine = Prism.highlight(line.line, Prism.languages.python, "python");
  s += `<td style="height:10" align="left" bgcolor="whitesmoke" style="vertical-align: middle" data-sort="${line.lineno}">`;
  if (propose_optimizations && showExplosion) {
      s += `<span style="vertical-align: middle; cursor: pointer" title="Propose an optimization for the entire region starting here." onclick="proposeOptimizationRegion('${escape(filename)}', ${file_number}, ${parseInt(
      line.lineno
    )}); event.preventDefault()">${regionOptimizationString}</span>`;
  } else {
    s += regionOptimizationString;
  }

  const lineOptimizationString = propose_optimizations
    ? `${Lightning}`
    : `${WhiteLightning}`;
  if (propose_optimizations) {
      s += `<span style="vertical-align: middle; cursor: pointer" title="Propose an optimization for this line." onclick="proposeOptimizationLine('${escape(filename)}', ${file_number}, ${parseInt(
      line.lineno
    )}); event.preventDefault()">${lineOptimizationString}</span>`;
  } else {
    s += lineOptimizationString;
  }
  s += `<pre style="height: 10; display: inline; white-space: pre-wrap; overflow-x: auto; border: 0px; vertical-align: middle"><code class="language-python ${empty_profile}">${codeLine}<span id="code-${file_number}-${line.lineno}" bgcolor="white"></span></code></pre></td>`;
  s += "</tr>";
  return s;
}

function buildAllocationMaps(prof, f) {
  let averageMallocs = {};
  let peakMallocs = {};
  for (const line of prof.files[f].lines) {
    const avg = parseFloat(line.n_avg_mb);
    if (!averageMallocs[avg]) {
      averageMallocs[avg] = [];
    }
    averageMallocs[avg].push(line.lineno);
    const peak = parseFloat(line.n_peak_mb);
    if (!peakMallocs[peak]) {
      peakMallocs[peak] = [];
    }
    peakMallocs[peak].push(line.lineno);
  }
  return [averageMallocs, peakMallocs];
}

// Track all profile ids so we can collapse and expand them en masse.
let allIDs = [];

function collapseAll() {
  for (const id of allIds) {
    collapseDisplay(id);
  }
}

function expandAll() {
  for (const id of allIds) {
    expandDisplay(id);
  }
}

function collapseDisplay(id) {
  const d = document.getElementById(`profile-${id}`);
  d.style.display = "none";
  document.getElementById(`button-${id}`).innerHTML = RightTriangle;
}

function expandDisplay(id) {
  const d = document.getElementById(`profile-${id}`);
  d.style.display = "block";
  document.getElementById(`button-${id}`).innerHTML = DownTriangle;
}

function toggleDisplay(id) {
  const d = document.getElementById(`profile-${id}`);
  if (d.style.display == "block") {
    d.style.display = "none";
    document.getElementById(`button-${id}`).innerHTML = RightTriangle;
  } else {
    d.style.display = "block";
    document.getElementById(`button-${id}`).innerHTML = DownTriangle;
  }
}

async function display(prof) {
  // Clear explosions.
  showedExplosion = {};
    // Restore the API key from local storage (if any).
    let old_key = '';
    old_key = window.localStorage.getItem("scalene-api-key");
    
  if (old_key) {
    document.getElementById("api-key").value = old_key;
    // Update the status.
    checkApiKey(old_key);
  }

    // Restore the old GPU toggle from local storage (if any).
    const gpu_checkbox = document.getElementById('use-gpu-checkbox')
    old_gpu_checkbox = window.localStorage.getItem("scalene-gpu-checkbox");
    if (old_gpu_checkbox) {
	if (gpu_checkbox.checked.toString() != old_gpu_checkbox) {
	    gpu_checkbox.click();
	}
    } else {
	// Set the GPU checkbox on if the profile indicated the presence of a GPU.
	if (gpu_checkbox.checked != prof.gpu) {
	    gpu_checkbox.click();
	}
    }
  globalThis.profile = prof;
  let memory_sparklines = [];
  let memory_activity = [];
  let cpu_bars = [];
  let gpu_pies = [];
  let memory_bars = [];
  let tableID = 0;
  let s = "";
  s += '<span class="row justify-content-center">';
  s += '<span class="col-auto">';
  s += '<table width="50%" class="table text-center table-condensed">';
  s += "<tr>";
  s += `<td><font style="font-size: small"><b>Time:</b> <font color="darkblue">Python</font> | <font color="#6495ED">native</font> | <font color="blue">system</font><br /></font></td>`;
  s += '<td width="10"></td>';
  if (prof.memory) {
    s += `<td><font style="font-size: small"><b>Memory:</b> <font color="darkgreen">Python</font> | <font color="#50C878">native</font><br /></font></td>`;
    s += '<td width="10"></td>';
    s += '<td valign="middle" style="vertical-align: middle">';
    s += `<font style="font-size: small"><b>Memory timeline: </b>(max: ${memory_consumed_str(
      prof.max_footprint_mb
    )}, growth: ${prof.growth_rate.toFixed(1)}%)</font>`;
    s += "</td>";
  }
  s += "</tr>";
  s += "<tr>";
  s +=
    '<td height="10"><span style="height: 20; width: 200; vertical-align: middle" id="cpu_bar0"></span></td>';
  s += "<td></td>";
  if (prof.memory) {
    s +=
      '<td height="20"><span style="height: 20; width: 150; vertical-align: middle" id="memory_bar0"></span></td>';
    s += "<td></td>";
    s +=
      '<td align="left"><span style="vertical-align: middle" id="memory_sparkline0"></span></td>';
    memory_sparklines.push(
      makeSparkline(
        prof.samples,
        prof.elapsed_time_sec * 1e9,
        prof.max_footprint_mb,
        0,
        20,
        200
      )
    );
  }
  s += "</tr>";

  // Compute overall usage.
  let cpu_python = 0;
  let cpu_native = 0;
  let cpu_system = 0;
  let mem_python = 0;
  let mem_native = 0;
  let max_alloc = 0;
  for (const f in prof.files) {
    let cp = 0;
    let cn = 0;
    let cs = 0;
    let mp = 0;
    for (const l in prof.files[f].lines) {
      const line = prof.files[f].lines[l];
      cp += line.n_cpu_percent_python;
      cn += line.n_cpu_percent_c;
      cs += line.n_sys_percent;
      mp += line.n_malloc_mb * line.n_python_fraction;
      max_alloc += line.n_malloc_mb;
    }
    cpu_python += cp;
    cpu_native += cn;
    cpu_system += cs;
    mem_python += mp;
  }
  cpu_bars.push(makeBar(cpu_python, cpu_native, cpu_system));
  if (prof.memory) {
    memory_bars.push(
      makeMemoryBar(
        max_alloc,
        "memory",
        mem_python / max_alloc,
        max_alloc,
        "darkgreen"
      )
    );
  }

    
  s += '<tr><td colspan="10">';
  s += `<span class="text-center"><font style="font-size: 90%; font-style: italic; font-color: darkgray">hover over bars to see breakdowns; click on <font style="font-variant:small-caps; text-decoration:underline">column headers</font> to sort.</font></span>`;
  s += "</td></tr>";
  s += "</table>";
  s += "</span>";
  s += "</span>";

  s +=
    '<br class="text-left"><span style="font-size: 80%; color: blue; cursor : pointer;" onClick="expandAll()">&nbsp;show all</span> | <span style="font-size: 80%; color: blue; cursor : pointer;" onClick="collapseAll()">hide all</span>';
  s += ` | <span style="font-size: 80%; color: blue" onClick="document.getElementById('reduce-checkbox').click()">only display profiled lines&nbsp;</span><input type="checkbox" id="reduce-checkbox" checked onClick="toggleReduced()" /></br>`;
  s += '<div class="container-fluid">';

  // Convert files to an array and sort it in descending order by percent of CPU time.
  let files = Object.entries(prof.files);
  files.sort((x, y) => {
    return y[1].percent_cpu_time - x[1].percent_cpu_time;
  });

  // Print profile for each file
  let fileIteration = 0;
  allIds = [];
  for (const ff of files) {
    const id = `file-${fileIteration}`;
    allIds.push(id);
      s += '<p class="text-left sticky-top bg-white bg-opacity-75" style="backdrop-filter: blur(2px);">';
    s += `<span id="button-${id}" title="Click to show or hide profile." style="cursor: pointer; color: blue" onClick="toggleDisplay('${id}')">`;
    s += `${DownTriangle}`;
    s += "</span>";
    s += `<font style="font-size: 90%"><code>${
      ff[0]
    }</code>: % of time = ${ff[1].percent_cpu_time.toFixed(
      1
    )}% (${time_consumed_str(
      (ff[1].percent_cpu_time / 100.0) * prof.elapsed_time_sec * 1e3
    )}) out of ${time_consumed_str(prof.elapsed_time_sec * 1e3)}.</font></p>`;
    s += `<div style="display: block" id="profile-${id}">`;
    s += `<table class="profile table table-hover table-condensed" id="table-${tableID}">`;
    tableID++;
      s += makeTableHeader(ff[0], prof.gpu, prof.memory, { functions: false });
    s += "<tbody>";
    // Print per-line profiles.
    let prevLineno = -1;
    for (const l in ff[1].lines) {
	const line = ff[1].lines[l];
	
      if (false) {
        // Disabling spacers
        // Add a space whenever we skip a line.
        if (line.lineno > prevLineno + 1) {
          s += "<tr>";
          for (let i = 0; i < columns.length; i++) {
            s += "<td></td>";
          }
          s += `<td class="F${
            escape(ff[0])
          }-blankline" style="line-height: 1px; background-color: lightgray" data-sort="${
            prevLineno + 1
          }">&nbsp;</td>`;
          s += "</tr>";
        }
      }
      prevLineno = line.lineno;
      s += makeProfileLine(
        line,
        ff[0],
        fileIteration,
        prof,
        cpu_bars,
        memory_bars,
        memory_sparklines,
        memory_activity,
        gpu_pies,
        true
      );
    }
    s += "</tbody>";
    s += "</table>";
    // Print out function summaries.
    if (prof.files[ff[0]].functions.length) {
      s += `<table class="profile table table-hover table-condensed" id="table-${tableID}">`;
	s += makeTableHeader(ff[0], prof.gpu, prof.memory, { functions: true });
      s += "<tbody>";
      tableID++;
      for (const l in prof.files[ff[0]].functions) {
        const line = prof.files[ff[0]].functions[l];
        s += makeProfileLine(
          line,
          ff[0],
          fileIteration,
          prof,
          cpu_bars,
          memory_bars,
          memory_sparklines,
          memory_activity,
          gpu_pies,
          false // no optimizations here
        );
      }
      s += "</table>";
    }
    s += "</div>";
    fileIteration++;
    // Insert empty lines between files.
    if (fileIteration < files.length) {
      s += "<hr>";
    }
  }
  s += "</div>";
  const p = document.getElementById("profile");
  p.innerHTML = s;

  // Logic for turning on and off the gray line separators.

  // If you click on any header to sort (except line profiles), turn gray lines off.
  for (const ff of files) {
      const allHeaders = document.getElementsByClassName(`F${escape(ff[0])}-nonline`);
    for (let i = 0; i < allHeaders.length; i++) {
      allHeaders[i].addEventListener("click", (e) => {
          const all = document.getElementsByClassName(`F${escape(ff[0])}-blankline`);
        for (let i = 0; i < all.length; i++) {
          all[i].style.display = "none";
        }
      });
    }
  }

  // If you click on the line profile header, and gray lines are off, turn them back on.
  for (const ff of files) {
    document
	  .getElementById(`${escape(ff[0])}-lineProfile`)
      .addEventListener("click", (e) => {
          const all = document.getElementsByClassName(`F${escape(ff[0])}-blankline`);
        for (let i = 0; i < all.length; i++) {
          if (all[i].style.display === "none") {
            all[i].style.display = "block";
          }
        }
      });
  }

  for (let i = 0; i < tableID; i++) {
    new Tablesort(document.getElementById(`table-${i}`), { ascending: true });
  }
  memory_sparklines.forEach((p, index) => {
    if (p) {
      (async () => {
        await vegaEmbed(`#memory_sparkline${index}`, p, {
          actions: false,
          renderer: "svg",
        });
      })();
    }
  });
  cpu_bars.forEach((p, index) => {
    if (p) {
      (async () => {
        await vegaEmbed(`#cpu_bar${index}`, p, { actions: false });
      })();
    }
  });
  gpu_pies.forEach((p, index) => {
    if (p) {
      (async () => {
        await vegaEmbed(`#gpu_pie${index}`, p, { actions: false });
      })();
    }
  });
  memory_activity.forEach((p, index) => {
    if (p) {
      (async () => {
        await vegaEmbed(`#memory_activity${index}`, p, { actions: false });
      })();
    }
  });
  memory_bars.forEach((p, index) => {
    if (p) {
      (async () => {
        await vegaEmbed(`#memory_bar${index}`, p, { actions: false });
      })();
    }
  });
  // Hide all empty profiles by default.
  hideEmptyProfiles();
  if (prof.program) {
    document.title = "Scalene - " + prof.program;
  } else {
    document.title = "Scalene";
  }
}

function load(profile) {
  (async () => {
    // let resp = await fetch(jsonFile);
    // let prof = await resp.json();
    await display(profile);
  })();
}

function loadFetch() {
  (async () => {
    let resp = await fetch("profile.json");
    let profile = await resp.json();
    load(profile);
  })();
}

function loadFile() {
  const input = document.getElementById("fileinput");
  const file = input.files[0];
  const fr = new FileReader();
  fr.onload = doSomething;
  fr.readAsText(file);
}

function doSomething(e) {
  let lines = e.target.result;
  const profile = JSON.parse(lines);
  load(profile);
}

function loadDemo() {
  load(example_profile);
}

      window.addEventListener("load", () => load(profile));
      //load(profile);
    </script>
      <nav class="navbar fixed-bottom navbar-default justify-content-center bg-light bg-opacity-75" style="backdrop-filter: blur(2px);">
	<div class="container justify-content-center">
	  <p class="text-center">
	    <font style="font-size:small">
	      <a href="https://github.com/plasma-umass/scalene">Scalene</a> version 1.5.27, released 2023.09.01
	      &nbsp;|&nbsp;
	      <a href="https://github.com/plasma-umass/scalene/issues/58">share your Scalene success stories here</a>
	    </font>
	  </p>
	</div>
      </nav>
  </body>
</html>